(()=>{function $g(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function lA(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var je={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},rI={duration:.5,overwrite:!1,delay:0},or,We,Jt,ug=1e8,Tt=1/ug,jn=Math.PI*2,Gl=jn/4,Bl=0,uA=Math.sqrt,Zl=Math.cos,yl=Math.sin,ce=function(t){return typeof t=="string"},qt=function(t){return typeof t=="function"},ei=function(t){return typeof t=="number"},RC=function(t){return typeof t>"u"},kg=function(t){return typeof t=="object"},Qe=function(t){return t!==!1},Ar=function(){return typeof window<"u"},DC=function(t){return qt(t)||ce(t)},cA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ye=Array.isArray,qn=/(?:-?\.?\d|\.)+/gi,sr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Hi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Pn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ar=/[+-]=-?[.\d]+/,hA=/[^,'"\[\]\s]+/gi,Dl=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ut,Xg,$n,lr,Cg={},WC={},dA,pA=function(t){return(WC=Xi(t,Cg))&&Ke},FC=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},kI=function(t,e){return!e&&console.warn(t)},mA=function(t,e){return t&&(Cg[t]=e)&&WC&&(WC[t]=e)||Cg},LI=function(){return 0},Sl={suppressEvents:!0,isStart:!0,kill:!1},SC={suppressEvents:!0,kill:!1},wl={suppressEvents:!0},ur={},hi=[],tr={},fA,Oe={},Mn={},CA=30,wC=[],cr="",hr=function(t){var e=t[0],g,i;if(kg(e)||qt(e)||(t=[t]),!(g=(e._gsap||{}).harness)){for(i=wC.length;i--&&!wC[i].targetTest(e););g=wC[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new mr(t[i],g)))||t.splice(i,1);return t},di=function(t){return t._gsap||hr(cg(t))[0]._gsap},dr=function(t,e,g){return(g=t[e])&&qt(g)?t[e]():RC(g)&&t.getAttribute&&t.getAttribute(e)||g},He=function(t,e){return(t=t.split(",")).forEach(e)||t},$t=function(t){return Math.round(t*1e5)/1e5||0},fe=function(t){return Math.round(t*1e7)/1e7||0},ki=function(t,e){var g=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),g==="+"?t+i:g==="-"?t-i:g==="*"?t*i:t/i},_l=function(t,e){for(var g=e.length,i=0;t.indexOf(e[i])<0&&++i<g;);return i<g},YC=function(){var t=hi.length,e=hi.slice(0),g,i;for(tr={},hi.length=0,g=0;g<t;g++)i=e[g],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},bA=function(t,e,g,i){hi.length&&!We&&YC(),t.render(e,g,i||We&&e<0&&(t._initted||t._startAt)),hi.length&&!We&&YC()},GA=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(hA).length<2?e:ce(t)?t.trim():t},BA=function(t){return t},hg=function(t,e){for(var g in e)g in t||(t[g]=e[g]);return t},Wl=function(t){return function(e,g){for(var i in g)i in e||i==="duration"&&t||i==="ease"||(e[i]=g[i])}},Xi=function(t,e){for(var g in e)t[g]=e[g];return t},nA=function n(t,e){for(var g in e)g!=="__proto__"&&g!=="constructor"&&g!=="prototype"&&(t[g]=kg(e[g])?n(t[g]||(t[g]={}),e[g]):e[g]);return t},KC=function(t,e){var g={},i;for(i in t)i in e||(g[i]=t[i]);return g},FI=function(t){var e=t.parent||Ut,g=t.keyframes?Wl(Ye(t.keyframes)):hg;if(Qe(t.inherit))for(;e;)g(t,e.vars.defaults),e=e.parent||e._dp;return t},Yl=function(t,e){for(var g=t.length,i=g===e.length;i&&g--&&t[g]===e[g];);return g<0},ZA=function(t,e,g,i,I){g===void 0&&(g="_first"),i===void 0&&(i="_last");var C=t[i],r;if(I)for(r=e[I];C&&C[I]>r;)C=C._prev;return C?(e._next=C._next,C._next=e):(e._next=t[g],t[g]=e),e._next?e._next._prev=e:t[i]=e,e._prev=C,e.parent=e._dp=t,e},XC=function(t,e,g,i){g===void 0&&(g="_first"),i===void 0&&(i="_last");var I=e._prev,C=e._next;I?I._next=C:t[g]===e&&(t[g]=C),C?C._prev=I:t[i]===e&&(t[i]=I),e._next=e._prev=e.parent=null},pi=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},vi=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var g=t;g;)g._dirty=1,g=g.parent;return t},Kl=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},er=function(t,e,g,i){return t._startAt&&(We?t._startAt.revert(SC):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,i))},Vl=function n(t){return!t||t._ts&&n(t.parent)},rA=function(t){return t._repeat?oI(t._tTime,t=t.duration()+t._rDelay)*t:0},oI=function(t,e){var g=Math.floor(t/=e);return t&&g===t?g-1:g},VC=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},HC=function(t){return t._end=fe(t._start+(t._tDur/Math.abs(t._ts||t._rts||Tt)||0))},kC=function(t,e){var g=t._dp;return g&&g.smoothChildTiming&&t._ts&&(t._start=fe(g._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),HC(t),g._dirty||vi(g,t)),t},yA=function(t,e){var g;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(g=VC(t.rawTime(),e),(!e._dur||EI(0,e.totalDuration(),g)-e._tTime>Tt)&&e.render(g,!0)),vi(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(g=t;g._dp;)g.rawTime()>=0&&g.totalTime(g._tTime),g=g._dp;t._zTime=-Tt}},Hg=function(t,e,g,i){return e.parent&&pi(e),e._start=fe((ei(g)?g:g||t!==Ut?lg(t,g,e):t._time)+e._delay),e._end=fe(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),ZA(t,e,"_first","_last",t._sort?"_start":0),gr(e)||(t._recent=e),i||yA(t,e),t._ts<0&&kC(t,t._tTime),t},DA=function(t,e){return(Cg.ScrollTrigger||FC("scrollTrigger",e))&&Cg.ScrollTrigger.create(e,t)},SA=function(t,e,g,i,I){if(Gr(t,e,I),!t._initted)return 1;if(!g&&t._pt&&!We&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&fA!==Ue.frame)return hi.push(t),t._lazy=[I,i],1},vl=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},gr=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},Rl=function(t,e,g,i){var I=t.ratio,C=e<0||!e&&(!t._start&&vl(t)&&!(!t._initted&&gr(t))||(t._ts<0||t._dp._ts<0)&&!gr(t))?0:1,r=t._rDelay,o=0,A,s,u;if(r&&t._repeat&&(o=EI(0,t._tDur,e),s=oI(o,r),t._yoyo&&s&1&&(C=1-C),s!==oI(t._tTime,r)&&(I=1-C,t.vars.repeatRefresh&&t._initted&&t.invalidate())),C!==I||We||i||t._zTime===Tt||!e&&t._zTime){if(!t._initted&&SA(t,e,i,g,o))return;for(u=t._zTime,t._zTime=e||(g?Tt:0),g||(g=e&&!u),t.ratio=C,t._from&&(C=1-C),t._time=0,t._tTime=o,A=t._pt;A;)A.r(C,A.d),A=A._next;e<0&&er(t,e,g,!0),t._onUpdate&&!g&&Ig(t,"onUpdate"),o&&t._repeat&&!g&&t.parent&&Ig(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===C&&(C&&pi(t,1),!g&&!We&&(Ig(t,C?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},Fl=function(t,e,g){var i;if(g>e)for(i=t._first;i&&i._start<=g;){if(i.data==="isPause"&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=g;){if(i.data==="isPause"&&i._start<e)return i;i=i._prev}},AI=function(t,e,g,i){var I=t._repeat,C=fe(e)||0,r=t._tTime/t._tDur;return r&&!i&&(t._time*=C/t._dur),t._dur=C,t._tDur=I?I<0?1e10:fe(C*(I+1)+t._rDelay*I):C,r>0&&!i&&kC(t,t._tTime=t._tDur*r),t.parent&&HC(t),g||vi(t.parent,t),t},oA=function(t){return t instanceof Se?vi(t):AI(t,t._dur)},Xl={_start:0,endTime:LI,totalDuration:LI},lg=function n(t,e,g){var i=t.labels,I=t._recent||Xl,C=t.duration()>=ug?I.endTime(!1):t._dur,r,o,A;return ce(e)&&(isNaN(e)||e in i)?(o=e.charAt(0),A=e.substr(-1)==="%",r=e.indexOf("="),o==="<"||o===">"?(r>=0&&(e=e.replace(/=/,"")),(o==="<"?I._start:I.endTime(I._repeat>=0))+(parseFloat(e.substr(1))||0)*(A?(r<0?I:g).totalDuration()/100:1)):r<0?(e in i||(i[e]=C),i[e]):(o=parseFloat(e.charAt(r-1)+e.substr(r+1)),A&&g&&(o=o/100*(Ye(g)?g[0]:g).totalDuration()),r>1?n(t,e.substr(0,r-1),g)+o:C+o)):e==null?C:+e},XI=function(t,e,g){var i=ei(e[1]),I=(i?2:1)+(t<2?0:1),C=e[I],r,o;if(i&&(C.duration=e[1]),C.parent=g,t){for(r=C,o=g;o&&!("immediateRender"in r);)r=o.vars.defaults||{},o=Qe(o.vars.inherit)&&o.parent;C.immediateRender=Qe(r.immediateRender),t<2?C.runBackwards=1:C.startAt=e[I-1]}return new Ce(e[0],C,e[I+1])},mi=function(t,e){return t||t===0?e(t):e},EI=function(t,e,g){return g<t?t:g>e?e:g},we=function(t,e){return!ce(t)||!(e=Dl.exec(t))?"":e[1]},Hl=function(t,e,g){return mi(g,function(i){return EI(t,e,i)})},ir=[].slice,wA=function(t,e){return t&&kg(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&kg(t[0]))&&!t.nodeType&&t!==Xg},kl=function(t,e,g){return g===void 0&&(g=[]),t.forEach(function(i){var I;return ce(i)&&!e||wA(i,1)?(I=g).push.apply(I,cg(i)):g.push(i)})||g},cg=function(t,e,g){return Jt&&!e&&Jt.selector?Jt.selector(t):ce(t)&&!g&&($n||!sI())?ir.call((e||lr).querySelectorAll(t),0):Ye(t)?kl(t,g):wA(t)?ir.call(t,0):t?[t]:[]},Ir=function(t){return t=cg(t)[0]||kI("Invalid scope")||{},function(e){var g=t.current||t.nativeElement||t;return cg(e,g.querySelectorAll?g:g===t?kI("Invalid scope")||lr.createElement("div"):t)}},_A=function(t){return t.sort(function(){return .5-Math.random()})},WA=function(t){if(qt(t))return t;var e=kg(t)?t:{each:t},g=Ri(e.ease),i=e.from||0,I=parseFloat(e.base)||0,C={},r=i>0&&i<1,o=isNaN(i)||r,A=e.axis,s=i,u=i;return ce(i)?s=u={center:.5,edges:.5,end:1}[i]||0:!r&&o&&(s=i[0],u=i[1]),function(d,c,m){var h=(m||e).length,b=C[h],B,Z,G,D,w,K,_,F,V;if(!b){if(V=e.grid==="auto"?0:(e.grid||[1,ug])[1],!V){for(_=-ug;_<(_=m[V++].getBoundingClientRect().left)&&V<h;);V<h&&V--}for(b=C[h]=[],B=o?Math.min(V,h)*s-.5:i%V,Z=V===ug?0:o?h*u/V-.5:i/V|0,_=0,F=ug,K=0;K<h;K++)G=K%V-B,D=Z-(K/V|0),b[K]=w=A?Math.abs(A==="y"?D:G):uA(G*G+D*D),w>_&&(_=w),w<F&&(F=w);i==="random"&&_A(b),b.max=_-F,b.min=F,b.v=h=(parseFloat(e.amount)||parseFloat(e.each)*(V>h?h-1:A?A==="y"?h/V:V:Math.max(V,h/V))||0)*(i==="edges"?-1:1),b.b=h<0?I-h:I,b.u=we(e.amount||e.each)||0,g=g&&h<0?kA(g):g}return h=(b[d]-b.min)/b.max||0,fe(b.b+(g?g(h):h)*b.v)+b.u}},Cr=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(g){var i=fe(Math.round(parseFloat(g)/t)*t*e);return(i-i%1)/e+(ei(g)?0:we(g))}},YA=function(t,e){var g=Ye(t),i,I;return!g&&kg(t)&&(i=g=t.radius||ug,t.values?(t=cg(t.values),(I=!ei(t[0]))&&(i*=i)):t=Cr(t.increment)),mi(e,g?qt(t)?function(C){return I=t(C),Math.abs(I-C)<=i?I:C}:function(C){for(var r=parseFloat(I?C.x:C),o=parseFloat(I?C.y:0),A=ug,s=0,u=t.length,d,c;u--;)I?(d=t[u].x-r,c=t[u].y-o,d=d*d+c*c):d=Math.abs(t[u]-r),d<A&&(A=d,s=u);return s=!i||A<=i?t[s]:C,I||s===C||ei(C)?s:s+we(C)}:Cr(t))},KA=function(t,e,g,i){return mi(Ye(t)?!e:g===!0?!!(g=0):!i,function(){return Ye(t)?t[~~(Math.random()*t.length)]:(g=g||1e-5)&&(i=g<1?Math.pow(10,(g+"").length-2):1)&&Math.floor(Math.round((t-g/2+Math.random()*(e-t+g*.99))/g)*g*i)/i})},Ll=function(){for(var t=arguments.length,e=new Array(t),g=0;g<t;g++)e[g]=arguments[g];return function(i){return e.reduce(function(I,C){return C(I)},i)}},Nl=function(t,e){return function(g){return t(parseFloat(g))+(e||we(g))}},Tl=function(t,e,g){return vA(t,e,0,1,g)},VA=function(t,e,g){return mi(g,function(i){return t[~~e(i)]})},El=function n(t,e,g){var i=e-t;return Ye(t)?VA(t,n(0,t.length),e):mi(g,function(I){return(i+(I-t)%i)%i+t})},xl=function n(t,e,g){var i=e-t,I=i*2;return Ye(t)?VA(t,n(0,t.length-1),e):mi(g,function(C){return C=(I+(C-t)%I)%I||0,t+(C>i?I-C:C)})},aI=function(t){for(var e=0,g="",i,I,C,r;~(i=t.indexOf("random(",e));)C=t.indexOf(")",i),r=t.charAt(i+7)==="[",I=t.substr(i+7,C-i-7).match(r?hA:qn),g+=t.substr(e,i-e)+KA(r?I:+I[0],r?0:+I[1],+I[2]||1e-5),e=C+1;return g+t.substr(e,t.length-e)},vA=function(t,e,g,i,I){var C=e-t,r=i-g;return mi(I,function(o){return g+((o-t)/C*r||0)})},Pl=function n(t,e,g,i){var I=isNaN(t+e)?0:function(c){return(1-c)*t+c*e};if(!I){var C=ce(t),r={},o,A,s,u,d;if(g===!0&&(i=1)&&(g=null),C)t={p:t},e={p:e};else if(Ye(t)&&!Ye(e)){for(s=[],u=t.length,d=u-2,A=1;A<u;A++)s.push(n(t[A-1],t[A]));u--,I=function(m){m*=u;var h=Math.min(d,~~m);return s[h](m-h)},g=e}else i||(t=Xi(Ye(t)?[]:{},t));if(!s){for(o in e)fr.call(r,t,o,"get",e[o]);I=function(m){return yr(m,r)||(C?t.p:t)}}}return mi(g,I)},AA=function(t,e,g){var i=t.labels,I=ug,C,r,o;for(C in i)r=i[C]-e,r<0==!!g&&r&&I>(r=Math.abs(r))&&(o=C,I=r);return o},Ig=function(t,e,g){var i=t.vars,I=i[e],C=Jt,r=t._ctx,o,A,s;if(I)return o=i[e+"Params"],A=i.callbackScope||t,g&&hi.length&&YC(),r&&(Jt=r),s=o?I.apply(A,o):I.call(A),Jt=C,s},vI=function(t){return pi(t),t.scrollTrigger&&t.scrollTrigger.kill(!!We),t.progress()<1&&Ig(t,"onInterrupt"),t},nI,RA=[],FA=function(t){if(t)if(t=!t.name&&t.default||t,Ar()||t.headless){var e=t.name,g=qt(t),i=e&&!g&&t.init?function(){this._props=[]}:t,I={init:LI,render:yr,add:fr,kill:nu,modifier:Cu,rawVars:0},C={targetTest:0,get:0,getSetter:LC,aliases:{},register:0};if(sI(),t!==i){if(Oe[e])return;hg(i,hg(KC(t,I),C)),Xi(i.prototype,Xi(I,KC(t,C))),Oe[i.prop=e]=i,t.targetTest&&(wC.push(i),ur[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}mA(e,i),t.register&&t.register(Ke,i,ke)}else RA.push(t)},Xt=255,RI={aqua:[0,Xt,Xt],lime:[0,Xt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xt],navy:[0,0,128],white:[Xt,Xt,Xt],olive:[128,128,0],yellow:[Xt,Xt,0],orange:[Xt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xt,0,0],pink:[Xt,192,203],cyan:[0,Xt,Xt],transparent:[Xt,Xt,Xt,0]},Jn=function(t,e,g){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(g-e)*t*6:t<.5?g:t*3<2?e+(g-e)*(2/3-t)*6:e)*Xt+.5|0},XA=function(t,e,g){var i=t?ei(t)?[t>>16,t>>8&Xt,t&Xt]:0:RI.black,I,C,r,o,A,s,u,d,c,m;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),RI[t])i=RI[t];else if(t.charAt(0)==="#"){if(t.length<6&&(I=t.charAt(1),C=t.charAt(2),r=t.charAt(3),t="#"+I+I+C+C+r+r+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&Xt,i&Xt,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&Xt,t&Xt]}else if(t.substr(0,3)==="hsl"){if(i=m=t.match(qn),!e)o=+i[0]%360/360,A=+i[1]/100,s=+i[2]/100,C=s<=.5?s*(A+1):s+A-s*A,I=s*2-C,i.length>3&&(i[3]*=1),i[0]=Jn(o+1/3,I,C),i[1]=Jn(o,I,C),i[2]=Jn(o-1/3,I,C);else if(~t.indexOf("="))return i=t.match(sr),g&&i.length<4&&(i[3]=1),i}else i=t.match(qn)||RI.transparent;i=i.map(Number)}return e&&!m&&(I=i[0]/Xt,C=i[1]/Xt,r=i[2]/Xt,u=Math.max(I,C,r),d=Math.min(I,C,r),s=(u+d)/2,u===d?o=A=0:(c=u-d,A=s>.5?c/(2-u-d):c/(u+d),o=u===I?(C-r)/c+(C<r?6:0):u===C?(r-I)/c+2:(I-C)/c+4,o*=60),i[0]=~~(o+.5),i[1]=~~(A*100+.5),i[2]=~~(s*100+.5)),g&&i.length<4&&(i[3]=1),i},HA=function(t){var e=[],g=[],i=-1;return t.split(ti).forEach(function(I){var C=I.match(Hi)||[];e.push.apply(e,C),g.push(i+=C.length+1)}),e.c=g,e},sA=function(t,e,g){var i="",I=(t+i).match(ti),C=e?"hsla(":"rgba(",r=0,o,A,s,u;if(!I)return t;if(I=I.map(function(d){return(d=XA(d,e,1))&&C+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),g&&(s=HA(t),o=g.c,o.join(i)!==s.c.join(i)))for(A=t.replace(ti,"1").split(Hi),u=A.length-1;r<u;r++)i+=A[r]+(~o.indexOf(r)?I.shift()||C+"0,0,0,0)":(s.length?s:I.length?I:g).shift());if(!A)for(A=t.split(ti),u=A.length-1;r<u;r++)i+=A[r]+I[r];return i+A[u]},ti=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in RI)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),Ml=/hsl[a]?\(/,pr=function(t){var e=t.join(" "),g;if(ti.lastIndex=0,ti.test(e))return g=Ml.test(e),t[1]=sA(t[1],g),t[0]=sA(t[0],g,HA(t[1])),!0},NI,Ue=function(){var n=Date.now,t=500,e=33,g=n(),i=g,I=1e3/240,C=I,r=[],o,A,s,u,d,c,m=function h(b){var B=n()-i,Z=b===!0,G,D,w,K;if((B>t||B<0)&&(g+=B-e),i+=B,w=i-g,G=w-C,(G>0||Z)&&(K=++u.frame,d=w-u.time*1e3,u.time=w=w/1e3,C+=G+(G>=I?4:I-G),D=1),Z||(o=A(h)),D)for(c=0;c<r.length;c++)r[c](w,d,K,b)};return u={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(b){return d/(1e3/(b||60))},wake:function(){dA&&(!$n&&Ar()&&(Xg=$n=window,lr=Xg.document||{},Cg.gsap=Ke,(Xg.gsapVersions||(Xg.gsapVersions=[])).push(Ke.version),pA(WC||Xg.GreenSockGlobals||!Xg.gsap&&Xg||{}),RA.forEach(FA)),s=typeof requestAnimationFrame<"u"&&requestAnimationFrame,o&&u.sleep(),A=s||function(b){return setTimeout(b,C-u.time*1e3+1|0)},NI=1,m(2))},sleep:function(){(s?cancelAnimationFrame:clearTimeout)(o),NI=0,A=LI},lagSmoothing:function(b,B){t=b||1/0,e=Math.min(B||33,t)},fps:function(b){I=1e3/(b||240),C=u.time*1e3+I},add:function(b,B,Z){var G=B?function(D,w,K,_){b(D,w,K,_),u.remove(G)}:b;return u.remove(b),r[Z?"unshift":"push"](G),sI(),G},remove:function(b,B){~(B=r.indexOf(b))&&r.splice(B,1)&&c>=B&&c--},_listeners:r},u}(),sI=function(){return!NI&&Ue.wake()},Bt={},Jl=/^[\d.\-M][\d.\-,\s]/,zl=/["']/g,Ol=function(t){for(var e={},g=t.substr(1,t.length-3).split(":"),i=g[0],I=1,C=g.length,r,o,A;I<C;I++)o=g[I],r=I!==C-1?o.lastIndexOf(","):o.length,A=o.substr(0,r),e[i]=isNaN(A)?A.replace(zl,"").trim():+A,i=o.substr(r+1).trim();return e},Ul=function(t){var e=t.indexOf("(")+1,g=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<g?t.indexOf(")",g+1):g)},Ql=function(t){var e=(t+"").split("("),g=Bt[e[0]];return g&&e.length>1&&g.config?g.config.apply(null,~t.indexOf("{")?[Ol(e[1])]:Ul(t).split(",").map(GA)):Bt._CE&&Jl.test(t)?Bt._CE("",t):g},kA=function(t){return function(e){return 1-t(1-e)}},LA=function n(t,e){for(var g=t._first,i;g;)g instanceof Se?n(g,e):g.vars.yoyoEase&&(!g._yoyo||!g._repeat)&&g._yoyo!==e&&(g.timeline?n(g.timeline,e):(i=g._ease,g._ease=g._yEase,g._yEase=i,g._yoyo=e)),g=g._next},Ri=function(t,e){return t&&(qt(t)?t:Bt[t]||Ql(t))||e},Li=function(t,e,g,i){g===void 0&&(g=function(o){return 1-e(1-o)}),i===void 0&&(i=function(o){return o<.5?e(o*2)/2:1-e((1-o)*2)/2});var I={easeIn:e,easeOut:g,easeInOut:i},C;return He(t,function(r){Bt[r]=Cg[r]=I,Bt[C=r.toLowerCase()]=g;for(var o in I)Bt[C+(o==="easeIn"?".in":o==="easeOut"?".out":".inOut")]=Bt[r+"."+o]=I[o]}),I},NA=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},zn=function n(t,e,g){var i=e>=1?e:1,I=(g||(t?.3:.45))/(e<1?e:1),C=I/jn*(Math.asin(1/i)||0),r=function(s){return s===1?1:i*Math.pow(2,-10*s)*yl((s-C)*I)+1},o=t==="out"?r:t==="in"?function(A){return 1-r(1-A)}:NA(r);return I=jn/I,o.config=function(A,s){return n(t,A,s)},o},On=function n(t,e){e===void 0&&(e=1.70158);var g=function(C){return C?--C*C*((e+1)*C+e)+1:0},i=t==="out"?g:t==="in"?function(I){return 1-g(1-I)}:NA(g);return i.config=function(I){return n(t,I)},i};He("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Li(n+",Power"+(e-1),t?function(g){return Math.pow(g,e)}:function(g){return g},function(g){return 1-Math.pow(1-g,e)},function(g){return g<.5?Math.pow(g*2,e)/2:1-Math.pow((1-g)*2,e)/2})});Bt.Linear.easeNone=Bt.none=Bt.Linear.easeIn;Li("Elastic",zn("in"),zn("out"),zn());(function(n,t){var e=1/t,g=2*e,i=2.5*e,I=function(r){return r<e?n*r*r:r<g?n*Math.pow(r-1.5/t,2)+.75:r<i?n*(r-=2.25/t)*r+.9375:n*Math.pow(r-2.625/t,2)+.984375};Li("Bounce",function(C){return 1-I(1-C)},I)})(7.5625,2.75);Li("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Li("Circ",function(n){return-(uA(1-n*n)-1)});Li("Sine",function(n){return n===1?1:-Zl(n*Gl)+1});Li("Back",On("in"),On("out"),On());Bt.SteppedEase=Bt.steps=Cg.SteppedEase={config:function(t,e){t===void 0&&(t=1);var g=1/t,i=t+(e?0:1),I=e?1:0,C=1-Tt;return function(r){return((i*EI(0,C,r)|0)+I)*g}}};rI.ease=Bt["quad.out"];He("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return cr+=n+","+n+"Params,"});var mr=function(t,e){this.id=Bl++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:dr,this.set=e?e.getSetter:LC},TI=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,AI(this,+e.duration,1,1),this.data=e.data,Jt&&(this._ctx=Jt,Jt.data.push(this)),NI||Ue.wake()}var t=n.prototype;return t.delay=function(g){return g||g===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+g-this._delay),this._delay=g,this):this._delay},t.duration=function(g){return arguments.length?this.totalDuration(this._repeat>0?g+(g+this._rDelay)*this._repeat:g):this.totalDuration()&&this._dur},t.totalDuration=function(g){return arguments.length?(this._dirty=0,AI(this,this._repeat<0?g:(g-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(g,i){if(sI(),!arguments.length)return this._tTime;var I=this._dp;if(I&&I.smoothChildTiming&&this._ts){for(kC(this,g),!I._dp||I.parent||yA(I,this);I&&I.parent;)I.parent._time!==I._start+(I._ts>=0?I._tTime/I._ts:(I.totalDuration()-I._tTime)/-I._ts)&&I.totalTime(I._tTime,!0),I=I.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&g<this._tDur||this._ts<0&&g>0||!this._tDur&&!g)&&Hg(this._dp,this,this._start-this._delay)}return(this._tTime!==g||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Tt||!g&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=g),bA(this,g,i)),this},t.time=function(g,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),g+rA(this))%(this._dur+this._rDelay)||(g?this._dur:0),i):this._time},t.totalProgress=function(g,i){return arguments.length?this.totalTime(this.totalDuration()*g,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(g,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-g:g)+rA(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(g,i){var I=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(g-1)*I,i):this._repeat?oI(this._tTime,I)+1:1},t.timeScale=function(g,i){if(!arguments.length)return this._rts===-Tt?0:this._rts;if(this._rts===g)return this;var I=this.parent&&this._ts?VC(this.parent._time,this):this._tTime;return this._rts=+g||0,this._ts=this._ps||g===-Tt?0:this._rts,this.totalTime(EI(-Math.abs(this._delay),this._tDur,I),i!==!1),HC(this),Kl(this)},t.paused=function(g){return arguments.length?(this._ps!==g&&(this._ps=g,g?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(sI(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Tt&&(this._tTime-=Tt)))),this):this._ps},t.startTime=function(g){if(arguments.length){this._start=g;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Hg(i,this,g-this._delay),this}return this._start},t.endTime=function(g){return this._start+(Qe(g)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(g){var i=this.parent||this._dp;return i?g&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?VC(i.rawTime(g),this):this._tTime:this._tTime},t.revert=function(g){g===void 0&&(g=wl);var i=We;return We=g,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(g),this.totalTime(-.01,g.suppressEvents)),this.data!=="nested"&&g.kill!==!1&&this.kill(),We=i,this},t.globalTime=function(g){for(var i=this,I=arguments.length?g:i.rawTime();i;)I=i._start+I/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(g):I},t.repeat=function(g){return arguments.length?(this._repeat=g===1/0?-2:g,oA(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(g){if(arguments.length){var i=this._time;return this._rDelay=g,oA(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(g){return arguments.length?(this._yoyo=g,this):this._yoyo},t.seek=function(g,i){return this.totalTime(lg(this,g),Qe(i))},t.restart=function(g,i){return this.play().totalTime(g?-this._delay:0,Qe(i))},t.play=function(g,i){return g!=null&&this.seek(g,i),this.reversed(!1).paused(!1)},t.reverse=function(g,i){return g!=null&&this.seek(g||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(g,i){return g!=null&&this.seek(g,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(g){return arguments.length?(!!g!==this.reversed()&&this.timeScale(-this._rts||(g?-Tt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Tt,this},t.isActive=function(){var g=this.parent||this._dp,i=this._start,I;return!!(!g||this._ts&&this._initted&&g.isActive()&&(I=g.rawTime(!0))>=i&&I<this.endTime(!0)-Tt)},t.eventCallback=function(g,i,I){var C=this.vars;return arguments.length>1?(i?(C[g]=i,I&&(C[g+"Params"]=I),g==="onUpdate"&&(this._onUpdate=i)):delete C[g],this):C[g]},t.then=function(g){var i=this;return new Promise(function(I){var C=qt(g)?g:BA,r=function(){var A=i.then;i.then=null,qt(C)&&(C=C(i))&&(C.then||C===i)&&(i.then=A),I(C),i.then=A};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?r():i._prom=r})},t.kill=function(){vI(this)},n}();hg(TI.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Tt,_prom:0,_ps:!1,_rts:1});var Se=function(n){lA(t,n);function t(g,i){var I;return g===void 0&&(g={}),I=n.call(this,g)||this,I.labels={},I.smoothChildTiming=!!g.smoothChildTiming,I.autoRemoveChildren=!!g.autoRemoveChildren,I._sort=Qe(g.sortChildren),Ut&&Hg(g.parent||Ut,$g(I),i),g.reversed&&I.reverse(),g.paused&&I.paused(!0),g.scrollTrigger&&DA($g(I),g.scrollTrigger),I}var e=t.prototype;return e.to=function(i,I,C){return XI(0,arguments,this),this},e.from=function(i,I,C){return XI(1,arguments,this),this},e.fromTo=function(i,I,C,r){return XI(2,arguments,this),this},e.set=function(i,I,C){return I.duration=0,I.parent=this,FI(I).repeatDelay||(I.repeat=0),I.immediateRender=!!I.immediateRender,new Ce(i,I,lg(this,C),1),this},e.call=function(i,I,C){return Hg(this,Ce.delayedCall(0,i,I),C)},e.staggerTo=function(i,I,C,r,o,A,s){return C.duration=I,C.stagger=C.stagger||r,C.onComplete=A,C.onCompleteParams=s,C.parent=this,new Ce(i,C,lg(this,o)),this},e.staggerFrom=function(i,I,C,r,o,A,s){return C.runBackwards=1,FI(C).immediateRender=Qe(C.immediateRender),this.staggerTo(i,I,C,r,o,A,s)},e.staggerFromTo=function(i,I,C,r,o,A,s,u){return r.startAt=C,FI(r).immediateRender=Qe(r.immediateRender),this.staggerTo(i,I,r,o,A,s,u)},e.render=function(i,I,C){var r=this._time,o=this._dirty?this.totalDuration():this._tDur,A=this._dur,s=i<=0?0:fe(i),u=this._zTime<0!=i<0&&(this._initted||!A),d,c,m,h,b,B,Z,G,D,w,K,_;if(this!==Ut&&s>o&&i>=0&&(s=o),s!==this._tTime||C||u){if(r!==this._time&&A&&(s+=this._time-r,i+=this._time-r),d=s,D=this._start,G=this._ts,B=!G,u&&(A||(r=this._zTime),(i||!I)&&(this._zTime=i)),this._repeat){if(K=this._yoyo,b=A+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(b*100+i,I,C);if(d=fe(s%b),s===o?(h=this._repeat,d=A):(h=~~(s/b),h&&h===s/b&&(d=A,h--),d>A&&(d=A)),w=oI(this._tTime,b),!r&&this._tTime&&w!==h&&this._tTime-w*b-this._dur<=0&&(w=h),K&&h&1&&(d=A-d,_=1),h!==w&&!this._lock){var F=K&&w&1,V=F===(K&&h&1);if(h<w&&(F=!F),r=F?0:s%A?A:s,this._lock=1,this.render(r||(_?0:fe(h*b)),I,!A)._lock=0,this._tTime=s,!I&&this.parent&&Ig(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),r&&r!==this._time||B!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(A=this._dur,o=this._tDur,V&&(this._lock=2,r=F?A:-1e-4,this.render(r,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!B)return this;LA(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Z=Fl(this,fe(r),fe(d)),Z&&(s-=d-(d=Z._start))),this._tTime=s,this._time=d,this._act=!G,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,r=0),!r&&d&&!I&&!h&&(Ig(this,"onStart"),this._tTime!==s))return this;if(d>=r&&i>=0)for(c=this._first;c;){if(m=c._next,(c._act||d>=c._start)&&c._ts&&Z!==c){if(c.parent!==this)return this.render(i,I,C);if(c.render(c._ts>0?(d-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(d-c._start)*c._ts,I,C),d!==this._time||!this._ts&&!B){Z=0,m&&(s+=this._zTime=-Tt);break}}c=m}else{c=this._last;for(var v=i<0?i:d;c;){if(m=c._prev,(c._act||v<=c._end)&&c._ts&&Z!==c){if(c.parent!==this)return this.render(i,I,C);if(c.render(c._ts>0?(v-c._start)*c._ts:(c._dirty?c.totalDuration():c._tDur)+(v-c._start)*c._ts,I,C||We&&(c._initted||c._startAt)),d!==this._time||!this._ts&&!B){Z=0,m&&(s+=this._zTime=v?-Tt:Tt);break}}c=m}}if(Z&&!I&&(this.pause(),Z.render(d>=r?0:-Tt)._zTime=d>=r?1:-1,this._ts))return this._start=D,HC(this),this.render(i,I,C);this._onUpdate&&!I&&Ig(this,"onUpdate",!0),(s===o&&this._tTime>=this.totalDuration()||!s&&r)&&(D===this._start||Math.abs(G)!==Math.abs(this._ts))&&(this._lock||((i||!A)&&(s===o&&this._ts>0||!s&&this._ts<0)&&pi(this,1),!I&&!(i<0&&!r)&&(s||r||!o)&&(Ig(this,s===o&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(s<o&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(i,I){var C=this;if(ei(I)||(I=lg(this,I,i)),!(i instanceof TI)){if(Ye(i))return i.forEach(function(r){return C.add(r,I)}),this;if(ce(i))return this.addLabel(i,I);if(qt(i))i=Ce.delayedCall(0,i);else return this}return this!==i?Hg(this,i,I):this},e.getChildren=function(i,I,C,r){i===void 0&&(i=!0),I===void 0&&(I=!0),C===void 0&&(C=!0),r===void 0&&(r=-ug);for(var o=[],A=this._first;A;)A._start>=r&&(A instanceof Ce?I&&o.push(A):(C&&o.push(A),i&&o.push.apply(o,A.getChildren(!0,I,C)))),A=A._next;return o},e.getById=function(i){for(var I=this.getChildren(1,1,1),C=I.length;C--;)if(I[C].vars.id===i)return I[C]},e.remove=function(i){return ce(i)?this.removeLabel(i):qt(i)?this.killTweensOf(i):(XC(this,i),i===this._recent&&(this._recent=this._last),vi(this))},e.totalTime=function(i,I){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=fe(Ue.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,I),this._forcing=0,this):this._tTime},e.addLabel=function(i,I){return this.labels[i]=lg(this,I),this},e.removeLabel=function(i){return delete this.labels[i],this},e.addPause=function(i,I,C){var r=Ce.delayedCall(0,I||LI,C);return r.data="isPause",this._hasPause=1,Hg(this,r,lg(this,i))},e.removePause=function(i){var I=this._first;for(i=lg(this,i);I;)I._start===i&&I.data==="isPause"&&pi(I),I=I._next},e.killTweensOf=function(i,I,C){for(var r=this.getTweensOf(i,C),o=r.length;o--;)ci!==r[o]&&r[o].kill(i,I);return this},e.getTweensOf=function(i,I){for(var C=[],r=cg(i),o=this._first,A=ei(I),s;o;)o instanceof Ce?_l(o._targets,r)&&(A?(!ci||o._initted&&o._ts)&&o.globalTime(0)<=I&&o.globalTime(o.totalDuration())>I:!I||o.isActive())&&C.push(o):(s=o.getTweensOf(r,I)).length&&C.push.apply(C,s),o=o._next;return C},e.tweenTo=function(i,I){I=I||{};var C=this,r=lg(C,i),o=I,A=o.startAt,s=o.onStart,u=o.onStartParams,d=o.immediateRender,c,m=Ce.to(C,hg({ease:I.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:I.duration||Math.abs((r-(A&&"time"in A?A.time:C._time))/C.timeScale())||Tt,onStart:function(){if(C.pause(),!c){var b=I.duration||Math.abs((r-(A&&"time"in A?A.time:C._time))/C.timeScale());m._dur!==b&&AI(m,b,0,1).render(m._time,!0,!0),c=1}s&&s.apply(m,u||[])}},I));return d?m.render(0):m},e.tweenFromTo=function(i,I,C){return this.tweenTo(I,hg({startAt:{time:lg(this,i)}},C))},e.recent=function(){return this._recent},e.nextLabel=function(i){return i===void 0&&(i=this._time),AA(this,lg(this,i))},e.previousLabel=function(i){return i===void 0&&(i=this._time),AA(this,lg(this,i),1)},e.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Tt)},e.shiftChildren=function(i,I,C){C===void 0&&(C=0);for(var r=this._first,o=this.labels,A;r;)r._start>=C&&(r._start+=i,r._end+=i),r=r._next;if(I)for(A in o)o[A]>=C&&(o[A]+=i);return vi(this)},e.invalidate=function(i){var I=this._first;for(this._lock=0;I;)I.invalidate(i),I=I._next;return n.prototype.invalidate.call(this,i)},e.clear=function(i){i===void 0&&(i=!0);for(var I=this._first,C;I;)C=I._next,this.remove(I),I=C;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),vi(this)},e.totalDuration=function(i){var I=0,C=this,r=C._last,o=ug,A,s,u;if(arguments.length)return C.timeScale((C._repeat<0?C.duration():C.totalDuration())/(C.reversed()?-i:i));if(C._dirty){for(u=C.parent;r;)A=r._prev,r._dirty&&r.totalDuration(),s=r._start,s>o&&C._sort&&r._ts&&!C._lock?(C._lock=1,Hg(C,r,s-r._delay,1)._lock=0):o=s,s<0&&r._ts&&(I-=s,(!u&&!C._dp||u&&u.smoothChildTiming)&&(C._start+=s/C._ts,C._time-=s,C._tTime-=s),C.shiftChildren(-s,!1,-1/0),o=0),r._end>I&&r._ts&&(I=r._end),r=A;AI(C,C===Ut&&C._time>I?C._time:I,1,1),C._dirty=0}return C._tDur},t.updateRoot=function(i){if(Ut._ts&&(bA(Ut,VC(i,Ut)),fA=Ue.frame),Ue.frame>=CA){CA+=je.autoSleep||120;var I=Ut._first;if((!I||!I._ts)&&je.autoSleep&&Ue._listeners.length<2){for(;I&&!I._ts;)I=I._next;I||Ue.sleep()}}},t}(TI);hg(Se.prototype,{_lock:0,_hasPause:0,_forcing:0});var jl=function(t,e,g,i,I,C,r){var o=new ke(this._pt,t,e,0,1,Zr,null,I),A=0,s=0,u,d,c,m,h,b,B,Z;for(o.b=g,o.e=i,g+="",i+="",(B=~i.indexOf("random("))&&(i=aI(i)),C&&(Z=[g,i],C(Z,t,e),g=Z[0],i=Z[1]),d=g.match(Pn)||[];u=Pn.exec(i);)m=u[0],h=i.substring(A,u.index),c?c=(c+1)%5:h.substr(-5)==="rgba("&&(c=1),m!==d[s++]&&(b=parseFloat(d[s-1])||0,o._pt={_next:o._pt,p:h||s===1?h:",",s:b,c:m.charAt(1)==="="?ki(b,m)-b:parseFloat(m)-b,m:c&&c<4?Math.round:0},A=Pn.lastIndex);return o.c=A<i.length?i.substring(A,i.length):"",o.fp=r,(ar.test(i)||B)&&(o.e=0),this._pt=o,o},fr=function(t,e,g,i,I,C,r,o,A,s){qt(i)&&(i=i(I||0,t,C));var u=t[e],d=g!=="get"?g:qt(u)?A?t[e.indexOf("set")||!qt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](A):t[e]():u,c=qt(u)?A?gu:xA:Br,m;if(ce(i)&&(~i.indexOf("random(")&&(i=aI(i)),i.charAt(1)==="="&&(m=ki(d,i)+(we(d)||0),(m||m===0)&&(i=m))),!s||d!==i||nr)return!isNaN(d*i)&&i!==""?(m=new ke(this._pt,t,e,+d||0,i-(d||0),typeof u=="boolean"?Iu:PA,0,c),A&&(m.fp=A),r&&m.modifier(r,this,t),this._pt=m):(!u&&!(e in t)&&FC(e,i),jl.call(this,t,e,d,i,c,o||je.stringFilter,A))},ql=function(t,e,g,i,I){if(qt(t)&&(t=HI(t,I,e,g,i)),!kg(t)||t.style&&t.nodeType||Ye(t)||cA(t))return ce(t)?HI(t,I,e,g,i):t;var C={},r;for(r in t)C[r]=HI(t[r],I,e,g,i);return C},br=function(t,e,g,i,I,C){var r,o,A,s;if(Oe[t]&&(r=new Oe[t]).init(I,r.rawVars?e[t]:ql(e[t],i,I,C,g),g,i,C)!==!1&&(g._pt=o=new ke(g._pt,I,t,0,1,r.render,r,0,r.priority),g!==nI))for(A=g._ptLookup[g._targets.indexOf(I)],s=r._props.length;s--;)A[r._props[s]]=o;return r},ci,nr,Gr=function n(t,e,g){var i=t.vars,I=i.ease,C=i.startAt,r=i.immediateRender,o=i.lazy,A=i.onUpdate,s=i.runBackwards,u=i.yoyoEase,d=i.keyframes,c=i.autoRevert,m=t._dur,h=t._startAt,b=t._targets,B=t.parent,Z=B&&B.data==="nested"?B.vars.targets:b,G=t._overwrite==="auto"&&!or,D=t.timeline,w,K,_,F,V,v,k,H,M,O,N,$,q;if(D&&(!d||!I)&&(I="none"),t._ease=Ri(I,rI.ease),t._yEase=u?kA(Ri(u===!0?I:u,rI.ease)):0,u&&t._yoyo&&!t._repeat&&(u=t._yEase,t._yEase=t._ease,t._ease=u),t._from=!D&&!!i.runBackwards,!D||d&&!i.stagger){if(H=b[0]?di(b[0]).harness:0,$=H&&i[H.prop],w=KC(i,ur),h&&(h._zTime<0&&h.progress(1),e<0&&s&&r&&!c?h.render(-1,!0):h.revert(s&&m?SC:Sl),h._lazy=0),C){if(pi(t._startAt=Ce.set(b,hg({data:"isStart",overwrite:!1,parent:B,immediateRender:!0,lazy:!h&&Qe(o),startAt:null,delay:0,onUpdate:A&&function(){return Ig(t,"onUpdate")},stagger:0},C))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(We||!r&&!c)&&t._startAt.revert(SC),r&&m&&e<=0&&g<=0){e&&(t._zTime=e);return}}else if(s&&m&&!h){if(e&&(r=!1),_=hg({overwrite:!1,data:"isFromStart",lazy:r&&!h&&Qe(o),immediateRender:r,stagger:0,parent:B},w),$&&(_[H.prop]=$),pi(t._startAt=Ce.set(b,_)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(We?t._startAt.revert(SC):t._startAt.render(-1,!0)),t._zTime=e,!r)n(t._startAt,Tt,Tt);else if(!e)return}for(t._pt=t._ptCache=0,o=m&&Qe(o)||o&&!m,K=0;K<b.length;K++){if(V=b[K],k=V._gsap||hr(b)[K]._gsap,t._ptLookup[K]=O={},tr[k.id]&&hi.length&&YC(),N=Z===b?K:Z.indexOf(V),H&&(M=new H).init(V,$||w,t,N,Z)!==!1&&(t._pt=F=new ke(t._pt,V,M.name,0,1,M.render,M,0,M.priority),M._props.forEach(function(at){O[at]=F}),M.priority&&(v=1)),!H||$)for(_ in w)Oe[_]&&(M=br(_,w,t,N,V,Z))?M.priority&&(v=1):O[_]=F=fr.call(t,V,_,"get",w[_],N,Z,0,i.stringFilter);t._op&&t._op[K]&&t.kill(V,t._op[K]),G&&t._pt&&(ci=t,Ut.killTweensOf(V,O,t.globalTime(e)),q=!t.parent,ci=0),t._pt&&o&&(tr[k.id]=1)}v&&Dr(t),t._onInit&&t._onInit(t)}t._onUpdate=A,t._initted=(!t._op||t._pt)&&!q,d&&e<=0&&D.render(ug,!0,!0)},$l=function(t,e,g,i,I,C,r,o){var A=(t._pt&&t._ptCache||(t._ptCache={}))[e],s,u,d,c;if(!A)for(A=t._ptCache[e]=[],d=t._ptLookup,c=t._targets.length;c--;){if(s=d[c][e],s&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==e&&s.fp!==e;)s=s._next;if(!s)return nr=1,t.vars[e]="+=0",Gr(t,r),nr=0,o?kI(e+" not eligible for reset"):1;A.push(s)}for(c=A.length;c--;)u=A[c],s=u._pt||u,s.s=(i||i===0)&&!I?i:s.s+(i||0)+C*s.c,s.c=g-s.s,u.e&&(u.e=$t(g)+we(u.e)),u.b&&(u.b=s.s+we(u.b))},tu=function(t,e){var g=t[0]?di(t[0]).harness:0,i=g&&g.aliases,I,C,r,o;if(!i)return e;I=Xi({},e);for(C in i)if(C in I)for(o=i[C].split(","),r=o.length;r--;)I[o[r]]=I[C];return I},eu=function(t,e,g,i){var I=e.ease||i||"power1.inOut",C,r;if(Ye(e))r=g[t]||(g[t]=[]),e.forEach(function(o,A){return r.push({t:A/(e.length-1)*100,v:o,e:I})});else for(C in e)r=g[C]||(g[C]=[]),C==="ease"||r.push({t:parseFloat(t),v:e[C],e:I})},HI=function(t,e,g,i,I){return qt(t)?t.call(e,g,i,I):ce(t)&&~t.indexOf("random(")?aI(t):t},TA=cr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",EA={};He(TA+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return EA[n]=1});var Ce=function(n){lA(t,n);function t(g,i,I,C){var r;typeof i=="number"&&(I.duration=i,i=I,I=null),r=n.call(this,C?i:FI(i))||this;var o=r.vars,A=o.duration,s=o.delay,u=o.immediateRender,d=o.stagger,c=o.overwrite,m=o.keyframes,h=o.defaults,b=o.scrollTrigger,B=o.yoyoEase,Z=i.parent||Ut,G=(Ye(g)||cA(g)?ei(g[0]):"length"in i)?[g]:cg(g),D,w,K,_,F,V,v,k;if(r._targets=G.length?hr(G):kI("GSAP target "+g+" not found. https://gsap.com",!je.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=c,m||d||DC(A)||DC(s)){if(i=r.vars,D=r.timeline=new Se({data:"nested",defaults:h||{},targets:Z&&Z.data==="nested"?Z.vars.targets:G}),D.kill(),D.parent=D._dp=$g(r),D._start=0,d||DC(A)||DC(s)){if(_=G.length,v=d&&WA(d),kg(d))for(F in d)~TA.indexOf(F)&&(k||(k={}),k[F]=d[F]);for(w=0;w<_;w++)K=KC(i,EA),K.stagger=0,B&&(K.yoyoEase=B),k&&Xi(K,k),V=G[w],K.duration=+HI(A,$g(r),w,V,G),K.delay=(+HI(s,$g(r),w,V,G)||0)-r._delay,!d&&_===1&&K.delay&&(r._delay=s=K.delay,r._start+=s,K.delay=0),D.to(V,K,v?v(w,V,G):0),D._ease=Bt.none;D.duration()?A=s=0:r.timeline=0}else if(m){FI(hg(D.vars.defaults,{ease:"none"})),D._ease=Ri(m.ease||i.ease||"none");var H=0,M,O,N;if(Ye(m))m.forEach(function($){return D.to(G,$,">")}),D.duration();else{K={};for(F in m)F==="ease"||F==="easeEach"||eu(F,m[F],K,m.easeEach);for(F in K)for(M=K[F].sort(function($,q){return $.t-q.t}),H=0,w=0;w<M.length;w++)O=M[w],N={ease:O.e,duration:(O.t-(w?M[w-1].t:0))/100*A},N[F]=O.v,D.to(G,N,H),H+=N.duration;D.duration()<A&&D.to({},{duration:A-D.duration()})}}A||r.duration(A=D.duration())}else r.timeline=0;return c===!0&&!or&&(ci=$g(r),Ut.killTweensOf(G),ci=0),Hg(Z,$g(r),I),i.reversed&&r.reverse(),i.paused&&r.paused(!0),(u||!A&&!m&&r._start===fe(Z._time)&&Qe(u)&&Vl($g(r))&&Z.data!=="nested")&&(r._tTime=-Tt,r.render(Math.max(0,-s)||0)),b&&DA($g(r),b),r}var e=t.prototype;return e.render=function(i,I,C){var r=this._time,o=this._tDur,A=this._dur,s=i<0,u=i>o-Tt&&!s?o:i<Tt?0:i,d,c,m,h,b,B,Z,G,D;if(!A)Rl(this,i,I,C);else if(u!==this._tTime||!i||C||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==s){if(d=u,G=this.timeline,this._repeat){if(h=A+this._rDelay,this._repeat<-1&&s)return this.totalTime(h*100+i,I,C);if(d=fe(u%h),u===o?(m=this._repeat,d=A):(m=~~(u/h),m&&m===fe(u/h)&&(d=A,m--),d>A&&(d=A)),B=this._yoyo&&m&1,B&&(D=this._yEase,d=A-d),b=oI(this._tTime,h),d===r&&!C&&this._initted&&m===b)return this._tTime=u,this;m!==b&&(G&&this._yEase&&LA(G,B),this.vars.repeatRefresh&&!B&&!this._lock&&this._time!==h&&this._initted&&(this._lock=C=1,this.render(fe(h*m),!0).invalidate()._lock=0))}if(!this._initted){if(SA(this,s?i:d,C,I,u))return this._tTime=0,this;if(r!==this._time&&!(C&&this.vars.repeatRefresh&&m!==b))return this;if(A!==this._dur)return this.render(i,I,C)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Z=(D||this._ease)(d/A),this._from&&(this.ratio=Z=1-Z),d&&!r&&!I&&!m&&(Ig(this,"onStart"),this._tTime!==u))return this;for(c=this._pt;c;)c.r(Z,c.d),c=c._next;G&&G.render(i<0?i:G._dur*G._ease(d/this._dur),I,C)||this._startAt&&(this._zTime=i),this._onUpdate&&!I&&(s&&er(this,i,I,C),Ig(this,"onUpdate")),this._repeat&&m!==b&&this.vars.onRepeat&&!I&&this.parent&&Ig(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(s&&!this._onUpdate&&er(this,i,!0,!0),(i||!A)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&pi(this,1),!I&&!(s&&!r)&&(u||r||B)&&(Ig(this,u===o?"onComplete":"onReverseComplete",!0),this._prom&&!(u<o&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},e.resetTo=function(i,I,C,r,o){NI||Ue.wake(),this._ts||this.play();var A=Math.min(this._dur,(this._dp._time-this._start)*this._ts),s;return this._initted||Gr(this,A),s=this._ease(A/this._dur),$l(this,i,I,C,r,s,A,o)?this.resetTo(i,I,C,r,1):(kC(this,0),this.parent||ZA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(i,I){if(I===void 0&&(I="all"),!i&&(!I||I==="all"))return this._lazy=this._pt=0,this.parent?vI(this):this;if(this.timeline){var C=this.timeline.totalDuration();return this.timeline.killTweensOf(i,I,ci&&ci.vars.overwrite!==!0)._first||vI(this),this.parent&&C!==this.timeline.totalDuration()&&AI(this,this._dur*this.timeline._tDur/C,0,1),this}var r=this._targets,o=i?cg(i):r,A=this._ptLookup,s=this._pt,u,d,c,m,h,b,B;if((!I||I==="all")&&Yl(r,o))return I==="all"&&(this._pt=0),vI(this);for(u=this._op=this._op||[],I!=="all"&&(ce(I)&&(h={},He(I,function(Z){return h[Z]=1}),I=h),I=tu(r,I)),B=r.length;B--;)if(~o.indexOf(r[B])){d=A[B],I==="all"?(u[B]=I,m=d,c={}):(c=u[B]=u[B]||{},m=I);for(h in m)b=d&&d[h],b&&((!("kill"in b.d)||b.d.kill(h)===!0)&&XC(this,b,"_pt"),delete d[h]),c!=="all"&&(c[h]=1)}return this._initted&&!this._pt&&s&&vI(this),this},t.to=function(i,I){return new t(i,I,arguments[2])},t.from=function(i,I){return XI(1,arguments)},t.delayedCall=function(i,I,C,r){return new t(I,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:I,onReverseComplete:I,onCompleteParams:C,onReverseCompleteParams:C,callbackScope:r})},t.fromTo=function(i,I,C){return XI(2,arguments)},t.set=function(i,I){return I.duration=0,I.repeatDelay||(I.repeat=0),new t(i,I)},t.killTweensOf=function(i,I,C){return Ut.killTweensOf(i,I,C)},t}(TI);hg(Ce.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});He("staggerTo,staggerFrom,staggerFromTo",function(n){Ce[n]=function(){var t=new Se,e=ir.call(arguments,0);return e.splice(n==="staggerFromTo"?5:4,0,0),t[n].apply(t,e)}});var Br=function(t,e,g){return t[e]=g},xA=function(t,e,g){return t[e](g)},gu=function(t,e,g,i){return t[e](i.fp,g)},iu=function(t,e,g){return t.setAttribute(e,g)},LC=function(t,e){return qt(t[e])?xA:RC(t[e])&&t.setAttribute?iu:Br},PA=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Iu=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Zr=function(t,e){var g=e._pt,i="";if(!t&&e.b)i=e.b;else if(t===1&&e.e)i=e.e;else{for(;g;)i=g.p+(g.m?g.m(g.s+g.c*t):Math.round((g.s+g.c*t)*1e4)/1e4)+i,g=g._next;i+=e.c}e.set(e.t,e.p,i,e)},yr=function(t,e){for(var g=e._pt;g;)g.r(t,g.d),g=g._next},Cu=function(t,e,g,i){for(var I=this._pt,C;I;)C=I._next,I.p===i&&I.modifier(t,e,g),I=C},nu=function(t){for(var e=this._pt,g,i;e;)i=e._next,e.p===t&&!e.op||e.op===t?XC(this,e,"_pt"):e.dep||(g=1),e=i;return!g},ru=function(t,e,g,i){i.mSet(t,e,i.m.call(i.tween,g,i.mt),i)},Dr=function(t){for(var e=t._pt,g,i,I,C;e;){for(g=e._next,i=I;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:C)?e._prev._next=e:I=e,(e._next=i)?i._prev=e:C=e,e=g}t._pt=I},ke=function(){function n(e,g,i,I,C,r,o,A,s){this.t=g,this.s=I,this.c=C,this.p=i,this.r=r||PA,this.d=o||this,this.set=A||Br,this.pr=s||0,this._next=e,e&&(e._prev=this)}var t=n.prototype;return t.modifier=function(g,i,I){this.mSet=this.mSet||this.set,this.set=ru,this.m=g,this.mt=I,this.tween=i},n}();He(cr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return ur[n]=1});Cg.TweenMax=Cg.TweenLite=Ce;Cg.TimelineLite=Cg.TimelineMax=Se;Ut=new Se({sortChildren:!1,defaults:rI,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});je.stringFilter=pr;var Fi=[],_C={},ou=[],aA=0,Au=0,Un=function(t){return(_C[t]||ou).map(function(e){return e()})},rr=function(){var t=Date.now(),e=[];t-aA>2&&(Un("matchMediaInit"),Fi.forEach(function(g){var i=g.queries,I=g.conditions,C,r,o,A;for(r in i)C=Xg.matchMedia(i[r]).matches,C&&(o=1),C!==I[r]&&(I[r]=C,A=1);A&&(g.revert(),o&&e.push(g))}),Un("matchMediaRevert"),e.forEach(function(g){return g.onMatch(g,function(i){return g.add(null,i)})}),aA=t,Un("matchMedia"))},MA=function(){function n(e,g){this.selector=g&&Ir(g),this.data=[],this._r=[],this.isReverted=!1,this.id=Au++,e&&this.add(e)}var t=n.prototype;return t.add=function(g,i,I){qt(g)&&(I=i,i=g,g=qt);var C=this,r=function(){var A=Jt,s=C.selector,u;return A&&A!==C&&A.data.push(C),I&&(C.selector=Ir(I)),Jt=C,u=i.apply(C,arguments),qt(u)&&C._r.push(u),Jt=A,C.selector=s,C.isReverted=!1,u};return C.last=r,g===qt?r(C,function(o){return C.add(null,o)}):g?C[g]=r:r},t.ignore=function(g){var i=Jt;Jt=null,g(this),Jt=i},t.getTweens=function(){var g=[];return this.data.forEach(function(i){return i instanceof n?g.push.apply(g,i.getTweens()):i instanceof Ce&&!(i.parent&&i.parent.data==="nested")&&g.push(i)}),g},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(g,i){var I=this;if(g?function(){for(var r=I.getTweens(),o=I.data.length,A;o--;)A=I.data[o],A.data==="isFlip"&&(A.revert(),A.getChildren(!0,!0,!1).forEach(function(s){return r.splice(r.indexOf(s),1)}));for(r.map(function(s){return{g:s._dur||s._delay||s._sat&&!s._sat.vars.immediateRender?s.globalTime(0):-1/0,t:s}}).sort(function(s,u){return u.g-s.g||-1/0}).forEach(function(s){return s.t.revert(g)}),o=I.data.length;o--;)A=I.data[o],A instanceof Se?A.data!=="nested"&&(A.scrollTrigger&&A.scrollTrigger.revert(),A.kill()):!(A instanceof Ce)&&A.revert&&A.revert(g);I._r.forEach(function(s){return s(g,I)}),I.isReverted=!0}():this.data.forEach(function(r){return r.kill&&r.kill()}),this.clear(),i)for(var C=Fi.length;C--;)Fi[C].id===this.id&&Fi.splice(C,1)},t.revert=function(g){this.kill(g||{})},n}(),su=function(){function n(e){this.contexts=[],this.scope=e,Jt&&Jt.data.push(this)}var t=n.prototype;return t.add=function(g,i,I){kg(g)||(g={matches:g});var C=new MA(0,I||this.scope),r=C.conditions={},o,A,s;Jt&&!C.selector&&(C.selector=Jt.selector),this.contexts.push(C),i=C.add("onMatch",i),C.queries=g;for(A in g)A==="all"?s=1:(o=Xg.matchMedia(g[A]),o&&(Fi.indexOf(C)<0&&Fi.push(C),(r[A]=o.matches)&&(s=1),o.addListener?o.addListener(rr):o.addEventListener("change",rr)));return s&&i(C,function(u){return C.add(null,u)}),this},t.revert=function(g){this.kill(g||{})},t.kill=function(g){this.contexts.forEach(function(i){return i.kill(g,!0)})},n}(),vC={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),g=0;g<t;g++)e[g]=arguments[g];e.forEach(function(i){return FA(i)})},timeline:function(t){return new Se(t)},getTweensOf:function(t,e){return Ut.getTweensOf(t,e)},getProperty:function(t,e,g,i){ce(t)&&(t=cg(t)[0]);var I=di(t||{}).get,C=g?BA:GA;return g==="native"&&(g=""),t&&(e?C((Oe[e]&&Oe[e].get||I)(t,e,g,i)):function(r,o,A){return C((Oe[r]&&Oe[r].get||I)(t,r,o,A))})},quickSetter:function(t,e,g){if(t=cg(t),t.length>1){var i=t.map(function(s){return Ke.quickSetter(s,e,g)}),I=i.length;return function(s){for(var u=I;u--;)i[u](s)}}t=t[0]||{};var C=Oe[e],r=di(t),o=r.harness&&(r.harness.aliases||{})[e]||e,A=C?function(s){var u=new C;nI._pt=0,u.init(t,g?s+g:s,nI,0,[t]),u.render(1,u),nI._pt&&yr(1,nI)}:r.set(t,o);return C?A:function(s){return A(t,o,g?s+g:s,r,1)}},quickTo:function(t,e,g){var i,I=Ke.to(t,Xi((i={},i[e]="+=0.1",i.paused=!0,i),g||{})),C=function(o,A,s){return I.resetTo(e,o,A,s)};return C.tween=I,C},isTweening:function(t){return Ut.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ri(t.ease,rI.ease)),nA(rI,t||{})},config:function(t){return nA(je,t||{})},registerEffect:function(t){var e=t.name,g=t.effect,i=t.plugins,I=t.defaults,C=t.extendTimeline;(i||"").split(",").forEach(function(r){return r&&!Oe[r]&&!Cg[r]&&kI(e+" effect requires "+r+" plugin.")}),Mn[e]=function(r,o,A){return g(cg(r),hg(o||{},I),A)},C&&(Se.prototype[e]=function(r,o,A){return this.add(Mn[e](r,kg(o)?o:(A=o)&&{},this),A)})},registerEase:function(t,e){Bt[t]=Ri(e)},parseEase:function(t,e){return arguments.length?Ri(t,e):Bt},getById:function(t){return Ut.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var g=new Se(t),i,I;for(g.smoothChildTiming=Qe(t.smoothChildTiming),Ut.remove(g),g._dp=0,g._time=g._tTime=Ut._time,i=Ut._first;i;)I=i._next,(e||!(!i._dur&&i instanceof Ce&&i.vars.onComplete===i._targets[0]))&&Hg(g,i,i._start-i._delay),i=I;return Hg(Ut,g,0),g},context:function(t,e){return t?new MA(t,e):Jt},matchMedia:function(t){return new su(t)},matchMediaRefresh:function(){return Fi.forEach(function(t){var e=t.conditions,g,i;for(i in e)e[i]&&(e[i]=!1,g=1);g&&t.revert()})||rr()},addEventListener:function(t,e){var g=_C[t]||(_C[t]=[]);~g.indexOf(e)||g.push(e)},removeEventListener:function(t,e){var g=_C[t],i=g&&g.indexOf(e);i>=0&&g.splice(i,1)},utils:{wrap:El,wrapYoyo:xl,distribute:WA,random:KA,snap:YA,normalize:Tl,getUnit:we,clamp:Hl,splitColor:XA,toArray:cg,selector:Ir,mapRange:vA,pipe:Ll,unitize:Nl,interpolate:Pl,shuffle:_A},install:pA,effects:Mn,ticker:Ue,updateRoot:Se.updateRoot,plugins:Oe,globalTimeline:Ut,core:{PropTween:ke,globals:mA,Tween:Ce,Timeline:Se,Animation:TI,getCache:di,_removeLinkedListItem:XC,reverting:function(){return We},context:function(t){return t&&Jt&&(Jt.data.push(t),t._ctx=Jt),Jt},suppressOverwrites:function(t){return or=t}}};He("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return vC[n]=Ce[n]});Ue.add(Se.updateRoot);nI=vC.to({},{duration:0});var au=function(t,e){for(var g=t._pt;g&&g.p!==e&&g.op!==e&&g.fp!==e;)g=g._next;return g},lu=function(t,e){var g=t._targets,i,I,C;for(i in e)for(I=g.length;I--;)C=t._ptLookup[I][i],C&&(C=C.d)&&(C._pt&&(C=au(C,i)),C&&C.modifier&&C.modifier(e[i],t,g[I],i))},Qn=function(t,e){return{name:t,rawVars:1,init:function(i,I,C){C._onInit=function(r){var o,A;if(ce(I)&&(o={},He(I,function(s){return o[s]=1}),I=o),e){o={};for(A in I)o[A]=e(I[A]);I=o}lu(r,I)}}}},Ke=vC.registerPlugin({name:"attr",init:function(t,e,g,i,I){var C,r,o;this.tween=g;for(C in e)o=t.getAttribute(C)||"",r=this.add(t,"setAttribute",(o||0)+"",e[C],i,I,0,0,C),r.op=C,r.b=o,this._props.push(C)},render:function(t,e){for(var g=e._pt;g;)We?g.set(g.t,g.p,g.b,g):g.r(t,g.d),g=g._next}},{name:"endArray",init:function(t,e){for(var g=e.length;g--;)this.add(t,g,t[g]||0,e[g],0,0,0,0,0,1)}},Qn("roundProps",Cr),Qn("modifiers"),Qn("snap",YA))||vC;Ce.version=Se.version=Ke.version="3.12.5";dA=1;Ar()&&sI();var uu=Bt.Power0,cu=Bt.Power1,hu=Bt.Power2,du=Bt.Power3,pu=Bt.Power4,mu=Bt.Linear,fu=Bt.Quad,bu=Bt.Cubic,Gu=Bt.Quart,Bu=Bt.Quint,Zu=Bt.Strong,yu=Bt.Elastic,Du=Bt.Back,Su=Bt.SteppedEase,wu=Bt.Bounce,_u=Bt.Sine,Wu=Bt.Expo,Yu=Bt.Circ;var JA,fi,uI,Vr,xi,Ku,zA,vr,Vu=function(){return typeof window<"u"},ii={},Ei=180/Math.PI,cI=Math.PI/180,lI=Math.atan2,OA=1e8,Rr=/([A-Z])/g,vu=/(left|right|width|margin|padding|x)/i,Ru=/[\s,\(]\S/,Lg={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_r=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Fu=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Xu=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},Hu=function(t,e){var g=e.s+e.c*t;e.set(e.t,e.p,~~(g+(g<0?-.5:.5))+e.u,e)},es=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},gs=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},ku=function(t,e,g){return t.style[e]=g},Lu=function(t,e,g){return t.style.setProperty(e,g)},Nu=function(t,e,g){return t._gsap[e]=g},Tu=function(t,e,g){return t._gsap.scaleX=t._gsap.scaleY=g},Eu=function(t,e,g,i,I){var C=t._gsap;C.scaleX=C.scaleY=g,C.renderTransform(I,C)},xu=function(t,e,g,i,I){var C=t._gsap;C[e]=g,C.renderTransform(I,C)},Qt="transform",qe=Qt+"Origin",Pu=function n(t,e){var g=this,i=this.target,I=i.style,C=i._gsap;if(t in ii&&I){if(this.tfm=this.tfm||{},t!=="transform")t=Lg[t]||t,~t.indexOf(",")?t.split(",").forEach(function(r){return g.tfm[r]=gi(i,r)}):this.tfm[t]=C.x?C[t]:gi(i,t),t===qe&&(this.tfm.zOrigin=C.zOrigin);else return Lg.transform.split(",").forEach(function(r){return n.call(g,r,e)});if(this.props.indexOf(Qt)>=0)return;C.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(qe,e,"")),t=Qt}(I||e)&&this.props.push(t,e,I[t])},is=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},Mu=function(){var t=this.props,e=this.target,g=e.style,i=e._gsap,I,C;for(I=0;I<t.length;I+=3)t[I+1]?e[t[I]]=t[I+2]:t[I+2]?g[t[I]]=t[I+2]:g.removeProperty(t[I].substr(0,2)==="--"?t[I]:t[I].replace(Rr,"-$1").toLowerCase());if(this.tfm){for(C in this.tfm)i[C]=this.tfm[C];i.svg&&(i.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),I=vr(),(!I||!I.isStart)&&!g[Qt]&&(is(g),i.zOrigin&&g[qe]&&(g[qe]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Is=function(t,e){var g={target:t,props:[],revert:Mu,save:Pu};return t._gsap||Ke.core.getCache(t),e&&e.split(",").forEach(function(i){return g.save(i)}),g},Cs,Wr=function(t,e){var g=fi.createElementNS?fi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):fi.createElement(t);return g&&g.style?g:fi.createElement(t)},Ng=function n(t,e,g){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Rr,"-$1").toLowerCase())||i.getPropertyValue(e)||!g&&n(t,hI(e)||e,1)||""},UA="O,Moz,ms,Ms,Webkit".split(","),hI=function(t,e,g){var i=e||xi,I=i.style,C=5;if(t in I&&!g)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);C--&&!(UA[C]+t in I););return C<0?null:(C===3?"ms":C>=0?UA[C]:"")+t},Yr=function(){Vu()&&window.document&&(JA=window,fi=JA.document,uI=fi.documentElement,xi=Wr("div")||{style:{}},Ku=Wr("div"),Qt=hI(Qt),qe=Qt+"Origin",xi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Cs=!!hI("perspective"),vr=Ke.core.reverting,Vr=1)},Sr=function n(t){var e=Wr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),g=this.parentNode,i=this.nextSibling,I=this.style.cssText,C;if(uI.appendChild(e),e.appendChild(this),this.style.display="block",t)try{C=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(C=this._gsapBBox());return g&&(i?g.insertBefore(this,i):g.appendChild(this)),uI.removeChild(e),this.style.cssText=I,C},QA=function(t,e){for(var g=e.length;g--;)if(t.hasAttribute(e[g]))return t.getAttribute(e[g])},ns=function(t){var e;try{e=t.getBBox()}catch{e=Sr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Sr||(e=Sr.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+QA(t,["x","cx","x1"])||0,y:+QA(t,["y","cy","y1"])||0,width:0,height:0}:e},rs=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ns(t))},Pi=function(t,e){if(e){var g=t.style,i;e in ii&&e!==qe&&(e=Qt),g.removeProperty?(i=e.substr(0,2),(i==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),g.removeProperty(i==="--"?e:e.replace(Rr,"-$1").toLowerCase())):g.removeAttribute(e)}},bi=function(t,e,g,i,I,C){var r=new ke(t._pt,e,g,0,1,C?gs:es);return t._pt=r,r.b=i,r.e=I,t._props.push(g),r},jA={deg:1,rad:1,turn:1},Ju={grid:1,flex:1},Gi=function n(t,e,g,i){var I=parseFloat(g)||0,C=(g+"").trim().substr((I+"").length)||"px",r=xi.style,o=vu.test(e),A=t.tagName.toLowerCase()==="svg",s=(A?"client":"offset")+(o?"Width":"Height"),u=100,d=i==="px",c=i==="%",m,h,b,B;if(i===C||!I||jA[i]||jA[C])return I;if(C!=="px"&&!d&&(I=n(t,e,g,"px")),B=t.getCTM&&rs(t),(c||C==="%")&&(ii[e]||~e.indexOf("adius")))return m=B?t.getBBox()[o?"width":"height"]:t[s],$t(c?I/m*u:I/100*m);if(r[o?"width":"height"]=u+(d?C:i),h=~e.indexOf("adius")||i==="em"&&t.appendChild&&!A?t:t.parentNode,B&&(h=(t.ownerSVGElement||{}).parentNode),(!h||h===fi||!h.appendChild)&&(h=fi.body),b=h._gsap,b&&c&&b.width&&o&&b.time===Ue.time&&!b.uncache)return $t(I/b.width*u);if(c&&(e==="height"||e==="width")){var Z=t.style[e];t.style[e]=u+i,m=t[s],Z?t.style[e]=Z:Pi(t,e)}else(c||C==="%")&&!Ju[Ng(h,"display")]&&(r.position=Ng(t,"position")),h===t&&(r.position="static"),h.appendChild(xi),m=xi[s],h.removeChild(xi),r.position="absolute";return o&&c&&(b=di(h),b.time=Ue.time,b.width=h[s]),$t(d?m*I/u:m&&I?u/m*I:0)},gi=function(t,e,g,i){var I;return Vr||Yr(),e in Lg&&e!=="transform"&&(e=Lg[e],~e.indexOf(",")&&(e=e.split(",")[0])),ii[e]&&e!=="transform"?(I=MI(t,i),I=e!=="transformOrigin"?I[e]:I.svg?I.origin:TC(Ng(t,qe))+" "+I.zOrigin+"px"):(I=t.style[e],(!I||I==="auto"||i||~(I+"").indexOf("calc("))&&(I=NC[e]&&NC[e](t,e,g)||Ng(t,e)||dr(t,e)||(e==="opacity"?1:0))),g&&!~(I+"").trim().indexOf(" ")?Gi(t,e,I,g)+g:I},zu=function(t,e,g,i){if(!g||g==="none"){var I=hI(e,t,1),C=I&&Ng(t,I,1);C&&C!==g?(e=I,g=C):e==="borderColor"&&(g=Ng(t,"borderTopColor"))}var r=new ke(this._pt,t.style,e,0,1,Zr),o=0,A=0,s,u,d,c,m,h,b,B,Z,G,D,w;if(r.b=g,r.e=i,g+="",i+="",i==="auto"&&(h=t.style[e],t.style[e]=i,i=Ng(t,e)||i,h?t.style[e]=h:Pi(t,e)),s=[g,i],pr(s),g=s[0],i=s[1],d=g.match(Hi)||[],w=i.match(Hi)||[],w.length){for(;u=Hi.exec(i);)b=u[0],Z=i.substring(o,u.index),m?m=(m+1)%5:(Z.substr(-5)==="rgba("||Z.substr(-5)==="hsla(")&&(m=1),b!==(h=d[A++]||"")&&(c=parseFloat(h)||0,D=h.substr((c+"").length),b.charAt(1)==="="&&(b=ki(c,b)+D),B=parseFloat(b),G=b.substr((B+"").length),o=Hi.lastIndex-G.length,G||(G=G||je.units[e]||D,o===i.length&&(i+=G,r.e+=G)),D!==G&&(c=Gi(t,e,h,G)||0),r._pt={_next:r._pt,p:Z||A===1?Z:",",s:c,c:B-c,m:m&&m<4||e==="zIndex"?Math.round:0});r.c=o<i.length?i.substring(o,i.length):""}else r.r=e==="display"&&i==="none"?gs:es;return ar.test(i)&&(r.e=0),this._pt=r,r},qA={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ou=function(t){var e=t.split(" "),g=e[0],i=e[1]||"50%";return(g==="top"||g==="bottom"||i==="left"||i==="right")&&(t=g,g=i,i=t),e[0]=qA[g]||g,e[1]=qA[i]||i,e.join(" ")},Uu=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var g=e.t,i=g.style,I=e.u,C=g._gsap,r,o,A;if(I==="all"||I===!0)i.cssText="",o=1;else for(I=I.split(","),A=I.length;--A>-1;)r=I[A],ii[r]&&(o=1,r=r==="transformOrigin"?qe:Qt),Pi(g,r);o&&(Pi(g,Qt),C&&(C.svg&&g.removeAttribute("transform"),MI(g,1),C.uncache=1,is(i)))}},NC={clearProps:function(t,e,g,i,I){if(I.data!=="isFromStart"){var C=t._pt=new ke(t._pt,e,g,0,0,Uu);return C.u=i,C.pr=-10,C.tween=I,t._props.push(g),1}}},PI=[1,0,0,1,0,0],os={},As=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},$A=function(t){var e=Ng(t,Qt);return As(e)?PI:e.substr(7).match(sr).map($t)},Fr=function(t,e){var g=t._gsap||di(t),i=t.style,I=$A(t),C,r,o,A;return g.svg&&t.getAttribute("transform")?(o=t.transform.baseVal.consolidate().matrix,I=[o.a,o.b,o.c,o.d,o.e,o.f],I.join(",")==="1,0,0,1,0,0"?PI:I):(I===PI&&!t.offsetParent&&t!==uI&&!g.svg&&(o=i.display,i.display="block",C=t.parentNode,(!C||!t.offsetParent)&&(A=1,r=t.nextElementSibling,uI.appendChild(t)),I=$A(t),o?i.display=o:Pi(t,"display"),A&&(r?C.insertBefore(t,r):C?C.appendChild(t):uI.removeChild(t))),e&&I.length>6?[I[0],I[1],I[4],I[5],I[12],I[13]]:I)},Kr=function(t,e,g,i,I,C){var r=t._gsap,o=I||Fr(t,!0),A=r.xOrigin||0,s=r.yOrigin||0,u=r.xOffset||0,d=r.yOffset||0,c=o[0],m=o[1],h=o[2],b=o[3],B=o[4],Z=o[5],G=e.split(" "),D=parseFloat(G[0])||0,w=parseFloat(G[1])||0,K,_,F,V;g?o!==PI&&(_=c*b-m*h)&&(F=D*(b/_)+w*(-h/_)+(h*Z-b*B)/_,V=D*(-m/_)+w*(c/_)-(c*Z-m*B)/_,D=F,w=V):(K=ns(t),D=K.x+(~G[0].indexOf("%")?D/100*K.width:D),w=K.y+(~(G[1]||G[0]).indexOf("%")?w/100*K.height:w)),i||i!==!1&&r.smooth?(B=D-A,Z=w-s,r.xOffset=u+(B*c+Z*h)-B,r.yOffset=d+(B*m+Z*b)-Z):r.xOffset=r.yOffset=0,r.xOrigin=D,r.yOrigin=w,r.smooth=!!i,r.origin=e,r.originIsAbsolute=!!g,t.style[qe]="0px 0px",C&&(bi(C,r,"xOrigin",A,D),bi(C,r,"yOrigin",s,w),bi(C,r,"xOffset",u,r.xOffset),bi(C,r,"yOffset",d,r.yOffset)),t.setAttribute("data-svg-origin",D+" "+w)},MI=function(t,e){var g=t._gsap||new mr(t);if("x"in g&&!e&&!g.uncache)return g;var i=t.style,I=g.scaleX<0,C="px",r="deg",o=getComputedStyle(t),A=Ng(t,qe)||"0",s,u,d,c,m,h,b,B,Z,G,D,w,K,_,F,V,v,k,H,M,O,N,$,q,at,ft,S,It,bt,St,ct,rt;return s=u=d=h=b=B=Z=G=D=0,c=m=1,g.svg=!!(t.getCTM&&rs(t)),o.translate&&((o.translate!=="none"||o.scale!=="none"||o.rotate!=="none")&&(i[Qt]=(o.translate!=="none"?"translate3d("+(o.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(o.rotate!=="none"?"rotate("+o.rotate+") ":"")+(o.scale!=="none"?"scale("+o.scale.split(" ").join(",")+") ":"")+(o[Qt]!=="none"?o[Qt]:"")),i.scale=i.rotate=i.translate="none"),_=Fr(t,g.svg),g.svg&&(g.uncache?(at=t.getBBox(),A=g.xOrigin-at.x+"px "+(g.yOrigin-at.y)+"px",q=""):q=!e&&t.getAttribute("data-svg-origin"),Kr(t,q||A,!!q||g.originIsAbsolute,g.smooth!==!1,_)),w=g.xOrigin||0,K=g.yOrigin||0,_!==PI&&(k=_[0],H=_[1],M=_[2],O=_[3],s=N=_[4],u=$=_[5],_.length===6?(c=Math.sqrt(k*k+H*H),m=Math.sqrt(O*O+M*M),h=k||H?lI(H,k)*Ei:0,Z=M||O?lI(M,O)*Ei+h:0,Z&&(m*=Math.abs(Math.cos(Z*cI))),g.svg&&(s-=w-(w*k+K*M),u-=K-(w*H+K*O))):(rt=_[6],St=_[7],S=_[8],It=_[9],bt=_[10],ct=_[11],s=_[12],u=_[13],d=_[14],F=lI(rt,bt),b=F*Ei,F&&(V=Math.cos(-F),v=Math.sin(-F),q=N*V+S*v,at=$*V+It*v,ft=rt*V+bt*v,S=N*-v+S*V,It=$*-v+It*V,bt=rt*-v+bt*V,ct=St*-v+ct*V,N=q,$=at,rt=ft),F=lI(-M,bt),B=F*Ei,F&&(V=Math.cos(-F),v=Math.sin(-F),q=k*V-S*v,at=H*V-It*v,ft=M*V-bt*v,ct=O*v+ct*V,k=q,H=at,M=ft),F=lI(H,k),h=F*Ei,F&&(V=Math.cos(F),v=Math.sin(F),q=k*V+H*v,at=N*V+$*v,H=H*V-k*v,$=$*V-N*v,k=q,N=at),b&&Math.abs(b)+Math.abs(h)>359.9&&(b=h=0,B=180-B),c=$t(Math.sqrt(k*k+H*H+M*M)),m=$t(Math.sqrt($*$+rt*rt)),F=lI(N,$),Z=Math.abs(F)>2e-4?F*Ei:0,D=ct?1/(ct<0?-ct:ct):0),g.svg&&(q=t.getAttribute("transform"),g.forceCSS=t.setAttribute("transform","")||!As(Ng(t,Qt)),q&&t.setAttribute("transform",q))),Math.abs(Z)>90&&Math.abs(Z)<270&&(I?(c*=-1,Z+=h<=0?180:-180,h+=h<=0?180:-180):(m*=-1,Z+=Z<=0?180:-180)),e=e||g.uncache,g.x=s-((g.xPercent=s&&(!e&&g.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-s)?-50:0)))?t.offsetWidth*g.xPercent/100:0)+C,g.y=u-((g.yPercent=u&&(!e&&g.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*g.yPercent/100:0)+C,g.z=d+C,g.scaleX=$t(c),g.scaleY=$t(m),g.rotation=$t(h)+r,g.rotationX=$t(b)+r,g.rotationY=$t(B)+r,g.skewX=Z+r,g.skewY=G+r,g.transformPerspective=D+C,(g.zOrigin=parseFloat(A.split(" ")[2])||!e&&g.zOrigin||0)&&(i[qe]=TC(A)),g.xOffset=g.yOffset=0,g.force3D=je.force3D,g.renderTransform=g.svg?ju:Cs?ss:Qu,g.uncache=0,g},TC=function(t){return(t=t.split(" "))[0]+" "+t[1]},wr=function(t,e,g){var i=we(e);return $t(parseFloat(e)+parseFloat(Gi(t,"x",g+"px",i)))+i},Qu=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ss(t,e)},Ni="0deg",xI="0px",Ti=") ",ss=function(t,e){var g=e||this,i=g.xPercent,I=g.yPercent,C=g.x,r=g.y,o=g.z,A=g.rotation,s=g.rotationY,u=g.rotationX,d=g.skewX,c=g.skewY,m=g.scaleX,h=g.scaleY,b=g.transformPerspective,B=g.force3D,Z=g.target,G=g.zOrigin,D="",w=B==="auto"&&t&&t!==1||B===!0;if(G&&(u!==Ni||s!==Ni)){var K=parseFloat(s)*cI,_=Math.sin(K),F=Math.cos(K),V;K=parseFloat(u)*cI,V=Math.cos(K),C=wr(Z,C,_*V*-G),r=wr(Z,r,-Math.sin(K)*-G),o=wr(Z,o,F*V*-G+G)}b!==xI&&(D+="perspective("+b+Ti),(i||I)&&(D+="translate("+i+"%, "+I+"%) "),(w||C!==xI||r!==xI||o!==xI)&&(D+=o!==xI||w?"translate3d("+C+", "+r+", "+o+") ":"translate("+C+", "+r+Ti),A!==Ni&&(D+="rotate("+A+Ti),s!==Ni&&(D+="rotateY("+s+Ti),u!==Ni&&(D+="rotateX("+u+Ti),(d!==Ni||c!==Ni)&&(D+="skew("+d+", "+c+Ti),(m!==1||h!==1)&&(D+="scale("+m+", "+h+Ti),Z.style[Qt]=D||"translate(0, 0)"},ju=function(t,e){var g=e||this,i=g.xPercent,I=g.yPercent,C=g.x,r=g.y,o=g.rotation,A=g.skewX,s=g.skewY,u=g.scaleX,d=g.scaleY,c=g.target,m=g.xOrigin,h=g.yOrigin,b=g.xOffset,B=g.yOffset,Z=g.forceCSS,G=parseFloat(C),D=parseFloat(r),w,K,_,F,V;o=parseFloat(o),A=parseFloat(A),s=parseFloat(s),s&&(s=parseFloat(s),A+=s,o+=s),o||A?(o*=cI,A*=cI,w=Math.cos(o)*u,K=Math.sin(o)*u,_=Math.sin(o-A)*-d,F=Math.cos(o-A)*d,A&&(s*=cI,V=Math.tan(A-s),V=Math.sqrt(1+V*V),_*=V,F*=V,s&&(V=Math.tan(s),V=Math.sqrt(1+V*V),w*=V,K*=V)),w=$t(w),K=$t(K),_=$t(_),F=$t(F)):(w=u,F=d,K=_=0),(G&&!~(C+"").indexOf("px")||D&&!~(r+"").indexOf("px"))&&(G=Gi(c,"x",C,"px"),D=Gi(c,"y",r,"px")),(m||h||b||B)&&(G=$t(G+m-(m*w+h*_)+b),D=$t(D+h-(m*K+h*F)+B)),(i||I)&&(V=c.getBBox(),G=$t(G+i/100*V.width),D=$t(D+I/100*V.height)),V="matrix("+w+","+K+","+_+","+F+","+G+","+D+")",c.setAttribute("transform",V),Z&&(c.style[Qt]=V)},qu=function(t,e,g,i,I){var C=360,r=ce(I),o=parseFloat(I)*(r&&~I.indexOf("rad")?Ei:1),A=o-i,s=i+A+"deg",u,d;return r&&(u=I.split("_")[1],u==="short"&&(A%=C,A!==A%(C/2)&&(A+=A<0?C:-C)),u==="cw"&&A<0?A=(A+C*OA)%C-~~(A/C)*C:u==="ccw"&&A>0&&(A=(A-C*OA)%C-~~(A/C)*C)),t._pt=d=new ke(t._pt,e,g,i,A,Fu),d.e=s,d.u="deg",t._props.push(g),d},ts=function(t,e){for(var g in e)t[g]=e[g];return t},$u=function(t,e,g){var i=ts({},g._gsap),I="perspective,force3D,transformOrigin,svgOrigin",C=g.style,r,o,A,s,u,d,c,m;i.svg?(A=g.getAttribute("transform"),g.setAttribute("transform",""),C[Qt]=e,r=MI(g,1),Pi(g,Qt),g.setAttribute("transform",A)):(A=getComputedStyle(g)[Qt],C[Qt]=e,r=MI(g,1),C[Qt]=A);for(o in ii)A=i[o],s=r[o],A!==s&&I.indexOf(o)<0&&(c=we(A),m=we(s),u=c!==m?Gi(g,o,A,m):parseFloat(A),d=parseFloat(s),t._pt=new ke(t._pt,r,o,u,d-u,_r),t._pt.u=m||0,t._props.push(o));ts(r,i)};He("padding,margin,Width,Radius",function(n,t){var e="Top",g="Right",i="Bottom",I="Left",C=(t<3?[e,g,i,I]:[e+I,e+g,i+g,i+I]).map(function(r){return t<2?n+r:"border"+r+n});NC[t>1?"border"+n:n]=function(r,o,A,s,u){var d,c;if(arguments.length<4)return d=C.map(function(m){return gi(r,m,A)}),c=d.join(" "),c.split(d[0]).length===5?d[0]:c;d=(s+"").split(" "),c={},C.forEach(function(m,h){return c[m]=d[h]=d[h]||d[(h-1)/2|0]}),r.init(o,c,u)}});var Xr={name:"css",register:Yr,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,g,i,I){var C=this._props,r=t.style,o=g.vars.startAt,A,s,u,d,c,m,h,b,B,Z,G,D,w,K,_,F;Vr||Yr(),this.styles=this.styles||Is(t),F=this.styles.props,this.tween=g;for(h in e)if(h!=="autoRound"&&(s=e[h],!(Oe[h]&&br(h,e,g,i,t,I)))){if(c=typeof s,m=NC[h],c==="function"&&(s=s.call(g,i,t,I),c=typeof s),c==="string"&&~s.indexOf("random(")&&(s=aI(s)),m)m(this,t,h,s,g)&&(_=1);else if(h.substr(0,2)==="--")A=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",ti.lastIndex=0,ti.test(A)||(b=we(A),B=we(s)),B?b!==B&&(A=Gi(t,h,A,B)+B):b&&(s+=b),this.add(r,"setProperty",A,s,i,I,0,0,h),C.push(h),F.push(h,0,r[h]);else if(c!=="undefined"){if(o&&h in o?(A=typeof o[h]=="function"?o[h].call(g,i,t,I):o[h],ce(A)&&~A.indexOf("random(")&&(A=aI(A)),we(A+"")||A==="auto"||(A+=je.units[h]||we(gi(t,h))||""),(A+"").charAt(1)==="="&&(A=gi(t,h))):A=gi(t,h),d=parseFloat(A),Z=c==="string"&&s.charAt(1)==="="&&s.substr(0,2),Z&&(s=s.substr(2)),u=parseFloat(s),h in Lg&&(h==="autoAlpha"&&(d===1&&gi(t,"visibility")==="hidden"&&u&&(d=0),F.push("visibility",0,r.visibility),bi(this,r,"visibility",d?"inherit":"hidden",u?"inherit":"hidden",!u)),h!=="scale"&&h!=="transform"&&(h=Lg[h],~h.indexOf(",")&&(h=h.split(",")[0]))),G=h in ii,G){if(this.styles.save(h),D||(w=t._gsap,w.renderTransform&&!e.parseTransform||MI(t,e.parseTransform),K=e.smoothOrigin!==!1&&w.smooth,D=this._pt=new ke(this._pt,r,Qt,0,1,w.renderTransform,w,0,-1),D.dep=1),h==="scale")this._pt=new ke(this._pt,w,"scaleY",w.scaleY,(Z?ki(w.scaleY,Z+u):u)-w.scaleY||0,_r),this._pt.u=0,C.push("scaleY",h),h+="X";else if(h==="transformOrigin"){F.push(qe,0,r[qe]),s=Ou(s),w.svg?Kr(t,s,0,K,0,this):(B=parseFloat(s.split(" ")[2])||0,B!==w.zOrigin&&bi(this,w,"zOrigin",w.zOrigin,B),bi(this,r,h,TC(A),TC(s)));continue}else if(h==="svgOrigin"){Kr(t,s,1,K,0,this);continue}else if(h in os){qu(this,w,h,d,Z?ki(d,Z+s):s);continue}else if(h==="smoothOrigin"){bi(this,w,"smooth",w.smooth,s);continue}else if(h==="force3D"){w[h]=s;continue}else if(h==="transform"){$u(this,s,t);continue}}else h in r||(h=hI(h)||h);if(G||(u||u===0)&&(d||d===0)&&!Ru.test(s)&&h in r)b=(A+"").substr((d+"").length),u||(u=0),B=we(s)||(h in je.units?je.units[h]:b),b!==B&&(d=Gi(t,h,A,B)),this._pt=new ke(this._pt,G?w:r,h,d,(Z?ki(d,Z+u):u)-d,!G&&(B==="px"||h==="zIndex")&&e.autoRound!==!1?Hu:_r),this._pt.u=B||0,b!==B&&B!=="%"&&(this._pt.b=A,this._pt.r=Xu);else if(h in r)zu.call(this,t,h,A,Z?Z+s:s);else if(h in t)this.add(t,h,A||t[h],Z?Z+s:s,i,I);else if(h!=="parseTransform"){FC(h,s);continue}G||(h in r?F.push(h,0,r[h]):F.push(h,1,A||t[h])),C.push(h)}}_&&Dr(this)},render:function(t,e){if(e.tween._time||!vr())for(var g=e._pt;g;)g.r(t,g.d),g=g._next;else e.styles.revert()},get:gi,aliases:Lg,getSetter:function(t,e,g){var i=Lg[e];return i&&i.indexOf(",")<0&&(e=i),e in ii&&e!==qe&&(t._gsap.x||gi(t,"x"))?g&&zA===g?e==="scale"?Tu:Nu:(zA=g||{})&&(e==="scale"?Eu:xu):t.style&&!RC(t.style[e])?ku:~e.indexOf("-")?Lu:LC(t,e)},core:{_removeProperty:Pi,_getMatrix:Fr}};Ke.utils.checkPrefix=hI;Ke.core.getStyleSaver=Is;(function(n,t,e,g){var i=He(n+","+t+","+e,function(I){ii[I]=1});He(t,function(I){je.units[I]="deg",os[I]=1}),Lg[i[13]]=n+","+t,He(g,function(I){var C=I.split(":");Lg[C[1]]=i[C[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");He("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){je.units[n]="px"});Ke.registerPlugin(Xr);var vt=Ke.registerPlugin(Xr)||Ke,xh=vt.core.Tween;function as(n,t){for(var e=0;e<t.length;e++){var g=t[e];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}function tc(n,t,e){return t&&as(n.prototype,t),e&&as(n,e),n}var _e,PC,ec,ng,Bi,Zi,pI,us,Mi,zI,cs,Ii,Sg,hs,ds=function(){return _e||typeof window<"u"&&(_e=window.gsap)&&_e.registerPlugin&&_e},ps=1,dI=[],dt=[],wg=[],OI=Date.now,Hr=function(t,e){return e},gc=function(){var t=zI.core,e=t.bridge||{},g=t._scrollers,i=t._proxies;g.push.apply(g,dt),i.push.apply(i,wg),dt=g,wg=i,Hr=function(C,r){return e[C](r)}},ni=function(t,e){return~wg.indexOf(t)&&wg[wg.indexOf(t)+1][e]},UI=function(t){return!!~cs.indexOf(t)},Ne=function(t,e,g,i,I){return t.addEventListener(e,g,{passive:i!==!1,capture:!!I})},Le=function(t,e,g,i){return t.removeEventListener(e,g,!!i)},EC="scrollLeft",xC="scrollTop",kr=function(){return Ii&&Ii.isPressed||dt.cache++},MC=function(t,e){var g=function i(I){if(I||I===0){ps&&(ng.history.scrollRestoration="manual");var C=Ii&&Ii.isPressed;I=i.v=Math.round(I)||(Ii&&Ii.iOS?1:0),t(I),i.cacheID=dt.cache,C&&Hr("ss",I)}else(e||dt.cache!==i.cacheID||Hr("ref"))&&(i.cacheID=dt.cache,i.v=t());return i.v+i.offset};return g.offset=0,t&&g},Ve={s:EC,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:MC(function(n){return arguments.length?ng.scrollTo(n,Ae.sc()):ng.pageXOffset||Bi[EC]||Zi[EC]||pI[EC]||0})},Ae={s:xC,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ve,sc:MC(function(n){return arguments.length?ng.scrollTo(Ve.sc(),n):ng.pageYOffset||Bi[xC]||Zi[xC]||pI[xC]||0})},Te=function(t,e){return(e&&e._ctx&&e._ctx.selector||_e.utils.toArray)(t)[0]||(typeof t=="string"&&_e.config().nullTargetWarn!==!1?console.warn("Element not found:",t):null)},Ci=function(t,e){var g=e.s,i=e.sc;UI(t)&&(t=Bi.scrollingElement||Zi);var I=dt.indexOf(t),C=i===Ae.sc?1:2;!~I&&(I=dt.push(t)-1),dt[I+C]||Ne(t,"scroll",kr);var r=dt[I+C],o=r||(dt[I+C]=MC(ni(t,g),!0)||(UI(t)?i:MC(function(A){return arguments.length?t[g]=A:t[g]})));return o.target=t,r||(o.smooth=_e.getProperty(t,"scrollBehavior")==="smooth"),o},JC=function(t,e,g){var i=t,I=t,C=OI(),r=C,o=e||50,A=Math.max(500,o*3),s=function(m,h){var b=OI();h||b-C>o?(I=i,i=m,r=C,C=b):g?i+=m:i=I+(m-I)/(b-r)*(C-r)},u=function(){I=i=g?0:i,r=C=0},d=function(m){var h=r,b=I,B=OI();return(m||m===0)&&m!==i&&s(m),C===r||B-r>A?0:(i+(g?b:-b))/((g?B:C)-h)*1e3};return{update:s,reset:u,getVelocity:d}},JI=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},ls=function(t){var e=Math.max.apply(Math,t),g=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(g)?e:g},ms=function(){zI=_e.core.globals().ScrollTrigger,zI&&zI.core&&gc()},fs=function(t){return _e=t||ds(),!PC&&_e&&typeof document<"u"&&document.body&&(ng=window,Bi=document,Zi=Bi.documentElement,pI=Bi.body,cs=[ng,Bi,Zi,pI],ec=_e.utils.clamp,hs=_e.core.context||function(){},Mi="onpointerenter"in pI?"pointer":"mouse",us=te.isTouch=ng.matchMedia&&ng.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ng||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Sg=te.eventTypes=("ontouchstart"in Zi?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Zi?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return ps=0},500),ms(),PC=1),PC};Ve.op=Ae;dt.cache=0;var te=function(){function n(e){this.init(e)}var t=n.prototype;return t.init=function(g){PC||fs(_e)||console.warn("Please gsap.registerPlugin(Observer)"),zI||ms();var i=g.tolerance,I=g.dragMinimum,C=g.type,r=g.target,o=g.lineHeight,A=g.debounce,s=g.preventDefault,u=g.onStop,d=g.onStopDelay,c=g.ignore,m=g.wheelSpeed,h=g.event,b=g.onDragStart,B=g.onDragEnd,Z=g.onDrag,G=g.onPress,D=g.onRelease,w=g.onRight,K=g.onLeft,_=g.onUp,F=g.onDown,V=g.onChangeX,v=g.onChangeY,k=g.onChange,H=g.onToggleX,M=g.onToggleY,O=g.onHover,N=g.onHoverEnd,$=g.onMove,q=g.ignoreCheck,at=g.isNormalizer,ft=g.onGestureStart,S=g.onGestureEnd,It=g.onWheel,bt=g.onEnable,St=g.onDisable,ct=g.onClick,rt=g.scrollSpeed,ot=g.capture,wt=g.allowClicks,Dt=g.lockAxis,Ht=g.onLockAxis;this.target=r=Te(r)||Zi,this.vars=g,c&&(c=_e.utils.toArray(c)),i=i||1e-9,I=I||0,m=m||1,rt=rt||1,C=C||"wheel,touch,pointer",A=A!==!1,o||(o=parseFloat(ng.getComputedStyle(pI).lineHeight)||22);var ht,_t,Ot,Q,At,kt,ne,W=this,U=0,$e=0,Mt=g.passive||!s,z=Ci(r,Ve),Xe=Ci(r,Ae),Kg=z(),Pg=Xe(),ee=~C.indexOf("touch")&&!~C.indexOf("pointer")&&Sg[0]==="pointerdown",Je=UI(r),Et=r.ownerDocument||Bi,Ze=[0,0,0],de=[0,0,0],Gg=0,Vg=function(){return Gg=OI()},Lt=function(et,yt){return(W.event=et)&&c&&~c.indexOf(et.target)||yt&&ee&&et.pointerType!=="touch"||q&&q(et,yt)},Mg=function(){W._vx.reset(),W._vy.reset(),_t.pause(),u&&u(W)},ze=function(){var et=W.deltaX=ls(Ze),yt=W.deltaY=ls(de),T=Math.abs(et)>=i,Ct=Math.abs(yt)>=i;k&&(T||Ct)&&k(W,et,yt,Ze,de),T&&(w&&W.deltaX>0&&w(W),K&&W.deltaX<0&&K(W),V&&V(W),H&&W.deltaX<0!=U<0&&H(W),U=W.deltaX,Ze[0]=Ze[1]=Ze[2]=0),Ct&&(F&&W.deltaY>0&&F(W),_&&W.deltaY<0&&_(W),v&&v(W),M&&W.deltaY<0!=$e<0&&M(W),$e=W.deltaY,de[0]=de[1]=de[2]=0),(Q||Ot)&&($&&$(W),Ot&&(Z(W),Ot=!1),Q=!1),kt&&!(kt=!1)&&Ht&&Ht(W),At&&(It(W),At=!1),ht=0},Jg=function(et,yt,T){Ze[T]+=et,de[T]+=yt,W._vx.update(et),W._vy.update(yt),A?ht||(ht=requestAnimationFrame(ze)):ze()},vg=function(et,yt){Dt&&!ne&&(W.axis=ne=Math.abs(et)>Math.abs(yt)?"x":"y",kt=!0),ne!=="y"&&(Ze[2]+=et,W._vx.update(et,!0)),ne!=="x"&&(de[2]+=yt,W._vy.update(yt,!0)),A?ht||(ht=requestAnimationFrame(ze)):ze()},Rg=function(et){if(!Lt(et,1)){et=JI(et,s);var yt=et.clientX,T=et.clientY,Ct=yt-W.x,tt=T-W.y,it=W.isDragging;W.x=yt,W.y=T,(it||Math.abs(W.startX-yt)>=I||Math.abs(W.startY-T)>=I)&&(Z&&(Ot=!0),it||(W.isDragging=!0),vg(Ct,tt),it||b&&b(W))}},zg=W.onPress=function(j){Lt(j,1)||j&&j.button||(W.axis=ne=null,_t.pause(),W.isPressed=!0,j=JI(j),U=$e=0,W.startX=W.x=j.clientX,W.startY=W.y=j.clientY,W._vx.reset(),W._vy.reset(),Ne(at?r:Et,Sg[1],Rg,Mt,!0),W.deltaX=W.deltaY=0,G&&G(W))},lt=W.onRelease=function(j){if(!Lt(j,1)){Le(at?r:Et,Sg[1],Rg,!0);var et=!isNaN(W.y-W.startY),yt=W.isDragging,T=yt&&(Math.abs(W.x-W.startX)>3||Math.abs(W.y-W.startY)>3),Ct=JI(j);!T&&et&&(W._vx.reset(),W._vy.reset(),s&&wt&&_e.delayedCall(.08,function(){if(OI()-Gg>300&&!j.defaultPrevented){if(j.target.click)j.target.click();else if(Et.createEvent){var tt=Et.createEvent("MouseEvents");tt.initMouseEvent("click",!0,!0,ng,1,Ct.screenX,Ct.screenY,Ct.clientX,Ct.clientY,!1,!1,!1,!1,0,null),j.target.dispatchEvent(tt)}}})),W.isDragging=W.isGesturing=W.isPressed=!1,u&&yt&&!at&&_t.restart(!0),B&&yt&&B(W),D&&D(W,T)}},Og=function(et){return et.touches&&et.touches.length>1&&(W.isGesturing=!0)&&ft(et,W.isDragging)},tg=function(){return(W.isGesturing=!1)||S(W)},eg=function(et){if(!Lt(et)){var yt=z(),T=Xe();Jg((yt-Kg)*rt,(T-Pg)*rt,1),Kg=yt,Pg=T,u&&_t.restart(!0)}},ye=function(et){if(!Lt(et)){et=JI(et,s),It&&(At=!0);var yt=(et.deltaMode===1?o:et.deltaMode===2?ng.innerHeight:1)*m;Jg(et.deltaX*yt,et.deltaY*yt,0),u&&!at&&_t.restart(!0)}},Fg=function(et){if(!Lt(et)){var yt=et.clientX,T=et.clientY,Ct=yt-W.x,tt=T-W.y;W.x=yt,W.y=T,Q=!0,u&&_t.restart(!0),(Ct||tt)&&vg(Ct,tt)}},ae=function(et){W.event=et,O(W)},Bg=function(et){W.event=et,N(W)},Wi=function(et){return Lt(et)||JI(et,s)&&ct(W)};_t=W._dc=_e.delayedCall(d||.25,Mg).pause(),W.deltaX=W.deltaY=0,W._vx=JC(0,50,!0),W._vy=JC(0,50,!0),W.scrollX=z,W.scrollY=Xe,W.isDragging=W.isGesturing=W.isPressed=!1,hs(this),W.enable=function(j){return W.isEnabled||(Ne(Je?Et:r,"scroll",kr),C.indexOf("scroll")>=0&&Ne(Je?Et:r,"scroll",eg,Mt,ot),C.indexOf("wheel")>=0&&Ne(r,"wheel",ye,Mt,ot),(C.indexOf("touch")>=0&&us||C.indexOf("pointer")>=0)&&(Ne(r,Sg[0],zg,Mt,ot),Ne(Et,Sg[2],lt),Ne(Et,Sg[3],lt),wt&&Ne(r,"click",Vg,!0,!0),ct&&Ne(r,"click",Wi),ft&&Ne(Et,"gesturestart",Og),S&&Ne(Et,"gestureend",tg),O&&Ne(r,Mi+"enter",ae),N&&Ne(r,Mi+"leave",Bg),$&&Ne(r,Mi+"move",Fg)),W.isEnabled=!0,j&&j.type&&zg(j),bt&&bt(W)),W},W.disable=function(){W.isEnabled&&(dI.filter(function(j){return j!==W&&UI(j.target)}).length||Le(Je?Et:r,"scroll",kr),W.isPressed&&(W._vx.reset(),W._vy.reset(),Le(at?r:Et,Sg[1],Rg,!0)),Le(Je?Et:r,"scroll",eg,ot),Le(r,"wheel",ye,ot),Le(r,Sg[0],zg,ot),Le(Et,Sg[2],lt),Le(Et,Sg[3],lt),Le(r,"click",Vg,!0),Le(r,"click",Wi),Le(Et,"gesturestart",Og),Le(Et,"gestureend",tg),Le(r,Mi+"enter",ae),Le(r,Mi+"leave",Bg),Le(r,Mi+"move",Fg),W.isEnabled=W.isPressed=W.isDragging=!1,St&&St(W))},W.kill=W.revert=function(){W.disable();var j=dI.indexOf(W);j>=0&&dI.splice(j,1),Ii===W&&(Ii=0)},dI.push(W),at&&UI(r)&&(Ii=W),W.enable(h)},tc(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();te.version="3.12.5";te.create=function(n){return new te(n)};te.register=fs;te.getAll=function(){return dI.slice()};te.getById=function(n){return dI.filter(function(t){return t.vars.id===n})[0]};ds()&&_e.registerPlugin(te);var J,bI,Zt,jt,_g,xt,Hs,An,oC,gC,jI,zC,ve,un,Jr,xe,bs,Gs,GI,ks,Lr,Ls,Ee,zr,Ns,Ts,yi,Or,$r,BI,to,sn,Ur,Nr,OC=1,Re=Date.now,Tr=Re(),mg=0,qI=0,Bs=function(t,e,g){var i=og(t)&&(t.substr(0,6)==="clamp("||t.indexOf("max")>-1);return g["_"+e+"Clamp"]=i,i?t.substr(6,t.length-7):t},Zs=function(t,e){return e&&(!og(t)||t.substr(0,6)!=="clamp(")?"clamp("+t+")":t},ic=function n(){return qI&&requestAnimationFrame(n)},ys=function(){return un=1},Ds=function(){return un=0},Tg=function(t){return t},$I=function(t){return Math.round(t*1e5)/1e5||0},Es=function(){return typeof window<"u"},xs=function(){return J||Es()&&(J=window.gsap)&&J.registerPlugin&&J},ji=function(t){return!!~Hs.indexOf(t)},Ps=function(t){return(t==="Height"?to:Zt["inner"+t])||_g["client"+t]||xt["client"+t]},Ms=function(t){return ni(t,"getBoundingClientRect")||(ji(t)?function(){return on.width=Zt.innerWidth,on.height=to,on}:function(){return ri(t)})},Ic=function(t,e,g){var i=g.d,I=g.d2,C=g.a;return(C=ni(t,"getBoundingClientRect"))?function(){return C()[i]}:function(){return(e?Ps(I):t["client"+I])||0}},Cc=function(t,e){return!e||~wg.indexOf(t)?Ms(t):function(){return on}},Eg=function(t,e){var g=e.s,i=e.d2,I=e.d,C=e.a;return Math.max(0,(g="scroll"+i)&&(C=ni(t,g))?C()-Ms(t)()[I]:ji(t)?(_g[g]||xt[g])-Ps(i):t[g]-t["offset"+i])},UC=function(t,e){for(var g=0;g<GI.length;g+=3)(!e||~e.indexOf(GI[g+1]))&&t(GI[g],GI[g+1],GI[g+2])},og=function(t){return typeof t=="string"},Me=function(t){return typeof t=="function"},tC=function(t){return typeof t=="number"},Ji=function(t){return typeof t=="object"},QI=function(t,e,g){return t&&t.progress(e?0:1)&&g&&t.pause()},Er=function(t,e){if(t.enabled){var g=t._ctx?t._ctx.add(function(){return e(t)}):e(t);g&&g.totalTime&&(t.callbackAnimation=g)}},mI=Math.abs,Js="left",zs="top",eo="right",go="bottom",Oi="width",Ui="height",iC="Right",IC="Left",CC="Top",nC="Bottom",se="padding",dg="margin",yI="Width",io="Height",he="px",pg=function(t){return Zt.getComputedStyle(t)},nc=function(t){var e=pg(t).position;t.style.position=e==="absolute"||e==="fixed"?e:"relative"},Ss=function(t,e){for(var g in e)g in t||(t[g]=e[g]);return t},ri=function(t,e){var g=e&&pg(t)[Jr]!=="matrix(1, 0, 0, 1, 0, 0)"&&J.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=t.getBoundingClientRect();return g&&g.progress(0).kill(),i},an=function(t,e){var g=e.d2;return t["offset"+g]||t["client"+g]||0},Os=function(t){var e=[],g=t.labels,i=t.duration(),I;for(I in g)e.push(g[I]/i);return e},rc=function(t){return function(e){return J.utils.snap(Os(t),e)}},Io=function(t){var e=J.utils.snap(t),g=Array.isArray(t)&&t.slice(0).sort(function(i,I){return i-I});return g?function(i,I,C){C===void 0&&(C=.001);var r;if(!I)return e(i);if(I>0){for(i-=C,r=0;r<g.length;r++)if(g[r]>=i)return g[r];return g[r-1]}else for(r=g.length,i+=C;r--;)if(g[r]<=i)return g[r];return g[0]}:function(i,I,C){C===void 0&&(C=.001);var r=e(i);return!I||Math.abs(r-i)<C||r-i<0==I<0?r:e(I<0?i-t:i+t)}},oc=function(t){return function(e,g){return Io(Os(t))(e,g.direction)}},QC=function(t,e,g,i){return g.split(",").forEach(function(I){return t(e,I,i)})},Ge=function(t,e,g,i,I){return t.addEventListener(e,g,{passive:!i,capture:!!I})},be=function(t,e,g,i){return t.removeEventListener(e,g,!!i)},jC=function(t,e,g){g=g&&g.wheelHandler,g&&(t(e,"wheel",g),t(e,"touchmove",g))},ws={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},qC={toggleActions:"play",anticipatePin:0},ln={top:0,left:0,center:.5,bottom:1,right:1},In=function(t,e){if(og(t)){var g=t.indexOf("="),i=~g?+(t.charAt(g-1)+1)*parseFloat(t.substr(g+1)):0;~g&&(t.indexOf("%")>g&&(i*=e/100),t=t.substr(0,g-1)),t=i+(t in ln?ln[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},$C=function(t,e,g,i,I,C,r,o){var A=I.startColor,s=I.endColor,u=I.fontSize,d=I.indent,c=I.fontWeight,m=jt.createElement("div"),h=ji(g)||ni(g,"pinType")==="fixed",b=t.indexOf("scroller")!==-1,B=h?xt:g,Z=t.indexOf("start")!==-1,G=Z?A:s,D="border-color:"+G+";font-size:"+u+";color:"+G+";font-weight:"+c+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return D+="position:"+((b||o)&&h?"fixed;":"absolute;"),(b||o||!h)&&(D+=(i===Ae?eo:go)+":"+(C+parseFloat(d))+"px;"),r&&(D+="box-sizing:border-box;text-align:left;width:"+r.offsetWidth+"px;"),m._isStart=Z,m.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),m.style.cssText=D,m.innerText=e||e===0?t+"-"+e:t,B.children[0]?B.insertBefore(m,B.children[0]):B.appendChild(m),m._offset=m["offset"+i.op.d2],Cn(m,0,i,Z),m},Cn=function(t,e,g,i){var I={display:"block"},C=g[i?"os2":"p2"],r=g[i?"p2":"os2"];t._isFlipped=i,I[g.a+"Percent"]=i?-100:0,I[g.a]=i?"1px":0,I["border"+C+yI]=1,I["border"+r+yI]=0,I[g.p]=e+"px",J.set(t,I)},pt=[],Qr={},AC,_s=function(){return Re()-mg>34&&(AC||(AC=requestAnimationFrame(oi)))},fI=function(){(!Ee||!Ee.isPressed||Ee.startX>xt.clientWidth)&&(dt.cache++,Ee?AC||(AC=requestAnimationFrame(oi)):oi(),mg||$i("scrollStart"),mg=Re())},xr=function(){Ts=Zt.innerWidth,Ns=Zt.innerHeight},eC=function(){dt.cache++,!ve&&!Ls&&!jt.fullscreenElement&&!jt.webkitFullscreenElement&&(!zr||Ts!==Zt.innerWidth||Math.abs(Zt.innerHeight-Ns)>Zt.innerHeight*.25)&&An.restart(!0)},qi={},Ac=[],Us=function n(){return be(nt,"scrollEnd",n)||zi(!0)},$i=function(t){return qi[t]&&qi[t].map(function(e){return e()})||Ac},rg=[],Qs=function(t){for(var e=0;e<rg.length;e+=5)(!t||rg[e+4]&&rg[e+4].query===t)&&(rg[e].style.cssText=rg[e+1],rg[e].getBBox&&rg[e].setAttribute("transform",rg[e+2]||""),rg[e+3].uncache=1)},Co=function(t,e){var g;for(xe=0;xe<pt.length;xe++)g=pt[xe],g&&(!e||g._ctx===e)&&(t?g.kill(1):g.revert(!0,!0));sn=!0,e&&Qs(e),e||$i("revert")},js=function(t,e){dt.cache++,(e||!Pe)&&dt.forEach(function(g){return Me(g)&&g.cacheID++&&(g.rec=0)}),og(t)&&(Zt.history.scrollRestoration=$r=t)},Pe,Qi=0,Ws,sc=function(){if(Ws!==Qi){var t=Ws=Qi;requestAnimationFrame(function(){return t===Qi&&zi(!0)})}},qs=function(){xt.appendChild(BI),to=!Ee&&BI.offsetHeight||Zt.innerHeight,xt.removeChild(BI)},Ys=function(t){return oC(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(e){return e.style.display=t?"none":"block"})},zi=function(t,e){if(mg&&!t&&!sn){Ge(nt,"scrollEnd",Us);return}qs(),Pe=nt.isRefreshing=!0,dt.forEach(function(i){return Me(i)&&++i.cacheID&&(i.rec=i())});var g=$i("refreshInit");ks&&nt.sort(),e||Co(),dt.forEach(function(i){Me(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),pt.slice(0).forEach(function(i){return i.refresh()}),sn=!1,pt.forEach(function(i){if(i._subPinOffset&&i.pin){var I=i.vars.horizontal?"offsetWidth":"offsetHeight",C=i.pin[I];i.revert(!0,1),i.adjustPinSpacing(i.pin[I]-C),i.refresh()}}),Ur=1,Ys(!0),pt.forEach(function(i){var I=Eg(i.scroller,i._dir),C=i.vars.end==="max"||i._endClamp&&i.end>I,r=i._startClamp&&i.start>=I;(C||r)&&i.setPositions(r?I-1:i.start,C?Math.max(r?I:i.start+1,I):i.end,!0)}),Ys(!1),Ur=0,g.forEach(function(i){return i&&i.render&&i.render(-1)}),dt.forEach(function(i){Me(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),js($r,1),An.pause(),Qi++,Pe=2,oi(2),pt.forEach(function(i){return Me(i.vars.onRefresh)&&i.vars.onRefresh(i)}),Pe=nt.isRefreshing=!1,$i("refresh")},jr=0,nn=1,rC,oi=function(t){if(t===2||!Pe&&!sn){nt.isUpdating=!0,rC&&rC.update(0);var e=pt.length,g=Re(),i=g-Tr>=50,I=e&&pt[0].scroll();if(nn=jr>I?-1:1,Pe||(jr=I),i&&(mg&&!un&&g-mg>200&&(mg=0,$i("scrollEnd")),jI=Tr,Tr=g),nn<0){for(xe=e;xe-- >0;)pt[xe]&&pt[xe].update(0,i);nn=1}else for(xe=0;xe<e;xe++)pt[xe]&&pt[xe].update(0,i);nt.isUpdating=!1}AC=0},qr=[Js,zs,go,eo,dg+nC,dg+iC,dg+CC,dg+IC,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],rn=qr.concat([Oi,Ui,"boxSizing","max"+yI,"max"+io,"position",dg,se,se+CC,se+iC,se+nC,se+IC]),ac=function(t,e,g){ZI(g);var i=t._gsap;if(i.spacerIsNative)ZI(i.spacerState);else if(t._gsap.swappedIn){var I=e.parentNode;I&&(I.insertBefore(t,e),I.removeChild(e))}t._gsap.swappedIn=!1},Pr=function(t,e,g,i){if(!t._gsap.swappedIn){for(var I=qr.length,C=e.style,r=t.style,o;I--;)o=qr[I],C[o]=g[o];C.position=g.position==="absolute"?"absolute":"relative",g.display==="inline"&&(C.display="inline-block"),r[go]=r[eo]="auto",C.flexBasis=g.flexBasis||"auto",C.overflow="visible",C.boxSizing="border-box",C[Oi]=an(t,Ve)+he,C[Ui]=an(t,Ae)+he,C[se]=r[dg]=r[zs]=r[Js]="0",ZI(i),r[Oi]=r["max"+yI]=g[Oi],r[Ui]=r["max"+io]=g[Ui],r[se]=g[se],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},lc=/([A-Z])/g,ZI=function(t){if(t){var e=t.t.style,g=t.length,i=0,I,C;for((t.t._gsap||J.core.getCache(t.t)).uncache=1;i<g;i+=2)C=t[i+1],I=t[i],C?e[I]=C:e[I]&&e.removeProperty(I.replace(lc,"-$1").toLowerCase())}},tn=function(t){for(var e=rn.length,g=t.style,i=[],I=0;I<e;I++)i.push(rn[I],g[rn[I]]);return i.t=t,i},uc=function(t,e,g){for(var i=[],I=t.length,C=g?8:0,r;C<I;C+=2)r=t[C],i.push(r,r in e?e[r]:t[C+1]);return i.t=t.t,i},on={left:0,top:0},Ks=function(t,e,g,i,I,C,r,o,A,s,u,d,c,m){Me(t)&&(t=t(o)),og(t)&&t.substr(0,3)==="max"&&(t=d+(t.charAt(4)==="="?In("0"+t.substr(3),g):0));var h=c?c.time():0,b,B,Z;if(c&&c.seek(0),isNaN(t)||(t=+t),tC(t))c&&(t=J.utils.mapRange(c.scrollTrigger.start,c.scrollTrigger.end,0,d,t)),r&&Cn(r,g,i,!0);else{Me(e)&&(e=e(o));var G=(t||"0").split(" "),D,w,K,_;Z=Te(e,o)||xt,D=ri(Z)||{},(!D||!D.left&&!D.top)&&pg(Z).display==="none"&&(_=Z.style.display,Z.style.display="block",D=ri(Z),_?Z.style.display=_:Z.style.removeProperty("display")),w=In(G[0],D[i.d]),K=In(G[1]||"0",g),t=D[i.p]-A[i.p]-s+w+I-K,r&&Cn(r,K,i,g-K<20||r._isStart&&K>20),g-=g-K}if(m&&(o[m]=t||-.001,t<0&&(t=0)),C){var F=t+g,V=C._isStart;b="scroll"+i.d2,Cn(C,F,i,V&&F>20||!V&&(u?Math.max(xt[b],_g[b]):C.parentNode[b])<=F+1),u&&(A=ri(r),u&&(C.style[i.op.p]=A[i.op.p]-i.op.m-C._offset+he))}return c&&Z&&(b=ri(Z),c.seek(d),B=ri(Z),c._caScrollDist=b[i.p]-B[i.p],t=t/c._caScrollDist*d),c&&c.seek(h),c?t:Math.round(t)},cc=/(webkit|moz|length|cssText|inset)/i,Vs=function(t,e,g,i){if(t.parentNode!==e){var I=t.style,C,r;if(e===xt){t._stOrig=I.cssText,r=pg(t);for(C in r)!+C&&!cc.test(C)&&r[C]&&typeof I[C]=="string"&&C!=="0"&&(I[C]=r[C]);I.top=g,I.left=i}else I.cssText=t._stOrig;J.core.getCache(t).uncache=1,e.appendChild(t)}},$s=function(t,e,g){var i=e,I=i;return function(C){var r=Math.round(t());return r!==i&&r!==I&&Math.abs(r-i)>3&&Math.abs(r-I)>3&&(C=r,g&&g()),I=i,i=C,C}},en=function(t,e,g){var i={};i[e.p]="+="+g,J.set(t,i)},vs=function(t,e){var g=Ci(t,e),i="_scroll"+e.p2,I=function C(r,o,A,s,u){var d=C.tween,c=o.onComplete,m={};A=A||g();var h=$s(g,A,function(){d.kill(),C.tween=0});return u=s&&u||0,s=s||r-A,d&&d.kill(),o[i]=r,o.inherit=!1,o.modifiers=m,m[i]=function(){return h(A+s*d.ratio+u*d.ratio*d.ratio)},o.onUpdate=function(){dt.cache++,C.tween&&oi()},o.onComplete=function(){C.tween=0,c&&c.call(d)},d=C.tween=J.to(t,o),d};return t[i]=g,g.wheelHandler=function(){return I.tween&&I.tween.kill()&&(I.tween=0)},Ge(t,"wheel",g.wheelHandler),nt.isTouch&&Ge(t,"touchmove",g.wheelHandler),I},nt=function(){function n(e,g){bI||n.register(J)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Or(this),this.init(e,g)}var t=n.prototype;return t.init=function(g,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!qI){this.update=this.refresh=this.kill=Tg;return}g=Ss(og(g)||tC(g)||g.nodeType?{trigger:g}:g,qC);var I=g,C=I.onUpdate,r=I.toggleClass,o=I.id,A=I.onToggle,s=I.onRefresh,u=I.scrub,d=I.trigger,c=I.pin,m=I.pinSpacing,h=I.invalidateOnRefresh,b=I.anticipatePin,B=I.onScrubComplete,Z=I.onSnapComplete,G=I.once,D=I.snap,w=I.pinReparent,K=I.pinSpacer,_=I.containerAnimation,F=I.fastScrollEnd,V=I.preventOverlaps,v=g.horizontal||g.containerAnimation&&g.horizontal!==!1?Ve:Ae,k=!u&&u!==0,H=Te(g.scroller||Zt),M=J.core.getCache(H),O=ji(H),N=("pinType"in g?g.pinType:ni(H,"pinType")||O&&"fixed")==="fixed",$=[g.onEnter,g.onLeave,g.onEnterBack,g.onLeaveBack],q=k&&g.toggleActions.split(" "),at="markers"in g?g.markers:qC.markers,ft=O?0:parseFloat(pg(H)["border"+v.p2+yI])||0,S=this,It=g.onRefreshInit&&function(){return g.onRefreshInit(S)},bt=Ic(H,O,v),St=Cc(H,O),ct=0,rt=0,ot=0,wt=Ci(H,v),Dt,Ht,ht,_t,Ot,Q,At,kt,ne,W,U,$e,Mt,z,Xe,Kg,Pg,ee,Je,Et,Ze,de,Gg,Vg,Lt,Mg,ze,Jg,vg,Rg,zg,lt,Og,tg,eg,ye,Fg,ae,Bg;if(S._startClamp=S._endClamp=!1,S._dir=v,b*=45,S.scroller=H,S.scroll=_?_.time.bind(_):wt,_t=wt(),S.vars=g,i=i||g.animation,"refreshPriority"in g&&(ks=1,g.refreshPriority===-9999&&(rC=S)),M.tweenScroll=M.tweenScroll||{top:vs(H,Ae),left:vs(H,Ve)},S.tweenTo=Dt=M.tweenScroll[v.p],S.scrubDuration=function(T){Og=tC(T)&&T,Og?lt?lt.duration(T):lt=J.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Og,paused:!0,onComplete:function(){return B&&B(S)}}):(lt&&lt.progress(1).kill(),lt=0)},i&&(i.vars.lazy=!1,i._initted&&!S.isReverted||i.vars.immediateRender!==!1&&g.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),S.animation=i.pause(),i.scrollTrigger=S,S.scrubDuration(u),Rg=0,o||(o=i.vars.id)),D&&((!Ji(D)||D.push)&&(D={snapTo:D}),"scrollBehavior"in xt.style&&J.set(O?[xt,_g]:H,{scrollBehavior:"auto"}),dt.forEach(function(T){return Me(T)&&T.target===(O?jt.scrollingElement||_g:H)&&(T.smooth=!1)}),ht=Me(D.snapTo)?D.snapTo:D.snapTo==="labels"?rc(i):D.snapTo==="labelsDirectional"?oc(i):D.directional!==!1?function(T,Ct){return Io(D.snapTo)(T,Re()-rt<500?0:Ct.direction)}:J.utils.snap(D.snapTo),tg=D.duration||{min:.1,max:2},tg=Ji(tg)?gC(tg.min,tg.max):gC(tg,tg),eg=J.delayedCall(D.delay||Og/2||.1,function(){var T=wt(),Ct=Re()-rt<500,tt=Dt.tween;if((Ct||Math.abs(S.getVelocity())<10)&&!tt&&!un&&ct!==T){var it=(T-Q)/z,ge=i&&!k?i.totalProgress():it,ut=Ct?0:(ge-zg)/(Re()-jI)*1e3||0,Wt=J.utils.clamp(-it,1-it,mI(ut/2)*ut/.185),re=it+(D.inertia===!1?0:Wt),Nt,Rt,Kt=D,gg=Kt.onStart,Ft=Kt.onInterrupt,De=Kt.onComplete;if(Nt=ht(re,S),tC(Nt)||(Nt=re),Rt=Math.round(Q+Nt*z),T<=At&&T>=Q&&Rt!==T){if(tt&&!tt._initted&&tt.data<=mI(Rt-T))return;D.inertia===!1&&(Wt=Nt-it),Dt(Rt,{duration:tg(mI(Math.max(mI(re-ge),mI(Nt-ge))*.185/ut/.05||0)),ease:D.ease||"power3",data:mI(Rt-T),onInterrupt:function(){return eg.restart(!0)&&Ft&&Ft(S)},onComplete:function(){S.update(),ct=wt(),i&&(lt?lt.resetTo("totalProgress",Nt,i._tTime/i._tDur):i.progress(Nt)),Rg=zg=i&&!k?i.totalProgress():S.progress,Z&&Z(S),De&&De(S)}},T,Wt*z,Rt-T-Wt*z),gg&&gg(S,Dt.tween)}}else S.isActive&&ct!==T&&eg.restart(!0)}).pause()),o&&(Qr[o]=S),d=S.trigger=Te(d||c!==!0&&c),Bg=d&&d._gsap&&d._gsap.stRevert,Bg&&(Bg=Bg(S)),c=c===!0?d:Te(c),og(r)&&(r={targets:d,className:r}),c&&(m===!1||m===dg||(m=!m&&c.parentNode&&c.parentNode.style&&pg(c.parentNode).display==="flex"?!1:se),S.pin=c,Ht=J.core.getCache(c),Ht.spacer?Xe=Ht.pinState:(K&&(K=Te(K),K&&!K.nodeType&&(K=K.current||K.nativeElement),Ht.spacerIsNative=!!K,K&&(Ht.spacerState=tn(K))),Ht.spacer=ee=K||jt.createElement("div"),ee.classList.add("pin-spacer"),o&&ee.classList.add("pin-spacer-"+o),Ht.pinState=Xe=tn(c)),g.force3D!==!1&&J.set(c,{force3D:!0}),S.spacer=ee=Ht.spacer,vg=pg(c),Vg=vg[m+v.os2],Et=J.getProperty(c),Ze=J.quickSetter(c,v.a,he),Pr(c,ee,vg),Pg=tn(c)),at){$e=Ji(at)?Ss(at,ws):ws,W=$C("scroller-start",o,H,v,$e,0),U=$C("scroller-end",o,H,v,$e,0,W),Je=W["offset"+v.op.d2];var Wi=Te(ni(H,"content")||H);kt=this.markerStart=$C("start",o,Wi,v,$e,Je,0,_),ne=this.markerEnd=$C("end",o,Wi,v,$e,Je,0,_),_&&(ae=J.quickSetter([kt,ne],v.a,he)),!N&&!(wg.length&&ni(H,"fixedMarkers")===!0)&&(nc(O?xt:H),J.set([W,U],{force3D:!0}),Mg=J.quickSetter(W,v.a,he),Jg=J.quickSetter(U,v.a,he))}if(_){var j=_.vars.onUpdate,et=_.vars.onUpdateParams;_.eventCallback("onUpdate",function(){S.update(0,0,1),j&&j.apply(_,et||[])})}if(S.previous=function(){return pt[pt.indexOf(S)-1]},S.next=function(){return pt[pt.indexOf(S)+1]},S.revert=function(T,Ct){if(!Ct)return S.kill(!0);var tt=T!==!1||!S.enabled,it=ve;tt!==S.isReverted&&(tt&&(ye=Math.max(wt(),S.scroll.rec||0),ot=S.progress,Fg=i&&i.progress()),kt&&[kt,ne,W,U].forEach(function(ge){return ge.style.display=tt?"none":"block"}),tt&&(ve=S,S.update(tt)),c&&(!w||!S.isActive)&&(tt?ac(c,ee,Xe):Pr(c,ee,pg(c),Lt)),tt||S.update(tt),ve=it,S.isReverted=tt)},S.refresh=function(T,Ct,tt,it){if(!((ve||!S.enabled)&&!Ct)){if(c&&T&&mg){Ge(n,"scrollEnd",Us);return}!Pe&&It&&It(S),ve=S,Dt.tween&&!tt&&(Dt.tween.kill(),Dt.tween=0),lt&&lt.pause(),h&&i&&i.revert({kill:!1}).invalidate(),S.isReverted||S.revert(!0,!0),S._subPinOffset=!1;var ge=bt(),ut=St(),Wt=_?_.duration():Eg(H,v),re=z<=.01,Nt=0,Rt=it||0,Kt=Ji(tt)?tt.end:g.end,gg=g.endTrigger||d,Ft=Ji(tt)?tt.start:g.start||(g.start===0||!d?0:c?"0 0":"0 100%"),De=S.pinnedContainer=g.pinnedContainer&&Te(g.pinnedContainer,S),Ag=d&&Math.max(0,pt.indexOf(S))||0,le=Ag,oe,pe,Ug,CI,me,ie,sg,Yi,GC,Ki,ag,Qg,Vi;for(at&&Ji(tt)&&(Qg=J.getProperty(W,v.p),Vi=J.getProperty(U,v.p));le--;)ie=pt[le],ie.end||ie.refresh(0,1)||(ve=S),sg=ie.pin,sg&&(sg===d||sg===c||sg===De)&&!ie.isReverted&&(Ki||(Ki=[]),Ki.unshift(ie),ie.revert(!0,!0)),ie!==pt[le]&&(Ag--,le--);for(Me(Ft)&&(Ft=Ft(S)),Ft=Bs(Ft,"start",S),Q=Ks(Ft,d,ge,v,wt(),kt,W,S,ut,ft,N,Wt,_,S._startClamp&&"_startClamp")||(c?-.001:0),Me(Kt)&&(Kt=Kt(S)),og(Kt)&&!Kt.indexOf("+=")&&(~Kt.indexOf(" ")?Kt=(og(Ft)?Ft.split(" ")[0]:"")+Kt:(Nt=In(Kt.substr(2),ge),Kt=og(Ft)?Ft:(_?J.utils.mapRange(0,_.duration(),_.scrollTrigger.start,_.scrollTrigger.end,Q):Q)+Nt,gg=d)),Kt=Bs(Kt,"end",S),At=Math.max(Q,Ks(Kt||(gg?"100% 0":Wt),gg,ge,v,wt()+Nt,ne,U,S,ut,ft,N,Wt,_,S._endClamp&&"_endClamp"))||-.001,Nt=0,le=Ag;le--;)ie=pt[le],sg=ie.pin,sg&&ie.start-ie._pinPush<=Q&&!_&&ie.end>0&&(oe=ie.end-(S._startClamp?Math.max(0,ie.start):ie.start),(sg===d&&ie.start-ie._pinPush<Q||sg===De)&&isNaN(Ft)&&(Nt+=oe*(1-ie.progress)),sg===c&&(Rt+=oe));if(Q+=Nt,At+=Nt,S._startClamp&&(S._startClamp+=Nt),S._endClamp&&!Pe&&(S._endClamp=At||-.001,At=Math.min(At,Eg(H,v))),z=At-Q||(Q-=.01)&&.001,re&&(ot=J.utils.clamp(0,1,J.utils.normalize(Q,At,ye))),S._pinPush=Rt,kt&&Nt&&(oe={},oe[v.a]="+="+Nt,De&&(oe[v.p]="-="+wt()),J.set([kt,ne],oe)),c&&!(Ur&&S.end>=Eg(H,v)))oe=pg(c),CI=v===Ae,Ug=wt(),de=parseFloat(Et(v.a))+Rt,!Wt&&At>1&&(ag=(O?jt.scrollingElement||_g:H).style,ag={style:ag,value:ag["overflow"+v.a.toUpperCase()]},O&&pg(xt)["overflow"+v.a.toUpperCase()]!=="scroll"&&(ag.style["overflow"+v.a.toUpperCase()]="scroll")),Pr(c,ee,oe),Pg=tn(c),pe=ri(c,!0),Yi=N&&Ci(H,CI?Ve:Ae)(),m?(Lt=[m+v.os2,z+Rt+he],Lt.t=ee,le=m===se?an(c,v)+z+Rt:0,le&&(Lt.push(v.d,le+he),ee.style.flexBasis!=="auto"&&(ee.style.flexBasis=le+he)),ZI(Lt),De&&pt.forEach(function(jg){jg.pin===De&&jg.vars.pinSpacing!==!1&&(jg._subPinOffset=!0)}),N&&wt(ye)):(le=an(c,v),le&&ee.style.flexBasis!=="auto"&&(ee.style.flexBasis=le+he)),N&&(me={top:pe.top+(CI?Ug-Q:Yi)+he,left:pe.left+(CI?Yi:Ug-Q)+he,boxSizing:"border-box",position:"fixed"},me[Oi]=me["max"+yI]=Math.ceil(pe.width)+he,me[Ui]=me["max"+io]=Math.ceil(pe.height)+he,me[dg]=me[dg+CC]=me[dg+iC]=me[dg+nC]=me[dg+IC]="0",me[se]=oe[se],me[se+CC]=oe[se+CC],me[se+iC]=oe[se+iC],me[se+nC]=oe[se+nC],me[se+IC]=oe[se+IC],Kg=uc(Xe,me,w),Pe&&wt(0)),i?(GC=i._initted,Lr(1),i.render(i.duration(),!0,!0),Gg=Et(v.a)-de+z+Rt,ze=Math.abs(z-Gg)>1,N&&ze&&Kg.splice(Kg.length-2,2),i.render(0,!0,!0),GC||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),Lr(0)):Gg=z,ag&&(ag.value?ag.style["overflow"+v.a.toUpperCase()]=ag.value:ag.style.removeProperty("overflow-"+v.a));else if(d&&wt()&&!_)for(pe=d.parentNode;pe&&pe!==xt;)pe._pinOffset&&(Q-=pe._pinOffset,At-=pe._pinOffset),pe=pe.parentNode;Ki&&Ki.forEach(function(jg){return jg.revert(!1,!0)}),S.start=Q,S.end=At,_t=Ot=Pe?ye:wt(),!_&&!Pe&&(_t<ye&&wt(ye),S.scroll.rec=0),S.revert(!1,!0),rt=Re(),eg&&(ct=-1,eg.restart(!0)),ve=0,i&&k&&(i._initted||Fg)&&i.progress()!==Fg&&i.progress(Fg||0,!0).render(i.time(),!0,!0),(re||ot!==S.progress||_||h)&&(i&&!k&&i.totalProgress(_&&Q<-.001&&!ot?J.utils.normalize(Q,At,0):ot,!0),S.progress=re||(_t-Q)/z===ot?0:ot),c&&m&&(ee._pinOffset=Math.round(S.progress*Gg)),lt&&lt.invalidate(),isNaN(Qg)||(Qg-=J.getProperty(W,v.p),Vi-=J.getProperty(U,v.p),en(W,v,Qg),en(kt,v,Qg-(it||0)),en(U,v,Vi),en(ne,v,Vi-(it||0))),re&&!Pe&&S.update(),s&&!Pe&&!Mt&&(Mt=!0,s(S),Mt=!1)}},S.getVelocity=function(){return(wt()-Ot)/(Re()-jI)*1e3||0},S.endAnimation=function(){QI(S.callbackAnimation),i&&(lt?lt.progress(1):i.paused()?k||QI(i,S.direction<0,1):QI(i,i.reversed()))},S.labelToScroll=function(T){return i&&i.labels&&(Q||S.refresh()||Q)+i.labels[T]/i.duration()*z||0},S.getTrailing=function(T){var Ct=pt.indexOf(S),tt=S.direction>0?pt.slice(0,Ct).reverse():pt.slice(Ct+1);return(og(T)?tt.filter(function(it){return it.vars.preventOverlaps===T}):tt).filter(function(it){return S.direction>0?it.end<=Q:it.start>=At})},S.update=function(T,Ct,tt){if(!(_&&!tt&&!T)){var it=Pe===!0?ye:S.scroll(),ge=T?0:(it-Q)/z,ut=ge<0?0:ge>1?1:ge||0,Wt=S.progress,re,Nt,Rt,Kt,gg,Ft,De,Ag;if(Ct&&(Ot=_t,_t=_?wt():it,D&&(zg=Rg,Rg=i&&!k?i.totalProgress():ut)),b&&c&&!ve&&!OC&&mg&&(!ut&&Q<it+(it-Ot)/(Re()-jI)*b?ut=1e-4:ut===1&&At>it+(it-Ot)/(Re()-jI)*b&&(ut=.9999)),ut!==Wt&&S.enabled){if(re=S.isActive=!!ut&&ut<1,Nt=!!Wt&&Wt<1,Ft=re!==Nt,gg=Ft||!!ut!=!!Wt,S.direction=ut>Wt?1:-1,S.progress=ut,gg&&!ve&&(Rt=ut&&!Wt?0:ut===1?1:Wt===1?2:3,k&&(Kt=!Ft&&q[Rt+1]!=="none"&&q[Rt+1]||q[Rt],Ag=i&&(Kt==="complete"||Kt==="reset"||Kt in i))),V&&(Ft||Ag)&&(Ag||u||!i)&&(Me(V)?V(S):S.getTrailing(V).forEach(function(Ug){return Ug.endAnimation()})),k||(lt&&!ve&&!OC?(lt._dp._time-lt._start!==lt._time&&lt.render(lt._dp._time-lt._start),lt.resetTo?lt.resetTo("totalProgress",ut,i._tTime/i._tDur):(lt.vars.totalProgress=ut,lt.invalidate().restart())):i&&i.totalProgress(ut,!!(ve&&(rt||T)))),c){if(T&&m&&(ee.style[m+v.os2]=Vg),!N)Ze($I(de+Gg*ut));else if(gg){if(De=!T&&ut>Wt&&At+1>it&&it+1>=Eg(H,v),w)if(!T&&(re||De)){var le=ri(c,!0),oe=it-Q;Vs(c,xt,le.top+(v===Ae?oe:0)+he,le.left+(v===Ae?0:oe)+he)}else Vs(c,ee);ZI(re||De?Kg:Pg),ze&&ut<1&&re||Ze(de+(ut===1&&!De?Gg:0))}}D&&!Dt.tween&&!ve&&!OC&&eg.restart(!0),r&&(Ft||G&&ut&&(ut<1||!Nr))&&oC(r.targets).forEach(function(Ug){return Ug.classList[re||G?"add":"remove"](r.className)}),C&&!k&&!T&&C(S),gg&&!ve?(k&&(Ag&&(Kt==="complete"?i.pause().totalProgress(1):Kt==="reset"?i.restart(!0).pause():Kt==="restart"?i.restart(!0):i[Kt]()),C&&C(S)),(Ft||!Nr)&&(A&&Ft&&Er(S,A),$[Rt]&&Er(S,$[Rt]),G&&(ut===1?S.kill(!1,1):$[Rt]=0),Ft||(Rt=ut===1?1:3,$[Rt]&&Er(S,$[Rt]))),F&&!re&&Math.abs(S.getVelocity())>(tC(F)?F:2500)&&(QI(S.callbackAnimation),lt?lt.progress(1):QI(i,Kt==="reverse"?1:!ut,1))):k&&C&&!ve&&C(S)}if(Jg){var pe=_?it/_.duration()*(_._caScrollDist||0):it;Mg(pe+(W._isFlipped?1:0)),Jg(pe)}ae&&ae(-it/_.duration()*(_._caScrollDist||0))}},S.enable=function(T,Ct){S.enabled||(S.enabled=!0,Ge(H,"resize",eC),O||Ge(H,"scroll",fI),It&&Ge(n,"refreshInit",It),T!==!1&&(S.progress=ot=0,_t=Ot=ct=wt()),Ct!==!1&&S.refresh())},S.getTween=function(T){return T&&Dt?Dt.tween:lt},S.setPositions=function(T,Ct,tt,it){if(_){var ge=_.scrollTrigger,ut=_.duration(),Wt=ge.end-ge.start;T=ge.start+Wt*T/ut,Ct=ge.start+Wt*Ct/ut}S.refresh(!1,!1,{start:Zs(T,tt&&!!S._startClamp),end:Zs(Ct,tt&&!!S._endClamp)},it),S.update()},S.adjustPinSpacing=function(T){if(Lt&&T){var Ct=Lt.indexOf(v.d)+1;Lt[Ct]=parseFloat(Lt[Ct])+T+he,Lt[1]=parseFloat(Lt[1])+T+he,ZI(Lt)}},S.disable=function(T,Ct){if(S.enabled&&(T!==!1&&S.revert(!0,!0),S.enabled=S.isActive=!1,Ct||lt&&lt.pause(),ye=0,Ht&&(Ht.uncache=1),It&&be(n,"refreshInit",It),eg&&(eg.pause(),Dt.tween&&Dt.tween.kill()&&(Dt.tween=0)),!O)){for(var tt=pt.length;tt--;)if(pt[tt].scroller===H&&pt[tt]!==S)return;be(H,"resize",eC),O||be(H,"scroll",fI)}},S.kill=function(T,Ct){S.disable(T,Ct),lt&&!Ct&&lt.kill(),o&&delete Qr[o];var tt=pt.indexOf(S);tt>=0&&pt.splice(tt,1),tt===xe&&nn>0&&xe--,tt=0,pt.forEach(function(it){return it.scroller===S.scroller&&(tt=1)}),tt||Pe||(S.scroll.rec=0),i&&(i.scrollTrigger=null,T&&i.revert({kill:!1}),Ct||i.kill()),kt&&[kt,ne,W,U].forEach(function(it){return it.parentNode&&it.parentNode.removeChild(it)}),rC===S&&(rC=0),c&&(Ht&&(Ht.uncache=1),tt=0,pt.forEach(function(it){return it.pin===c&&tt++}),tt||(Ht.spacer=0)),g.onKill&&g.onKill(S)},pt.push(S),S.enable(!1,!1),Bg&&Bg(S),i&&i.add&&!z){var yt=S.update;S.update=function(){S.update=yt,Q||At||S.refresh()},J.delayedCall(.01,S.update),z=.01,Q=At=0}else S.refresh();c&&sc()},n.register=function(g){return bI||(J=g||xs(),Es()&&window.document&&n.enable(),bI=qI),bI},n.defaults=function(g){if(g)for(var i in g)qC[i]=g[i];return qC},n.disable=function(g,i){qI=0,pt.forEach(function(C){return C[i?"kill":"disable"](g)}),be(Zt,"wheel",fI),be(jt,"scroll",fI),clearInterval(zC),be(jt,"touchcancel",Tg),be(xt,"touchstart",Tg),QC(be,jt,"pointerdown,touchstart,mousedown",ys),QC(be,jt,"pointerup,touchend,mouseup",Ds),An.kill(),UC(be);for(var I=0;I<dt.length;I+=3)jC(be,dt[I],dt[I+1]),jC(be,dt[I],dt[I+2])},n.enable=function(){if(Zt=window,jt=document,_g=jt.documentElement,xt=jt.body,J&&(oC=J.utils.toArray,gC=J.utils.clamp,Or=J.core.context||Tg,Lr=J.core.suppressOverwrites||Tg,$r=Zt.history.scrollRestoration||"auto",jr=Zt.pageYOffset,J.core.globals("ScrollTrigger",n),xt)){qI=1,BI=document.createElement("div"),BI.style.height="100vh",BI.style.position="absolute",qs(),ic(),te.register(J),n.isTouch=te.isTouch,yi=te.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),zr=te.isTouch===1,Ge(Zt,"wheel",fI),Hs=[Zt,jt,_g,xt],J.matchMedia?(n.matchMedia=function(o){var A=J.matchMedia(),s;for(s in o)A.add(s,o[s]);return A},J.addEventListener("matchMediaInit",function(){return Co()}),J.addEventListener("matchMediaRevert",function(){return Qs()}),J.addEventListener("matchMedia",function(){zi(0,1),$i("matchMedia")}),J.matchMedia("(orientation: portrait)",function(){return xr(),xr})):console.warn("Requires GSAP 3.11.0 or later"),xr(),Ge(jt,"scroll",fI);var g=xt.style,i=g.borderTopStyle,I=J.core.Animation.prototype,C,r;for(I.revert||Object.defineProperty(I,"revert",{value:function(){return this.time(-.01,!0)}}),g.borderTopStyle="solid",C=ri(xt),Ae.m=Math.round(C.top+Ae.sc())||0,Ve.m=Math.round(C.left+Ve.sc())||0,i?g.borderTopStyle=i:g.removeProperty("border-top-style"),zC=setInterval(_s,250),J.delayedCall(.5,function(){return OC=0}),Ge(jt,"touchcancel",Tg),Ge(xt,"touchstart",Tg),QC(Ge,jt,"pointerdown,touchstart,mousedown",ys),QC(Ge,jt,"pointerup,touchend,mouseup",Ds),Jr=J.utils.checkPrefix("transform"),rn.push(Jr),bI=Re(),An=J.delayedCall(.2,zi).pause(),GI=[jt,"visibilitychange",function(){var o=Zt.innerWidth,A=Zt.innerHeight;jt.hidden?(bs=o,Gs=A):(bs!==o||Gs!==A)&&eC()},jt,"DOMContentLoaded",zi,Zt,"load",zi,Zt,"resize",eC],UC(Ge),pt.forEach(function(o){return o.enable(0,1)}),r=0;r<dt.length;r+=3)jC(be,dt[r],dt[r+1]),jC(be,dt[r],dt[r+2])}},n.config=function(g){"limitCallbacks"in g&&(Nr=!!g.limitCallbacks);var i=g.syncInterval;i&&clearInterval(zC)||(zC=i)&&setInterval(_s,i),"ignoreMobileResize"in g&&(zr=n.isTouch===1&&g.ignoreMobileResize),"autoRefreshEvents"in g&&(UC(be)||UC(Ge,g.autoRefreshEvents||"none"),Ls=(g.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(g,i){var I=Te(g),C=dt.indexOf(I),r=ji(I);~C&&dt.splice(C,r?6:2),i&&(r?wg.unshift(Zt,i,xt,i,_g,i):wg.unshift(I,i))},n.clearMatchMedia=function(g){pt.forEach(function(i){return i._ctx&&i._ctx.query===g&&i._ctx.kill(!0,!0)})},n.isInViewport=function(g,i,I){var C=(og(g)?Te(g):g).getBoundingClientRect(),r=C[I?Oi:Ui]*i||0;return I?C.right-r>0&&C.left+r<Zt.innerWidth:C.bottom-r>0&&C.top+r<Zt.innerHeight},n.positionInViewport=function(g,i,I){og(g)&&(g=Te(g));var C=g.getBoundingClientRect(),r=C[I?Oi:Ui],o=i==null?r/2:i in ln?ln[i]*r:~i.indexOf("%")?parseFloat(i)*r/100:parseFloat(i)||0;return I?(C.left+o)/Zt.innerWidth:(C.top+o)/Zt.innerHeight},n.killAll=function(g){if(pt.slice(0).forEach(function(I){return I.vars.id!=="ScrollSmoother"&&I.kill()}),g!==!0){var i=qi.killAll||[];qi={},i.forEach(function(I){return I()})}},n}();nt.version="3.12.5";nt.saveStyles=function(n){return n?oC(n).forEach(function(t){if(t&&t.style){var e=rg.indexOf(t);e>=0&&rg.splice(e,5),rg.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),J.core.getCache(t),Or())}}):rg};nt.revert=function(n,t){return Co(!n,t)};nt.create=function(n,t){return new nt(n,t)};nt.refresh=function(n){return n?eC():(bI||nt.register())&&zi(!0)};nt.update=function(n){return++dt.cache&&oi(n===!0?2:0)};nt.clearScrollMemory=js;nt.maxScroll=function(n,t){return Eg(n,t?Ve:Ae)};nt.getScrollFunc=function(n,t){return Ci(Te(n),t?Ve:Ae)};nt.getById=function(n){return Qr[n]};nt.getAll=function(){return pt.filter(function(n){return n.vars.id!=="ScrollSmoother"})};nt.isScrolling=function(){return!!mg};nt.snapDirectional=Io;nt.addEventListener=function(n,t){var e=qi[n]||(qi[n]=[]);~e.indexOf(t)||e.push(t)};nt.removeEventListener=function(n,t){var e=qi[n],g=e&&e.indexOf(t);g>=0&&e.splice(g,1)};nt.batch=function(n,t){var e=[],g={},i=t.interval||.016,I=t.batchMax||1e9,C=function(A,s){var u=[],d=[],c=J.delayedCall(i,function(){s(u,d),u=[],d=[]}).pause();return function(m){u.length||c.restart(!0),u.push(m.trigger),d.push(m),I<=u.length&&c.progress(1)}},r;for(r in t)g[r]=r.substr(0,2)==="on"&&Me(t[r])&&r!=="onRefreshInit"?C(r,t[r]):t[r];return Me(I)&&(I=I(),Ge(nt,"refresh",function(){return I=t.batchMax()})),oC(n).forEach(function(o){var A={};for(r in g)A[r]=g[r];A.trigger=o,e.push(nt.create(A))}),e};var Rs=function(t,e,g,i){return e>i?t(i):e<0&&t(0),g>i?(i-e)/(g-e):g<0?e/(e-g):1},Mr=function n(t,e){e===!0?t.style.removeProperty("touch-action"):t.style.touchAction=e===!0?"auto":e?"pan-"+e+(te.isTouch?" pinch-zoom":""):"none",t===_g&&n(xt,e)},gn={auto:1,scroll:1},hc=function(t){var e=t.event,g=t.target,i=t.axis,I=(e.changedTouches?e.changedTouches[0]:e).target,C=I._gsap||J.core.getCache(I),r=Re(),o;if(!C._isScrollT||r-C._isScrollT>2e3){for(;I&&I!==xt&&(I.scrollHeight<=I.clientHeight&&I.scrollWidth<=I.clientWidth||!(gn[(o=pg(I)).overflowY]||gn[o.overflowX]));)I=I.parentNode;C._isScroll=I&&I!==g&&!ji(I)&&(gn[(o=pg(I)).overflowY]||gn[o.overflowX]),C._isScrollT=r}(C._isScroll||i==="x")&&(e.stopPropagation(),e._gsapAllow=!0)},ta=function(t,e,g,i){return te.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:i=i&&hc,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return g&&Ge(jt,te.eventTypes[0],Xs,!1,!0)},onDisable:function(){return be(jt,te.eventTypes[0],Xs,!0)}})},dc=/(input|label|select|textarea)/i,Fs,Xs=function(t){var e=dc.test(t.target.tagName);(e||Fs)&&(t._gsapAllow=!0,Fs=e)},pc=function(t){Ji(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e=t,g=e.normalizeScrollX,i=e.momentum,I=e.allowNestedScroll,C=e.onRelease,r,o,A=Te(t.target)||_g,s=J.core.globals().ScrollSmoother,u=s&&s.get(),d=yi&&(t.content&&Te(t.content)||u&&t.content!==!1&&!u.smooth()&&u.content()),c=Ci(A,Ae),m=Ci(A,Ve),h=1,b=(te.isTouch&&Zt.visualViewport?Zt.visualViewport.scale*Zt.visualViewport.width:Zt.outerWidth)/Zt.innerWidth,B=0,Z=Me(i)?function(){return i(r)}:function(){return i||2.8},G,D,w=ta(A,t.type,!0,I),K=function(){return D=!1},_=Tg,F=Tg,V=function(){o=Eg(A,Ae),F=gC(yi?1:0,o),g&&(_=gC(0,Eg(A,Ve))),G=Qi},v=function(){d._gsap.y=$I(parseFloat(d._gsap.y)+c.offset)+"px",d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(d._gsap.y)+", 0, 1)",c.offset=c.cacheID=0},k=function(){if(D){requestAnimationFrame(K);var at=$I(r.deltaY/2),ft=F(c.v-at);if(d&&ft!==c.v+c.offset){c.offset=ft-c.v;var S=$I((parseFloat(d&&d._gsap.y)||0)-c.offset);d.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+S+", 0, 1)",d._gsap.y=S+"px",c.cacheID=dt.cache,oi()}return!0}c.offset&&v(),D=!0},H,M,O,N,$=function(){V(),H.isActive()&&H.vars.scrollY>o&&(c()>o?H.progress(1)&&c(o):H.resetTo("scrollY",o))};return d&&J.set(d,{y:"+=0"}),t.ignoreCheck=function(q){return yi&&q.type==="touchmove"&&k(q)||h>1.05&&q.type!=="touchstart"||r.isGesturing||q.touches&&q.touches.length>1},t.onPress=function(){D=!1;var q=h;h=$I((Zt.visualViewport&&Zt.visualViewport.scale||1)/b),H.pause(),q!==h&&Mr(A,h>1.01?!0:g?!1:"x"),M=m(),O=c(),V(),G=Qi},t.onRelease=t.onGestureStart=function(q,at){if(c.offset&&v(),!at)N.restart(!0);else{dt.cache++;var ft=Z(),S,It;g&&(S=m(),It=S+ft*.05*-q.velocityX/.227,ft*=Rs(m,S,It,Eg(A,Ve)),H.vars.scrollX=_(It)),S=c(),It=S+ft*.05*-q.velocityY/.227,ft*=Rs(c,S,It,Eg(A,Ae)),H.vars.scrollY=F(It),H.invalidate().duration(ft).play(.01),(yi&&H.vars.scrollY>=o||S>=o-1)&&J.to({},{onUpdate:$,duration:ft})}C&&C(q)},t.onWheel=function(){H._ts&&H.pause(),Re()-B>1e3&&(G=0,B=Re())},t.onChange=function(q,at,ft,S,It){if(Qi!==G&&V(),at&&g&&m(_(S[2]===at?M+(q.startX-q.x):m()+at-S[1])),ft){c.offset&&v();var bt=It[2]===ft,St=bt?O+q.startY-q.y:c()+ft-It[1],ct=F(St);bt&&St!==ct&&(O+=ct-St),c(ct)}(ft||at)&&oi()},t.onEnable=function(){Mr(A,g?!1:"x"),nt.addEventListener("refresh",$),Ge(Zt,"resize",$),c.smooth&&(c.target.style.scrollBehavior="auto",c.smooth=m.smooth=!1),w.enable()},t.onDisable=function(){Mr(A,!0),be(Zt,"resize",$),nt.removeEventListener("refresh",$),w.kill()},t.lockAxis=t.lockAxis!==!1,r=new te(t),r.iOS=yi,yi&&!c()&&c(1),yi&&J.ticker.add(Tg),N=r._dc,H=J.to(r,{ease:"power4",paused:!0,inherit:!1,scrollX:g?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:$s(c,c(),function(){return H.pause()})},onUpdate:oi,onComplete:N.vars.onComplete}),r};nt.sort=function(n){return pt.sort(n||function(t,e){return(t.vars.refreshPriority||0)*-1e6+t.start-(e.start+(e.vars.refreshPriority||0)*-1e6)})};nt.observe=function(n){return new te(n)};nt.normalizeScroll=function(n){if(typeof n>"u")return Ee;if(n===!0&&Ee)return Ee.enable();if(n===!1){Ee&&Ee.kill(),Ee=n;return}var t=n instanceof te?n:pc(n);return Ee&&Ee.target===t.target&&Ee.kill(),ji(t.target)&&(Ee=t),t};nt.core={_getVelocityProp:JC,_inputObserver:ta,_scrollers:dt,_proxies:wg,bridge:{ss:function(){mg||$i("scrollStart"),mg=Re()},ref:function(){return ve}}};xs()&&J.registerPlugin(nt);var Ai,tI,Ao,dn,sC,cn,hn,aC,Wg="transform",oo=Wg+"Origin",ea,pn=function(t){var e=t.ownerDocument||t;for(!(Wg in t.style)&&("msTransform"in t.style)&&(Wg="msTransform",oo=Wg+"Origin");e.parentNode&&(e=e.parentNode););if(tI=window,hn=new Di,e){Ai=e,Ao=e.documentElement,dn=e.body,aC=Ai.createElementNS("http://www.w3.org/2000/svg","g"),aC.style.transform="none";var g=e.createElement("div"),i=e.createElement("div"),I=e&&(e.body||e.firstElementChild);I&&I.appendChild&&(I.appendChild(g),g.appendChild(i),g.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),ea=i.offsetParent!==g,I.removeChild(g))}return e},mc=function(t){for(var e,g;t&&t!==dn;)g=t._gsap,g&&g.uncache&&g.get(t,"x"),g&&!g.scaleX&&!g.scaleY&&g.renderTransform&&(g.scaleX=g.scaleY=1e-4,g.renderTransform(1,g),e?e.push(g):e=[g]),t=t.parentNode;return e},ga=[],ia=[],mn=function(){return tI.pageYOffset||Ai.scrollTop||Ao.scrollTop||dn.scrollTop||0},fn=function(){return tI.pageXOffset||Ai.scrollLeft||Ao.scrollLeft||dn.scrollLeft||0},so=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},fc=function n(t){if(tI.getComputedStyle(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return n(t)},no=function n(t,e){if(t.parentNode&&(Ai||pn(t))){var g=so(t),i=g?g.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",I=g?e?"rect":"g":"div",C=e!==2?0:100,r=e===3?100:0,o="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",A=Ai.createElementNS?Ai.createElementNS(i.replace(/^https/,"http"),I):Ai.createElement(I);return e&&(g?(cn||(cn=n(t)),A.setAttribute("width",.01),A.setAttribute("height",.01),A.setAttribute("transform","translate("+C+","+r+")"),cn.appendChild(A)):(sC||(sC=n(t),sC.style.cssText=o),A.style.cssText=o+"width:0.1px;height:0.1px;top:"+r+"px;left:"+C+"px",sC.appendChild(A))),A}throw"Need document and parent."},bc=function(t){for(var e=new Di,g=0;g<t.numberOfItems;g++)e.multiply(t.getItem(g).matrix);return e},ao=function(t){var e=t.getCTM(),g;return e||(g=t.style[Wg],t.style[Wg]="none",t.appendChild(aC),e=aC.getCTM(),t.removeChild(aC),g?t.style[Wg]=g:t.style.removeProperty(Wg.replace(/([A-Z])/g,"-$1").toLowerCase())),e||hn.clone()},Gc=function(t,e){var g=so(t),i=t===g,I=g?ga:ia,C=t.parentNode,r,o,A,s,u,d;if(t===tI)return t;if(I.length||I.push(no(t,1),no(t,2),no(t,3)),r=g?cn:sC,g)i?(A=ao(t),s=-A.e/A.a,u=-A.f/A.d,o=hn):t.getBBox?(A=t.getBBox(),o=t.transform?t.transform.baseVal:{},o=o.numberOfItems?o.numberOfItems>1?bc(o):o.getItem(0).matrix:hn,s=o.a*A.x+o.c*A.y,u=o.b*A.x+o.d*A.y):(o=new Di,s=u=0),e&&t.tagName.toLowerCase()==="g"&&(s=u=0),(i?g:C).appendChild(r),r.setAttribute("transform","matrix("+o.a+","+o.b+","+o.c+","+o.d+","+(o.e+s)+","+(o.f+u)+")");else{if(s=u=0,ea)for(o=t.offsetParent,A=t;A&&(A=A.parentNode)&&A!==o&&A.parentNode;)(tI.getComputedStyle(A)[Wg]+"").length>4&&(s=A.offsetLeft,u=A.offsetTop,A=0);if(d=tI.getComputedStyle(t),d.position!=="absolute"&&d.position!=="fixed")for(o=t.offsetParent;C&&C!==o;)s+=C.scrollLeft||0,u+=C.scrollTop||0,C=C.parentNode;A=r.style,A.top=t.offsetTop-u+"px",A.left=t.offsetLeft-s+"px",A[Wg]=d[Wg],A[oo]=d[oo],A.position=d.position==="fixed"?"fixed":"absolute",t.parentNode.appendChild(r)}return r},ro=function(t,e,g,i,I,C,r){return t.a=e,t.b=g,t.c=i,t.d=I,t.e=C,t.f=r,t},Di=function(){function n(e,g,i,I,C,r){e===void 0&&(e=1),g===void 0&&(g=0),i===void 0&&(i=0),I===void 0&&(I=1),C===void 0&&(C=0),r===void 0&&(r=0),ro(this,e,g,i,I,C,r)}var t=n.prototype;return t.inverse=function(){var g=this.a,i=this.b,I=this.c,C=this.d,r=this.e,o=this.f,A=g*C-i*I||1e-10;return ro(this,C/A,-i/A,-I/A,g/A,(I*o-C*r)/A,-(g*o-i*r)/A)},t.multiply=function(g){var i=this.a,I=this.b,C=this.c,r=this.d,o=this.e,A=this.f,s=g.a,u=g.c,d=g.b,c=g.d,m=g.e,h=g.f;return ro(this,s*i+d*C,s*I+d*r,u*i+c*C,u*I+c*r,o+m*i+h*C,A+m*I+h*r)},t.clone=function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(g){var i=this.a,I=this.b,C=this.c,r=this.d,o=this.e,A=this.f;return i===g.a&&I===g.b&&C===g.c&&r===g.d&&o===g.e&&A===g.f},t.apply=function(g,i){i===void 0&&(i={});var I=g.x,C=g.y,r=this.a,o=this.b,A=this.c,s=this.d,u=this.e,d=this.f;return i.x=I*r+C*A+u||0,i.y=I*o+C*s+d||0,i},n}();function Be(n,t,e,g){if(!n||!n.parentNode||(Ai||pn(n)).documentElement===n)return new Di;var i=mc(n),I=so(n),C=I?ga:ia,r=Gc(n,e),o=C[0].getBoundingClientRect(),A=C[1].getBoundingClientRect(),s=C[2].getBoundingClientRect(),u=r.parentNode,d=!g&&fc(n),c=new Di((A.left-o.left)/100,(A.top-o.top)/100,(s.left-o.left)/100,(s.top-o.top)/100,o.left+(d?0:fn()),o.top+(d?0:mn()));if(u.removeChild(r),i)for(o=i.length;o--;)A=i[o],A.scaleX=A.scaleY=0,A.renderTransform(1,A);return t?c.inverse():c}var Bc=1,_I,Fe,Pt,lC,Si,si,fo,Ia=function(t,e){return t.actions.forEach(function(g){return g.vars[e]&&g.vars[e](g)})},bo={},Ca=180/Math.PI,Zc=Math.PI/180,Bn={},na={},Dn={},Bo=function(t){return typeof t=="string"?t.split(" ").join("").split(","):t},yc=Bo("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),Sn=Bo("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),uC=function(t){return _I(t)[0]||console.warn("Element not found:",t)},DI=function(t){return Math.round(t*1e4)/1e4||0},lo=function(t,e,g){return t.forEach(function(i){return i.classList[g](e)})},ra={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},la={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},ua=function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()},SI=function(t,e){var g={},i;for(i in t)e[i]||(g[i]=t[i]);return g},Zo={},ca=function(t){var e=Zo[t]=Bo(t);return Dn[t]=e.concat(Sn),e},Dc=function(t){var e=t._gsap||Fe.core.getCache(t);return e.gmCache===Fe.ticker.frame?e.gMatrix:(e.gmCache=Fe.ticker.frame,e.gMatrix=Be(t,!0,!1,!0))},Sc=function n(t,e,g){g===void 0&&(g=0);for(var i=t.parentNode,I=1e3*Math.pow(10,g)*(e?-1:1),C=e?-I*900:0;t;)C+=I,t=t.previousSibling;return i?C+n(i,e,g+1):C},Zn=function(t,e,g){return t.forEach(function(i){return i.d=Sc(g?i.element:i.t,e)}),t.sort(function(i,I){return i.d-I.d}),t},cC=function(t,e){for(var g=t.element.style,i=t.css=t.css||[],I=e.length,C,r;I--;)C=e[I],r=g[C]||g.getPropertyValue(C),i.push(r?C:na[C]||(na[C]=ua(C)),r);return g},yn=function(t){var e=t.css,g=t.element.style,i=0;for(t.cache.uncache=1;i<e.length;i+=2)e[i+1]?g[e[i]]=e[i+1]:g.removeProperty(e[i]);!e[e.indexOf("transform")+1]&&g.translate&&(g.removeProperty("translate"),g.removeProperty("scale"),g.removeProperty("rotate"))},oa=function(t,e){t.forEach(function(g){return g.a.cache.uncache=1}),e||t.finalStates.forEach(yn)},uo="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),yo=function(t,e,g){var i=t.element,I=t.width,C=t.height,r=t.uncache,o=t.getProp,A=i.style,s=4,u,d,c;if(typeof e!="object"&&(e=t),Pt&&g!==1)return Pt._abs.push({t:i,b:t,a:t,sd:0}),Pt._final.push(function(){return(t.cache.uncache=1)&&yn(t)}),i;for(d=o("display")==="none",(!t.isVisible||d)&&(d&&(cC(t,["display"]).display=e.display),t.matrix=e.matrix,t.width=I=t.width||e.width,t.height=C=t.height||e.height),cC(t,uo),c=window.getComputedStyle(i);s--;)A[uo[s]]=c[uo[s]];if(A.gridArea="1 / 1 / 1 / 1",A.transition="none",A.position="absolute",A.width=I+"px",A.height=C+"px",A.top||(A.top="0px"),A.left||(A.left="0px"),r)u=new eI(i);else if(u=SI(t,Bn),u.position="absolute",t.simple){var m=i.getBoundingClientRect();u.matrix=new Di(1,0,0,1,m.left+fn(),m.top+mn())}else u.matrix=Be(i,!1,!1,!0);return u=wI(u,t,!0),t.x=si(u.x,.01),t.y=si(u.y,.01),i},Aa=function(t,e){return e!==!0&&(e=_I(e),t=t.filter(function(g){if(e.indexOf((g.sd<0?g.b:g.a).element)!==-1)return!0;g.t._gsap.renderTransform(1),g.b.isVisible&&(g.t.style.width=g.b.width+"px",g.t.style.height=g.b.height+"px")})),t},ha=function(t){return Zn(t,!0).forEach(function(e){return(e.a.isVisible||e.b.isVisible)&&yo(e.sd<0?e.b:e.a,e.b,1)})},wc=function(t,e){return e&&t.idLookup[Go(e).id]||t.elementStates[0]},Go=function(t,e,g,i){return t instanceof eI?t:t instanceof Yg?wc(t,i):new eI(typeof t=="string"?uC(t)||console.warn(t+" not found"):t,e,g)},_c=function(t,e){for(var g=Fe.getProperty(t.element,null,"native"),i=t.props={},I=e.length;I--;)i[e[I]]=(g(e[I])+"").trim();return i.zIndex&&(i.zIndex=parseFloat(i.zIndex)||0),t},da=function(t,e){var g=t.style||t,i;for(i in e)g[i]=e[i]},Wc=function(t){var e=t.getAttribute("data-flip-id");return e||t.setAttribute("data-flip-id",e="auto-"+Bc++),e},pa=function(t){return t.map(function(e){return e.element})},sa=function(t,e,g){return t&&e.length&&g.add(t(pa(e),g,new Yg(e,0,!0)),0)},wI=function(t,e,g,i,I,C){var r=t.element,o=t.cache,A=t.parent,s=t.x,u=t.y,d=e.width,c=e.height,m=e.scaleX,h=e.scaleY,b=e.rotation,B=e.bounds,Z=C&&fo&&fo(r,"transform"),G=t,D=e.matrix,w=D.e,K=D.f,_=t.bounds.width!==B.width||t.bounds.height!==B.height||t.scaleX!==m||t.scaleY!==h||t.rotation!==b,F=!_&&t.simple&&e.simple&&!I,V,v,k,H,M,O,N;return F||!A?(m=h=1,b=V=0):(M=Dc(A),O=M.clone().multiply(e.ctm?e.matrix.clone().multiply(e.ctm):e.matrix),b=DI(Math.atan2(O.b,O.a)*Ca),V=DI(Math.atan2(O.c,O.d)*Ca+b)%360,m=Math.sqrt(Math.pow(O.a,2)+Math.pow(O.b,2)),h=Math.sqrt(Math.pow(O.c,2)+Math.pow(O.d,2))*Math.cos(V*Zc),I&&(I=_I(I)[0],H=Fe.getProperty(I),N=I.getBBox&&typeof I.getBBox=="function"&&I.getBBox(),G={scaleX:H("scaleX"),scaleY:H("scaleY"),width:N?N.width:Math.ceil(parseFloat(H("width","px"))),height:N?N.height:parseFloat(H("height","px"))}),o.rotation=b+"deg",o.skewX=V+"deg"),g?(m*=d===G.width||!G.width?1:d/G.width,h*=c===G.height||!G.height?1:c/G.height,o.scaleX=m,o.scaleY=h):(d=si(d*m/G.scaleX,0),c=si(c*h/G.scaleY,0),r.style.width=d+"px",r.style.height=c+"px"),i&&da(r,e.props),F||!A?(s+=w-t.matrix.e,u+=K-t.matrix.f):_||A!==e.parent?(o.renderTransform(1,o),O=Be(I||r,!1,!1,!0),v=M.apply({x:O.e,y:O.f}),k=M.apply({x:w,y:K}),s+=k.x-v.x,u+=k.y-v.y):(M.e=M.f=0,k=M.apply({x:w-t.matrix.e,y:K-t.matrix.f}),s+=k.x,u+=k.y),s=si(s,.02),u=si(u,.02),C&&!(C instanceof eI)?Z&&Z.revert():(o.x=s+"px",o.y=u+"px",o.renderTransform(1,o)),C&&(C.x=s,C.y=u,C.rotation=b,C.skewX=V,g?(C.scaleX=m,C.scaleY=h):(C.width=d,C.height=c)),C||o},co=function(t,e){return t instanceof Yg?t:new Yg(t,e)},ma=function(t,e,g){var i=t.idLookup[g],I=t.alt[g];return I.isVisible&&(!(e.getElementState(I.element)||I).isVisible||!i.isVisible)?I:i},ho=[],po="width,height,overflowX,overflowY".split(","),bn,aa=function(t){if(t!==bn){var e=Si.style,g=Si.clientWidth===window.outerWidth,i=Si.clientHeight===window.outerHeight,I=4;if(t&&(g||i)){for(;I--;)ho[I]=e[po[I]];g&&(e.width=Si.clientWidth+"px",e.overflowY="hidden"),i&&(e.height=Si.clientHeight+"px",e.overflowX="hidden"),bn=t}else if(bn){for(;I--;)ho[I]?e[po[I]]=ho[I]:e.removeProperty(ua(po[I]));bn=t}}},mo=function(t,e,g,i){t instanceof Yg&&e instanceof Yg||console.warn("Not a valid state object."),g=g||{};var I=g,C=I.clearProps,r=I.onEnter,o=I.onLeave,A=I.absolute,s=I.absoluteOnLeave,u=I.custom,d=I.delay,c=I.paused,m=I.repeat,h=I.repeatDelay,b=I.yoyo,B=I.toggleClass,Z=I.nested,G=I.zIndex,D=I.scale,w=I.fade,K=I.stagger,_=I.spin,F=I.prune,V=("props"in g?g:t).props,v=SI(g,ra),k=Fe.timeline({delay:d,paused:c,repeat:m,repeatDelay:h,yoyo:b,data:"isFlip"}),H=v,M=[],O=[],N=[],$=[],q=_===!0?1:_||0,at=typeof _=="function"?_:function(){return q},ft=t.interrupted||e.interrupted,S=k[i!==1?"to":"from"],It,bt,St,ct,rt,ot,wt,Dt,Ht,ht,_t,Ot,Q,At;for(bt in e.idLookup)_t=e.alt[bt]?ma(e,t,bt):e.idLookup[bt],rt=_t.element,ht=t.idLookup[bt],t.alt[bt]&&rt===ht.element&&(t.alt[bt].isVisible||!_t.isVisible)&&(ht=t.alt[bt]),ht?(ot={t:rt,b:ht,a:_t,sd:ht.element===rt?0:_t.isVisible?1:-1},N.push(ot),ot.sd&&(ot.sd<0&&(ot.b=_t,ot.a=ht),ft&&cC(ot.b,V?Dn[V]:Sn),w&&N.push(ot.swap={t:ht.element,b:ot.b,a:ot.a,sd:-ot.sd,swap:ot})),rt._flip=ht.element._flip=Pt?Pt.timeline:k):_t.isVisible&&(N.push({t:rt,b:SI(_t,{isVisible:1}),a:_t,sd:0,entering:1}),rt._flip=Pt?Pt.timeline:k);if(V&&(Zo[V]||ca(V)).forEach(function(W){return v[W]=function(U){return N[U].a.props[W]}}),N.finalStates=Ht=[],Ot=function(){for(Zn(N),aa(!0),ct=0;ct<N.length;ct++)ot=N[ct],Q=ot.a,At=ot.b,F&&!Q.isDifferent(At)&&!ot.entering?N.splice(ct--,1):(rt=ot.t,Z&&!(ot.sd<0)&&ct&&(Q.matrix=Be(rt,!1,!1,!0)),At.isVisible&&Q.isVisible?(ot.sd<0?(wt=new eI(rt,V,t.simple),wI(wt,Q,D,0,0,wt),wt.matrix=Be(rt,!1,!1,!0),wt.css=ot.b.css,ot.a=Q=wt,w&&(rt.style.opacity=ft?At.opacity:Q.opacity),K&&$.push(rt)):ot.sd>0&&w&&(rt.style.opacity=ft?Q.opacity-At.opacity:"0"),wI(Q,At,D,V)):At.isVisible!==Q.isVisible&&(At.isVisible?Q.isVisible||(At.css=Q.css,O.push(At),N.splice(ct--,1),A&&Z&&wI(Q,At,D,V)):(Q.isVisible&&M.push(Q),N.splice(ct--,1))),D||(rt.style.maxWidth=Math.max(Q.width,At.width)+"px",rt.style.maxHeight=Math.max(Q.height,At.height)+"px",rt.style.minWidth=Math.min(Q.width,At.width)+"px",rt.style.minHeight=Math.min(Q.height,At.height)+"px"),Z&&B&&rt.classList.add(B)),Ht.push(Q);var U;if(B&&(U=Ht.map(function(z){return z.element}),Z&&U.forEach(function(z){return z.classList.remove(B)})),aa(!1),D?(v.scaleX=function(z){return N[z].a.scaleX},v.scaleY=function(z){return N[z].a.scaleY}):(v.width=function(z){return N[z].a.width+"px"},v.height=function(z){return N[z].a.height+"px"},v.autoRound=g.autoRound||!1),v.x=function(z){return N[z].a.x+"px"},v.y=function(z){return N[z].a.y+"px"},v.rotation=function(z){return N[z].a.rotation+(_?at(z,Dt[z],Dt)*360:0)},v.skewX=function(z){return N[z].a.skewX},Dt=N.map(function(z){return z.t}),(G||G===0)&&(v.modifiers={zIndex:function(){return G}},v.zIndex=G,v.immediateRender=g.immediateRender!==!1),w&&(v.opacity=function(z){return N[z].sd<0?0:N[z].sd>0?N[z].a.opacity:"+=0"}),$.length){K=Fe.utils.distribute(K);var $e=Dt.slice($.length);v.stagger=function(z,Xe){return K(~$.indexOf(Xe)?Dt.indexOf(N[z].swap.t):z,Xe,$e)}}if(yc.forEach(function(z){return g[z]&&k.eventCallback(z,g[z],g[z+"Params"])}),u&&Dt.length){H=SI(v,ra),"scale"in u&&(u.scaleX=u.scaleY=u.scale,delete u.scale);for(bt in u)It=SI(u[bt],la),It[bt]=v[bt],!("duration"in It)&&"duration"in v&&(It.duration=v.duration),It.stagger=v.stagger,S.call(k,Dt,It,0),delete H[bt]}(Dt.length||O.length||M.length)&&(B&&k.add(function(){return lo(U,B,k._zTime<0?"remove":"add")},0)&&!c&&lo(U,B,"add"),Dt.length&&S.call(k,Dt,H,0)),sa(r,M,k),sa(o,O,k);var Mt=Pt&&Pt.timeline;Mt&&(Mt.add(k,0),Pt._final.push(function(){return oa(N,!C)})),St=k.duration(),k.call(function(){var z=k.time()>=St;z&&!Mt&&oa(N,!C),B&&lo(U,B,z?"remove":"add")})},s&&(A=N.filter(function(W){return!W.sd&&!W.a.isVisible&&W.b.isVisible}).map(function(W){return W.a.element})),Pt){var kt;A&&(kt=Pt._abs).push.apply(kt,Aa(N,A)),Pt._run.push(Ot)}else A&&ha(Aa(N,A)),Ot();var ne=Pt?Pt.timeline:k;return ne.revert=function(){return Do(ne,1,1)},ne},Yc=function n(t){t.vars.onInterrupt&&t.vars.onInterrupt.apply(t,t.vars.onInterruptParams||[]),t.getChildren(!0,!1,!0).forEach(n)},Do=function(t,e,g){if(t&&t.progress()<1&&(!t.paused()||g))return e&&(Yc(t),e<2&&t.progress(1),t.kill()),!0},Gn=function(t){for(var e=t.idLookup={},g=t.alt={},i=t.elementStates,I=i.length,C;I--;)C=i[I],e[C.id]?g[C.id]=C:e[C.id]=C},Yg=function(){function n(e,g,i){if(this.props=g&&g.props,this.simple=!!(g&&g.simple),i)this.targets=pa(e),this.elementStates=e,Gn(this);else{this.targets=_I(e);var I=g&&(g.kill===!1||g.batch&&!g.kill);Pt&&!I&&Pt._kill.push(this),this.update(I||!!Pt)}}var t=n.prototype;return t.update=function(g){var i=this;return this.elementStates=this.targets.map(function(I){return new eI(I,i.props,i.simple)}),Gn(this),this.interrupt(g),this.recordInlineStyles(),this},t.clear=function(){return this.targets.length=this.elementStates.length=0,Gn(this),this},t.fit=function(g,i,I){for(var C=Zn(this.elementStates.slice(0),!1,!0),r=(g||this).idLookup,o=0,A,s;o<C.length;o++)A=C[o],I&&(A.matrix=Be(A.element,!1,!1,!0)),s=r[A.id],s&&wI(A,s,i,!0,0,A),A.matrix=Be(A.element,!1,!1,!0);return this},t.getProperty=function(g,i){var I=this.getElementState(g)||Bn;return(i in I?I:I.props||Bn)[i]},t.add=function(g){for(var i=g.targets.length,I=this.idLookup,C=this.alt,r,o,A;i--;)o=g.elementStates[i],A=I[o.id],A&&(o.element===A.element||C[o.id]&&C[o.id].element===o.element)?(r=this.elementStates.indexOf(o.element===A.element?A:C[o.id]),this.targets.splice(r,1,g.targets[i]),this.elementStates.splice(r,1,o)):(this.targets.push(g.targets[i]),this.elementStates.push(o));return g.interrupted&&(this.interrupted=!0),g.simple||(this.simple=!1),Gn(this),this},t.compare=function(g){var i=g.idLookup,I=this.idLookup,C=[],r=[],o=[],A=[],s=[],u=g.alt,d=this.alt,c=function(F,V,v){return(F.isVisible!==V.isVisible?F.isVisible?o:A:F.isVisible?r:C).push(v)&&s.push(v)},m=function(F,V,v){return s.indexOf(v)<0&&c(F,V,v)},h,b,B,Z,G,D,w,K;for(B in i)G=u[B],D=d[B],h=G?ma(g,this,B):i[B],Z=h.element,b=I[B],D?(K=b.isVisible||!D.isVisible&&Z===b.element?b:D,w=G&&!h.isVisible&&!G.isVisible&&K.element===G.element?G:h,w.isVisible&&K.isVisible&&w.element!==K.element?((w.isDifferent(K)?r:C).push(w.element,K.element),s.push(w.element,K.element)):c(w,K,w.element),G&&w.element===G.element&&(G=i[B]),m(w.element!==b.element&&G?G:w,b,b.element),m(G&&G.element===D.element?G:w,D,D.element),G&&m(G,D.element===G.element?D:b,G.element)):(b?b.isDifferent(h)?c(h,b,Z):C.push(Z):o.push(Z),G&&m(G,b,G.element));for(B in I)i[B]||(A.push(I[B].element),d[B]&&A.push(d[B].element));return{changed:r,unchanged:C,enter:o,leave:A}},t.recordInlineStyles=function(){for(var g=Dn[this.props]||Sn,i=this.elementStates.length;i--;)cC(this.elementStates[i],g)},t.interrupt=function(g){var i=this,I=[];this.targets.forEach(function(C){var r=C._flip,o=Do(r,g?0:1);g&&o&&I.indexOf(r)<0&&r.add(function(){return i.updateVisibility()}),o&&I.push(r)}),!g&&I.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!I.length)},t.updateVisibility=function(){this.elementStates.forEach(function(g){var i=g.element.getBoundingClientRect();g.isVisible=!!(i.width||i.height||i.top||i.left),g.uncache=1})},t.getElementState=function(g){return this.elementStates[this.targets.indexOf(uC(g))]},t.makeAbsolute=function(){return Zn(this.elementStates.slice(0),!0,!0).map(yo)},n}(),eI=function(){function n(e,g,i){this.element=e,this.update(g,i)}var t=n.prototype;return t.isDifferent=function(g){var i=this.bounds,I=g.bounds;return i.top!==I.top||i.left!==I.left||i.width!==I.width||i.height!==I.height||!this.matrix.equals(g.matrix)||this.opacity!==g.opacity||this.props&&g.props&&JSON.stringify(this.props)!==JSON.stringify(g.props)},t.update=function(g,i){var I=this,C=I.element,r=Fe.getProperty(C),o=Fe.core.getCache(C),A=C.getBoundingClientRect(),s=C.getBBox&&typeof C.getBBox=="function"&&C.nodeName.toLowerCase()!=="svg"&&C.getBBox(),u=i?new Di(1,0,0,1,A.left+fn(),A.top+mn()):Be(C,!1,!1,!0);I.getProp=r,I.element=C,I.id=Wc(C),I.matrix=u,I.cache=o,I.bounds=A,I.isVisible=!!(A.width||A.height||A.left||A.top),I.display=r("display"),I.position=r("position"),I.parent=C.parentNode,I.x=r("x"),I.y=r("y"),I.scaleX=o.scaleX,I.scaleY=o.scaleY,I.rotation=r("rotation"),I.skewX=r("skewX"),I.opacity=r("opacity"),I.width=s?s.width:si(r("width","px"),.04),I.height=s?s.height:si(r("height","px"),.04),g&&_c(I,Zo[g]||ca(g)),I.ctm=C.getCTM&&C.nodeName.toLowerCase()==="svg"&&ao(C).inverse(),I.simple=i||DI(u.a)===1&&!DI(u.b)&&!DI(u.c)&&DI(u.d)===1,I.uncache=0},n}(),Kc=function(){function n(e,g){this.vars=e,this.batch=g,this.states=[],this.timeline=g.timeline}var t=n.prototype;return t.getStateById=function(g){for(var i=this.states.length;i--;)if(this.states[i].idLookup[g])return this.states[i]},t.kill=function(){this.batch.remove(this)},n}(),Vc=function(){function n(e){this.id=e,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new Yg,this.timeline=Fe.timeline()}var t=n.prototype;return t.add=function(g){var i=this.actions.filter(function(I){return I.vars===g});return i.length?i[0]:(i=new Kc(typeof g=="function"?{animate:g}:g,this),this.actions.push(i),i)},t.remove=function(g){var i=this.actions.indexOf(g);return i>=0&&this.actions.splice(i,1),this},t.getState=function(g){var i=this,I=Pt,C=lC;return Pt=this,this.state.clear(),this._kill.length=0,this.actions.forEach(function(r){r.vars.getState&&(r.states.length=0,lC=r,r.state=r.vars.getState(r)),g&&r.states.forEach(function(o){return i.state.add(o)})}),lC=C,Pt=I,this.killConflicts(),this},t.animate=function(){var g=this,i=Pt,I=this.timeline,C=this.actions.length,r,o;for(Pt=this,I.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach(function(A){A.vars.animate&&A.vars.animate(A);var s=A.vars.onEnter,u=A.vars.onLeave,d=A.targets,c,m;d&&d.length&&(s||u)&&(c=new Yg,A.states.forEach(function(h){return c.add(h)}),m=c.compare(hC.getState(d)),m.enter.length&&s&&s(m.enter),m.leave.length&&u&&u(m.leave))}),ha(this._abs),this._run.forEach(function(A){return A()}),o=I.duration(),r=this._final.slice(0),I.add(function(){o<=I.time()&&(r.forEach(function(A){return A()}),Ia(g,"onComplete"))}),Pt=i;C--;)this.actions[C].vars.once&&this.actions[C].kill();return Ia(this,"onStart"),I.restart(),this},t.loadState=function(g){g||(g=function(){return 0});var i=[];return this.actions.forEach(function(I){if(I.vars.loadState){var C,r=function o(A){A&&(I.targets=A),C=i.indexOf(o),~C&&(i.splice(C,1),i.length||g())};i.push(r),I.vars.loadState(r)}}),i.length||g(),this},t.setState=function(){return this.actions.forEach(function(g){return g.targets=g.vars.setState&&g.vars.setState(g)}),this},t.killConflicts=function(g){return this.state.interrupt(g),this._kill.forEach(function(i){return i.interrupt(g)}),this},t.run=function(g,i){var I=this;return this!==Pt&&(g||this.getState(i),this.loadState(function(){I._killed||(I.setState(),I.animate())})),this},t.clear=function(g){this.state.clear(),g||(this.actions.length=0)},t.getStateById=function(g){for(var i=this.actions.length,I;i--;)if(I=this.actions[i].getStateById(g),I)return I;return this.state.idLookup[g]&&this.state},t.kill=function(){this._killed=1,this.clear(),delete bo[this.id]},n}(),hC=function(){function n(){}return n.getState=function(e,g){var i=co(e,g);return lC&&lC.states.push(i),g&&g.batch&&n.batch(g.batch).state.add(i),i},n.from=function(e,g){return g=g||{},"clearProps"in g||(g.clearProps=!0),mo(e,co(g.targets||e.targets,{props:g.props||e.props,simple:g.simple,kill:!!g.kill}),g,-1)},n.to=function(e,g){return mo(e,co(g.targets||e.targets,{props:g.props||e.props,simple:g.simple,kill:!!g.kill}),g,1)},n.fromTo=function(e,g,i){return mo(e,g,i)},n.fit=function(e,g,i){var I=i?SI(i,la):{},C=i||I,r=C.absolute,o=C.scale,A=C.getVars,s=C.props,u=C.runBackwards,d=C.onComplete,c=C.simple,m=i&&i.fitChild&&uC(i.fitChild),h=Go(g,s,c,e),b=Go(e,0,c,h),B=s?Dn[s]:Sn,Z=Fe.context();return s&&da(I,h.props),cC(b,B),u&&("immediateRender"in I||(I.immediateRender=!0),I.onComplete=function(){yn(b),d&&d.apply(this,arguments)}),r&&yo(b,h),I=wI(b,h,o||m,s,m,I.duration||A?I:0),Z&&!A&&Z.add(function(){return function(){return yn(b)}}),A?I:I.duration?Fe.to(b.element,I):null},n.makeAbsolute=function(e,g){return(e instanceof Yg?e:new Yg(e,g)).makeAbsolute()},n.batch=function(e){return e||(e="default"),bo[e]||(bo[e]=new Vc(e))},n.killFlipsOf=function(e,g){(e instanceof Yg?e.targets:_I(e)).forEach(function(i){return i&&Do(i._flip,g!==!1?1:2)})},n.isFlipping=function(e){var g=n.getByTarget(e);return!!g&&g.isActive()},n.getByTarget=function(e){return(uC(e)||Bn)._flip},n.getElementState=function(e,g){return new eI(uC(e),g)},n.convertCoordinates=function(e,g,i){var I=Be(g,!0,!0).multiply(Be(e));return i?I.apply(i):I},n.register=function(e){if(Si=typeof document<"u"&&document.body,Si){Fe=e,pn(Si),_I=Fe.utils.toArray,fo=Fe.core.getStyleSaver;var g=Fe.utils.snap(.1);si=function(I,C){return g(parseFloat(I)+C)}}},n}();hC.version="3.12.5";typeof window<"u"&&window.gsap&&window.gsap.registerPlugin(hC);var vc=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Rc=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,Fc=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,Xc=/(^[#\.][a-z]|[a-y][a-z])/i,Hc=Math.PI/180,kc=180/Math.PI,wn=Math.sin,_n=Math.cos,fg=Math.abs,ai=Math.sqrt,Lc=Math.atan2,So=1e8,fa=function(t){return typeof t=="string"},ya=function(t){return typeof t=="number"},Nc=function(t){return typeof t>"u"},Tc={},Ec={},Wn=1e5,Da=function(t){return Math.round((t+So)%1*Wn)/Wn||(t<0?0:1)},Yt=function(t){return Math.round(t*Wn)/Wn||0},ba=function(t){return Math.round(t*1e10)/1e10||0},Ga=function(t,e,g,i){var I=t[e],C=i===1?6:wo(I,g,i);if((C||!i)&&C+g+2<I.length)return t.splice(e,0,I.slice(0,g+C+2)),I.splice(0,g+C),1},Sa=function(t,e,g){var i=t.length,I=~~(g*i);if(t[I]>e){for(;--I&&t[I]>e;);I<0&&(I=0)}else for(;t[++I]<e&&I<i;);return I<i?I:i-1},xc=function(t,e){var g=t.length;for(e||t.reverse();g--;)t[g].reversed||Jc(t[g])},Ba=function(t,e){return e.totalLength=t.totalLength,t.samples?(e.samples=t.samples.slice(0),e.lookup=t.lookup.slice(0),e.minLength=t.minLength,e.resolution=t.resolution):t.totalPoints&&(e.totalPoints=t.totalPoints),e},Pc=function(t,e){var g=t.length,i=t[g-1]||[],I=i.length;g&&e[0]===i[I-2]&&e[1]===i[I-1]&&(e=i.concat(e.slice(2)),g--),t[g]=e};function pC(n){n=fa(n)&&Xc.test(n)&&document.querySelector(n)||n;var t=n.getAttribute?n:0,e;return t&&(n=n.getAttribute("d"))?(t._gsPath||(t._gsPath={}),e=t._gsPath[n],e&&!e._dirty?e:t._gsPath[n]=dC(n)):n?fa(n)?dC(n):ya(n[0])?[n]:n:console.warn("Expecting a <path> element or an SVG path data string")}function Mc(n){for(var t=[],e=0;e<n.length;e++)t[e]=Ba(n[e],n[e].slice(0));return Ba(n,t)}function Jc(n){var t=0,e;for(n.reverse();t<n.length;t+=2)e=n[t],n[t]=n[t+1],n[t+1]=e;n.reversed=!n.reversed}var zc=function(t,e){var g=document.createElementNS("http://www.w3.org/2000/svg","path"),i=[].slice.call(t.attributes),I=i.length,C;for(e=","+e+",";--I>-1;)C=i[I].nodeName.toLowerCase(),e.indexOf(","+C+",")<0&&g.setAttributeNS(null,C,i[I].nodeValue);return g},Oc={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},Uc=function(t,e){for(var g=e?e.split(","):[],i={},I=g.length;--I>-1;)i[g[I]]=+t.getAttribute(g[I])||0;return i};function wa(n,t){var e=n.tagName.toLowerCase(),g=.552284749831,i,I,C,r,o,A,s,u,d,c,m,h,b,B,Z,G,D,w,K,_,F,V;return e==="path"||!n.getBBox?n:(A=zc(n,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),V=Uc(n,Oc[e]),e==="rect"?(r=V.rx,o=V.ry||r,I=V.x,C=V.y,c=V.width-r*2,m=V.height-o*2,r||o?(h=I+r*(1-g),b=I+r,B=b+c,Z=B+r*g,G=B+r,D=C+o*(1-g),w=C+o,K=w+m,_=K+o*g,F=K+o,i="M"+G+","+w+" V"+K+" C"+[G,_,Z,F,B,F,B-(B-b)/3,F,b+(B-b)/3,F,b,F,h,F,I,_,I,K,I,K-(K-w)/3,I,w+(K-w)/3,I,w,I,D,h,C,b,C,b+(B-b)/3,C,B-(B-b)/3,C,B,C,Z,C,G,D,G,w].join(",")+"z"):i="M"+(I+c)+","+C+" v"+m+" h"+-c+" v"+-m+" h"+c+"z"):e==="circle"||e==="ellipse"?(e==="circle"?(r=o=V.r,u=r*g):(r=V.rx,o=V.ry,u=o*g),I=V.cx,C=V.cy,s=r*g,i="M"+(I+r)+","+C+" C"+[I+r,C+u,I+s,C+o,I,C+o,I-s,C+o,I-r,C+u,I-r,C,I-r,C-u,I-s,C-o,I,C-o,I+s,C-o,I+r,C-u,I+r,C].join(",")+"z"):e==="line"?i="M"+V.x1+","+V.y1+" L"+V.x2+","+V.y2:(e==="polyline"||e==="polygon")&&(d=(n.getAttribute("points")+"").match(Rc)||[],I=d.shift(),C=d.shift(),i="M"+I+","+C+" L"+d.join(","),e==="polygon"&&(i+=","+I+","+C+"z")),A.setAttribute("d",Yo(A._gsRawPath=dC(i))),t&&n.parentNode&&(n.parentNode.insertBefore(A,n),n.parentNode.removeChild(n)),A)}function _a(n,t,e){var g=n[t],i=n[t+2],I=n[t+4],C;return g+=(i-g)*e,i+=(I-i)*e,g+=(i-g)*e,C=i+(I+(n[t+6]-I)*e-i)*e-g,g=n[t+1],i=n[t+3],I=n[t+5],g+=(i-g)*e,i+=(I-i)*e,g+=(i-g)*e,Yt(Lc(i+(I+(n[t+7]-I)*e-i)*e-g,C)*kc)}function _o(n,t,e){e=Nc(e)?1:ba(e)||0,t=ba(t)||0;var g=Math.max(0,~~(fg(e-t)-1e-8)),i=Mc(n);if(t>e&&(t=1-t,e=1-e,xc(i),i.totalLength=0),t<0||e<0){var I=Math.abs(~~Math.min(t,e))+1;t+=I,e+=I}i.totalLength||wi(i);var C=e>1,r=Za(i,t,Tc,!0),o=Za(i,e,Ec),A=o.segment,s=r.segment,u=o.segIndex,d=r.segIndex,c=o.i,m=r.i,h=d===u,b=c===m&&h,B,Z,G,D,w,K,_,F;if(C||g){for(B=u<d||h&&c<m||b&&o.t<r.t,Ga(i,d,m,r.t)&&(d++,B||(u++,b?(o.t=(o.t-r.t)/(1-r.t),c=0):h&&(c-=m))),Math.abs(1-(e-t))<1e-5?u=d-1:!o.t&&u?u--:Ga(i,u,c,o.t)&&B&&d++,r.t===1&&(d=(d+1)%i.length),w=[],K=i.length,_=1+K*g,F=d,_+=(K-d+u)%K,D=0;D<_;D++)Pc(w,i[F++%K]);i=w}else if(G=o.t===1?6:wo(A,c,o.t),t!==e)for(Z=wo(s,m,b?r.t/o.t:r.t),h&&(G+=Z),A.splice(c+G+2),(Z||m)&&s.splice(0,m+Z),D=i.length;D--;)(D<d||D>u)&&i.splice(D,1);else A.angle=_a(A,c+G,0),c+=G,r=A[c],o=A[c+1],A.length=A.totalLength=0,A.totalPoints=i.totalPoints=8,A.push(r,o,r,o,r,o,r,o);return i.totalLength=0,i}function Qc(n,t,e){t=t||0,n.samples||(n.samples=[],n.lookup=[]);var g=~~n.resolution||12,i=1/g,I=e?t+e*6+1:n.length,C=n[t],r=n[t+1],o=t?t/6*g:0,A=n.samples,s=n.lookup,u=(t?n.minLength:So)||So,d=A[o+e*g-1],c=t?A[o-1]:0,m,h,b,B,Z,G,D,w,K,_,F,V,v,k,H,M,O;for(A.length=s.length=0,h=t+2;h<I;h+=6){if(b=n[h+4]-C,B=n[h+2]-C,Z=n[h]-C,w=n[h+5]-r,K=n[h+3]-r,_=n[h+1]-r,G=D=F=V=0,fg(b)<.01&&fg(w)<.01&&fg(Z)+fg(_)<.01)n.length>8&&(n.splice(h,6),h-=6,I-=6);else for(m=1;m<=g;m++)k=i*m,v=1-k,G=D-(D=(k*k*b+3*v*(k*B+v*Z))*k),F=V-(V=(k*k*w+3*v*(k*K+v*_))*k),M=ai(F*F+G*G),M<u&&(u=M),c+=M,A[o++]=c;C+=b,r+=w}if(d)for(d-=c;o<A.length;o++)A[o]+=d;if(A.length&&u){if(n.totalLength=O=A[A.length-1]||0,n.minLength=u,O/u<9999)for(M=H=0,m=0;m<O;m+=u)s[M++]=A[H]<m?++H:H}else n.totalLength=A[0]=0;return t?c-A[t/2-1]:c}function wi(n,t){var e,g,i;for(i=e=g=0;i<n.length;i++)n[i].resolution=~~t||12,g+=n[i].length,e+=Qc(n[i]);return n.totalPoints=g,n.totalLength=e,n}function wo(n,t,e){if(e<=0||e>=1)return 0;var g=n[t],i=n[t+1],I=n[t+2],C=n[t+3],r=n[t+4],o=n[t+5],A=n[t+6],s=n[t+7],u=g+(I-g)*e,d=I+(r-I)*e,c=i+(C-i)*e,m=C+(o-C)*e,h=u+(d-u)*e,b=c+(m-c)*e,B=r+(A-r)*e,Z=o+(s-o)*e;return d+=(B-d)*e,m+=(Z-m)*e,n.splice(t+2,4,Yt(u),Yt(c),Yt(h),Yt(b),Yt(h+(d-h)*e),Yt(b+(m-b)*e),Yt(d),Yt(m),Yt(B),Yt(Z)),n.samples&&n.samples.splice(t/6*n.resolution|0,0,0,0,0,0,0,0),6}function Za(n,t,e,g){e=e||{},n.totalLength||wi(n),(t<0||t>1)&&(t=Da(t));var i=0,I=n[0],C,r,o,A,s,u,d;if(!t)d=u=i=0,I=n[0];else if(t===1)d=1,i=n.length-1,I=n[i],u=I.length-8;else{if(n.length>1){for(o=n.totalLength*t,s=u=0;(s+=n[u++].totalLength)<o;)i=u;I=n[i],A=s-I.totalLength,t=(o-A)/(s-A)||0}C=I.samples,r=I.resolution,o=I.totalLength*t,u=I.lookup.length?I.lookup[~~(o/I.minLength)]||0:Sa(C,o,t),A=u?C[u-1]:0,s=C[u],s<o&&(A=s,s=C[++u]),d=1/r*((o-A)/(s-A)+u%r),u=~~(u/r)*6,g&&d===1&&(u+6<I.length?(u+=6,d=0):i+1<n.length&&(u=d=0,I=n[++i]))}return e.t=d,e.i=u,e.path=n,e.segment=I,e.segIndex=i,e}function Wo(n,t,e,g){var i=n[0],I=g||{},C,r,o,A,s,u,d,c,m;if((t<0||t>1)&&(t=Da(t)),i.lookup||wi(n),n.length>1){for(o=n.totalLength*t,s=u=0;(s+=n[u++].totalLength)<o;)i=n[u];A=s-i.totalLength,t=(o-A)/(s-A)||0}return C=i.samples,r=i.resolution,o=i.totalLength*t,u=i.lookup.length?i.lookup[t<1?~~(o/i.minLength):i.lookup.length-1]||0:Sa(C,o,t),A=u?C[u-1]:0,s=C[u],s<o&&(A=s,s=C[++u]),d=1/r*((o-A)/(s-A)+u%r)||0,m=1-d,u=~~(u/r)*6,c=i[u],I.x=Yt((d*d*(i[u+6]-c)+3*m*(d*(i[u+4]-c)+m*(i[u+2]-c)))*d+c),I.y=Yt((d*d*(i[u+7]-(c=i[u+1]))+3*m*(d*(i[u+5]-c)+m*(i[u+3]-c)))*d+c),e&&(I.angle=i.totalLength?_a(i,u,d>=1?1-1e-9:d||1e-9):i.angle||0),I}function WI(n,t,e,g,i,I,C){for(var r=n.length,o,A,s,u,d;--r>-1;)for(o=n[r],A=o.length,s=0;s<A;s+=2)u=o[s],d=o[s+1],o[s]=u*t+d*g+I,o[s+1]=u*e+d*i+C;return n._dirty=1,n}function jc(n,t,e,g,i,I,C,r,o){if(!(n===r&&t===o)){e=fg(e),g=fg(g);var A=i%360*Hc,s=_n(A),u=wn(A),d=Math.PI,c=d*2,m=(n-r)/2,h=(t-o)/2,b=s*m+u*h,B=-u*m+s*h,Z=b*b,G=B*B,D=Z/(e*e)+G/(g*g);D>1&&(e=ai(D)*e,g=ai(D)*g);var w=e*e,K=g*g,_=(w*K-w*G-K*Z)/(w*G+K*Z);_<0&&(_=0);var F=(I===C?-1:1)*ai(_),V=F*(e*B/g),v=F*-(g*b/e),k=(n+r)/2,H=(t+o)/2,M=k+(s*V-u*v),O=H+(u*V+s*v),N=(b-V)/e,$=(B-v)/g,q=(-b-V)/e,at=(-B-v)/g,ft=N*N+$*$,S=($<0?-1:1)*Math.acos(N/ai(ft)),It=(N*at-$*q<0?-1:1)*Math.acos((N*q+$*at)/ai(ft*(q*q+at*at)));isNaN(It)&&(It=d),!C&&It>0?It-=c:C&&It<0&&(It+=c),S%=c,It%=c;var bt=Math.ceil(fg(It)/(c/4)),St=[],ct=It/bt,rt=4/3*wn(ct/2)/(1+_n(ct/2)),ot=s*e,wt=u*e,Dt=u*-g,Ht=s*g,ht;for(ht=0;ht<bt;ht++)i=S+ht*ct,b=_n(i),B=wn(i),N=_n(i+=ct),$=wn(i),St.push(b-rt*B,B+rt*b,N+rt*$,$-rt*N,N,$);for(ht=0;ht<St.length;ht+=2)b=St[ht],B=St[ht+1],St[ht]=b*ot+B*Dt+M,St[ht+1]=b*wt+B*Ht+O;return St[ht-2]=r,St[ht-1]=o,St}}function dC(n){var t=(n+"").replace(Fc,function(V){var v=+V;return v<1e-4&&v>-1e-4?0:v}).match(vc)||[],e=[],g=0,i=0,I=2/3,C=t.length,r=0,o="ERROR: malformed path: "+n,A,s,u,d,c,m,h,b,B,Z,G,D,w,K,_,F=function(v,k,H,M){Z=(H-v)/3,G=(M-k)/3,h.push(v+Z,k+G,H-Z,M-G,H,M)};if(!n||!isNaN(t[0])||isNaN(t[1]))return console.log(o),e;for(A=0;A<C;A++)if(w=c,isNaN(t[A])?(c=t[A].toUpperCase(),m=c!==t[A]):A--,u=+t[A+1],d=+t[A+2],m&&(u+=g,d+=i),A||(b=u,B=d),c==="M")h&&(h.length<8?e.length-=1:r+=h.length),g=b=u,i=B=d,h=[u,d],e.push(h),A+=2,c="L";else if(c==="C")h||(h=[0,0]),m||(g=i=0),h.push(u,d,g+t[A+3]*1,i+t[A+4]*1,g+=t[A+5]*1,i+=t[A+6]*1),A+=6;else if(c==="S")Z=g,G=i,(w==="C"||w==="S")&&(Z+=g-h[h.length-4],G+=i-h[h.length-3]),m||(g=i=0),h.push(Z,G,u,d,g+=t[A+3]*1,i+=t[A+4]*1),A+=4;else if(c==="Q")Z=g+(u-g)*I,G=i+(d-i)*I,m||(g=i=0),g+=t[A+3]*1,i+=t[A+4]*1,h.push(Z,G,g+(u-g)*I,i+(d-i)*I,g,i),A+=4;else if(c==="T")Z=g-h[h.length-4],G=i-h[h.length-3],h.push(g+Z,i+G,u+(g+Z*1.5-u)*I,d+(i+G*1.5-d)*I,g=u,i=d),A+=2;else if(c==="H")F(g,i,g=u,i),A+=1;else if(c==="V")F(g,i,g,i=u+(m?i-g:0)),A+=1;else if(c==="L"||c==="Z")c==="Z"&&(u=b,d=B,h.closed=!0),(c==="L"||fg(g-u)>.5||fg(i-d)>.5)&&(F(g,i,u,d),c==="L"&&(A+=2)),g=u,i=d;else if(c==="A"){if(K=t[A+4],_=t[A+5],Z=t[A+6],G=t[A+7],s=7,K.length>1&&(K.length<3?(G=Z,Z=_,s--):(G=_,Z=K.substr(2),s-=2),_=K.charAt(1),K=K.charAt(0)),D=jc(g,i,+t[A+1],+t[A+2],+t[A+3],+K,+_,(m?g:0)+Z*1,(m?i:0)+G*1),A+=s,D)for(s=0;s<D.length;s++)h.push(D[s]);g=h[h.length-2],i=h[h.length-1]}else console.log(o);return A=h.length,A<6?(e.pop(),A=0):h[0]===h[A-2]&&h[1]===h[A-1]&&(h.closed=!0),e.totalPoints=r+A,e}function Wa(n,t){t===void 0&&(t=1);for(var e=n[0],g=0,i=[e,g],I=2;I<n.length;I+=2)i.push(e,g,n[I],g=(n[I]-e)*t/2,e=n[I],-g);return i}function Yn(n,t){fg(n[0]-n[2])<1e-4&&fg(n[1]-n[3])<1e-4&&(n=n.slice(2));var e=n.length-2,g=+n[0],i=+n[1],I=+n[2],C=+n[3],r=[g,i,g,i],o=I-g,A=C-i,s=Math.abs(n[e]-g)<.001&&Math.abs(n[e+1]-i)<.001,u,d,c,m,h,b,B,Z,G,D,w,K,_,F,V;for(s&&(n.push(I,C),I=g,C=i,g=n[e-2],i=n[e-1],n.unshift(g,i),e+=4),t=t||t===0?+t:1,c=2;c<e;c+=2)u=g,d=i,g=I,i=C,I=+n[c+2],C=+n[c+3],!(g===I&&i===C)&&(m=o,h=A,o=I-g,A=C-i,b=ai(m*m+h*h),B=ai(o*o+A*A),Z=ai(Math.pow(o/B+m/b,2)+Math.pow(A/B+h/b,2)),G=(b+B)*t*.25/Z,D=g-(g-u)*(b?G/b:0),w=g+(I-g)*(B?G/B:0),K=g-(D+((w-D)*(b*3/(b+B)+.5)/4||0)),_=i-(i-d)*(b?G/b:0),F=i+(C-i)*(B?G/B:0),V=i-(_+((F-_)*(b*3/(b+B)+.5)/4||0)),(g!==u||i!==d)&&r.push(Yt(D+K),Yt(_+V),Yt(g),Yt(i),Yt(w+K),Yt(F+V)));return g!==I||i!==C||r.length<4?r.push(Yt(I),Yt(C),Yt(I),Yt(C)):r.length-=2,r.length===2?r.push(g,i,g,i,g,i):s&&(r.splice(0,6),r.length=r.length-6),r}function Yo(n){ya(n[0])&&(n=[n]);var t="",e=n.length,g,i,I,C;for(i=0;i<e;i++){for(C=n[i],t+="M"+Yt(C[0])+","+Yt(C[1])+" C",g=C.length,I=2;I<g;I++)t+=Yt(C[I++])+","+Yt(C[I++])+" "+Yt(C[I++])+","+Yt(C[I++])+" "+Yt(C[I++])+","+Yt(C[I])+" ";C.closed&&(t+="z")}return t}var qc="x,translateX,left,marginLeft,xPercent".split(","),$c="y,translateY,top,marginTop,yPercent".split(","),th=Math.PI/180,bg,va,YI,Vo,Ko,Ya,eh=function(){return bg||typeof window<"u"&&(bg=window.gsap)&&bg.registerPlugin&&bg},mC=function(t,e,g,i){for(var I=e.length,C=i===2?0:i,r=0,o;r<I;r++)t[C]=o=parseFloat(e[r][g]),i===2&&(t[C+1]=0),C+=2;return t},KI=function(t,e,g){return parseFloat(t._gsap.get(t,e,g||"px"))||0},Ra=function(t){var e=t[0],g=t[1],i;for(i=2;i<t.length;i+=2)e=t[i]+=e,g=t[i+1]+=g},Ka=function(t,e,g,i,I,C,r,o,A){if(r.type==="cubic")e=[e];else{r.fromCurrent!==!1&&e.unshift(KI(g,i,o),I?KI(g,I,A):0),r.relative&&Ra(e);var s=I?Yn:Wa;e=[s(e,r.curviness)]}return e=C(Fa(e,g,r)),Kn(t,g,i,e,"x",o),I&&Kn(t,g,I,e,"y",A),wi(e,r.resolution||(r.curviness===0?20:12))},gh=function(t){return t},ih=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,Va=function(t,e,g){var i=Be(t),I=0,C=0,r;return(t.tagName+"").toLowerCase()==="svg"?(r=t.viewBox.baseVal,r.width||(r={width:+t.getAttribute("width"),height:+t.getAttribute("height")})):r=e&&t.getBBox&&t.getBBox(),e&&e!=="auto"&&(I=e.push?e[0]*(r?r.width:t.offsetWidth||0):e.x,C=e.push?e[1]*(r?r.height:t.offsetHeight||0):e.y),g.apply(I||C?i.apply({x:I,y:C}):{x:i.e,y:i.f})},vo=function(t,e,g,i){var I=Be(t.parentNode,!0,!0),C=I.clone().multiply(Be(e)),r=Va(t,g,I),o=Va(e,i,I),A=o.x,s=o.y,u;return C.e=C.f=0,i==="auto"&&e.getTotalLength&&e.tagName.toLowerCase()==="path"&&(u=e.getAttribute("d").match(ih)||[],u=C.apply({x:+u[0],y:+u[1]}),A+=u.x,s+=u.y),u&&(u=C.apply(e.getBBox()),A-=u.x,s-=u.y),C.e=A-r.x,C.f=s-r.y,C},Fa=function(t,e,g){var i=g.align,I=g.matrix,C=g.offsetX,r=g.offsetY,o=g.alignOrigin,A=t[0][0],s=t[0][1],u=KI(e,"x"),d=KI(e,"y"),c,m,h;return!t||!t.length?pC("M0,0L0,0"):(i&&(i==="self"||(c=Vo(i)[0]||e)===e?WI(t,1,0,0,1,u-A,d-s):(o&&o[2]!==!1?bg.set(e,{transformOrigin:o[0]*100+"% "+o[1]*100+"%"}):o=[KI(e,"xPercent")/-100,KI(e,"yPercent")/-100],m=vo(e,c,o,"auto"),h=m.apply({x:A,y:s}),WI(t,m.a,m.b,m.c,m.d,u+m.e-(h.x-m.e),d+m.f-(h.y-m.f)))),I?WI(t,I.a,I.b,I.c,I.d,I.e,I.f):(C||r)&&WI(t,1,0,0,1,C||0,r||0),t)},Kn=function(t,e,g,i,I,C){var r=e._gsap,o=r.harness,A=o&&o.aliases&&o.aliases[g],s=A&&A.indexOf(",")<0?A:g,u=t._pt=new va(t._pt,e,s,0,0,gh,0,r.set(e,s,t));u.u=YI(r.get(e,s,C))||0,u.path=i,u.pp=I,t._props.push(s)},Ih=function(t,e){return function(g){return t||e!==1?_o(g,t,e):g}},Ro={version:"3.12.5",name:"motionPath",register:function(t,e,g){bg=t,YI=bg.utils.getUnit,Vo=bg.utils.toArray,Ko=bg.core.getStyleSaver,Ya=bg.core.reverting||function(){},va=g},init:function(t,e,g){if(!bg)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;(!(typeof e=="object"&&!e.style)||!e.path)&&(e={path:e});var i=[],I=e,C=I.path,r=I.autoRotate,o=I.unitX,A=I.unitY,s=I.x,u=I.y,d=C[0],c=Ih(e.start,"end"in e?e.end:1),m,h;if(this.rawPaths=i,this.target=t,this.tween=g,this.styles=Ko&&Ko(t,"transform"),(this.rotate=r||r===0)&&(this.rOffset=parseFloat(r)||0,this.radians=!!e.useRadians,this.rProp=e.rotation||"rotation",this.rSet=t._gsap.set(t,this.rProp,this),this.ru=YI(t._gsap.get(t,this.rProp))||0),Array.isArray(C)&&!("closed"in C)&&typeof d!="number"){for(h in d)!s&&~qc.indexOf(h)?s=h:!u&&~$c.indexOf(h)&&(u=h);s&&u?i.push(Ka(this,mC(mC([],C,s,0),C,u,1),t,s,u,c,e,o||YI(C[0][s]),A||YI(C[0][u]))):s=u=0;for(h in d)h!==s&&h!==u&&i.push(Ka(this,mC([],C,h,2),t,h,0,c,e,YI(C[0][h])))}else m=c(Fa(pC(e.path),t,e)),wi(m,e.resolution),i.push(m),Kn(this,t,e.x||"x",m,"x",e.unitX||"px"),Kn(this,t,e.y||"y",m,"y",e.unitY||"px")},render:function(t,e){var g=e.rawPaths,i=g.length,I=e._pt;if(e.tween._time||!Ya()){for(t>1?t=1:t<0&&(t=0);i--;)Wo(g[i],t,!i&&e.rotate,g[i]);for(;I;)I.set(I.t,I.p,I.path[I.pp]+I.u,I.d,t),I=I._next;e.rotate&&e.rSet(e.target,e.rProp,g[0].angle*(e.radians?th:1)+e.rOffset+e.ru,e,t)}else e.styles.revert()},getLength:function(t){return wi(pC(t)).totalLength},sliceRawPath:_o,getRawPath:pC,pointsToSegment:Yn,stringToRawPath:dC,rawPathToString:Yo,transformRawPath:WI,getGlobalMatrix:Be,getPositionOnPath:Wo,cacheRawPathMeasurements:wi,convertToPath:function(t,e){return Vo(t).map(function(g){return wa(g,e!==!1)})},convertCoordinates:function(t,e,g){var i=Be(e,!0,!0).multiply(Be(t));return g?i.apply(g):i},getAlignMatrix:vo,getRelativePosition:function(t,e,g,i){var I=vo(t,e,g,i);return{x:I.e,y:I.f}},arrayToRawPath:function(t,e){e=e||{};var g=mC(mC([],t,e.x||"x",0),t,e.y||"y",1);return e.relative&&Ra(g),[e.type==="cubic"?g:Yn(g,e.curviness)]}};eh()&&bg.registerPlugin(Ro);var Ch=Object.defineProperty,nh=(n,t,e)=>t in n?Ch(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,mt=(n,t,e)=>nh(n,typeof t!="symbol"?t+"":t,e),rh=class{requestAnimationFrame(n){return requestAnimationFrame(n)}cancelAnimationFrame(n){cancelAnimationFrame(n)}},oh=class{constructor(){mt(this,"_lastHandleId",0),mt(this,"_lastImmediate",null)}requestAnimationFrame(n){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{n(Date.now())}),this._lastHandleId}cancelAnimationFrame(n){this._lastImmediate&&clearImmediate(this._lastImmediate)}},Ah=class{constructor(){mt(this,"_strategy"),this._strategy=typeof requestAnimationFrame=="function"?new rh:new oh}requestAnimationFrame(n){return this._strategy.requestAnimationFrame(n)}cancelAnimationFrame(n){this._strategy.cancelAnimationFrame(n)}},iI=typeof window<"u"&&typeof window.document<"u",Fo=new Uint8Array([80,75,3,4]),sh=["v","ip","op","layers","fr","w","h"],Ea="0.30.2",xa="@lottiefiles/dotlottie-web",ah=(()=>{var n=typeof document<"u"?document.currentScript?.src:void 0;return function(t={}){var e=t,g,i,I=new Promise((a,l)=>{g=a,i=l}),C=Object.assign({},e),r="./this.program",o="";typeof document<"u"&&document.currentScript&&(o=document.currentScript.src),n&&(o=n),o.startsWith("blob:")?o="":o=o.substr(0,o.replace(/[?#].*/,"").lastIndexOf("/")+1);var A=e.print||console.log.bind(console),s=e.printErr||console.error.bind(console);Object.assign(e,C),C=null,e.thisProgram&&(r=e.thisProgram);var u;e.wasmBinary&&(u=e.wasmBinary);var d,c=!1,m,h,b,B,Z,G,D,w;function K(){var a=d.buffer;e.HEAP8=m=new Int8Array(a),e.HEAP16=b=new Int16Array(a),e.HEAPU8=h=new Uint8Array(a),e.HEAPU16=B=new Uint16Array(a),e.HEAP32=Z=new Int32Array(a),e.HEAPU32=G=new Uint32Array(a),e.HEAPF32=D=new Float32Array(a),e.HEAPF64=w=new Float64Array(a)}var _=[],F=[],V=[];function v(){var a=e.preRun.shift();_.unshift(a)}var k=0,H=null;function M(a){throw e.onAbort?.(a),a="Aborted("+a+")",s(a),c=!0,a=new WebAssembly.RuntimeError(a+". Build with -sASSERTIONS for more info."),i(a),a}var O=a=>a.startsWith("data:application/octet-stream;base64,"),N;if(N="DotLottiePlayer.wasm",!O(N)){var $=N;N=e.locateFile?e.locateFile($,o):o+$}function q(a){if(a==N&&u)return new Uint8Array(u);throw"both async and sync fetching of the wasm failed"}function at(a){return u||typeof fetch!="function"?Promise.resolve().then(()=>q(a)):fetch(a,{credentials:"same-origin"}).then(l=>{if(!l.ok)throw`failed to load wasm binary file at '${a}'`;return l.arrayBuffer()}).catch(()=>q(a))}function ft(a,l,p){return at(a).then(f=>WebAssembly.instantiate(f,l)).then(p,f=>{s(`failed to asynchronously prepare wasm: ${f}`),M(f)})}function S(a,l){var p=N;return u||typeof WebAssembly.instantiateStreaming!="function"||O(p)||typeof fetch!="function"?ft(p,a,l):fetch(p,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,a).then(l,function(y){return s(`wasm streaming compile failed: ${y}`),s("falling back to ArrayBuffer instantiation"),ft(p,a,l)}))}var It=a=>{for(;0<a.length;)a.shift()(e)},bt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,St=(a,l,p)=>{var f=l+p;for(p=l;a[p]&&!(p>=f);)++p;if(16<p-l&&a.buffer&&bt)return bt.decode(a.subarray(l,p));for(f="";l<p;){var y=a[l++];if(y&128){var Y=a[l++]&63;if((y&224)==192)f+=String.fromCharCode((y&31)<<6|Y);else{var L=a[l++]&63;y=(y&240)==224?(y&15)<<12|Y<<6|L:(y&7)<<18|Y<<12|L<<6|a[l++]&63,65536>y?f+=String.fromCharCode(y):(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023))}}else f+=String.fromCharCode(y)}return f};class ct{constructor(l){this.ya=l-24}}var rt=0,ot=a=>{for(var l=0,p=0;p<a.length;++p){var f=a.charCodeAt(p);127>=f?l++:2047>=f?l+=2:55296<=f&&57343>=f?(l+=4,++p):l+=3}return l},wt=(a,l,p,f)=>{if(0<f){f=p+f-1;for(var y=0;y<a.length;++y){var Y=a.charCodeAt(y);if(55296<=Y&&57343>=Y){var L=a.charCodeAt(++y);Y=65536+((Y&1023)<<10)|L&1023}if(127>=Y){if(p>=f)break;l[p++]=Y}else{if(2047>=Y){if(p+1>=f)break;l[p++]=192|Y>>6}else{if(65535>=Y){if(p+2>=f)break;l[p++]=224|Y>>12}else{if(p+3>=f)break;l[p++]=240|Y>>18,l[p++]=128|Y>>12&63}l[p++]=128|Y>>6&63}l[p++]=128|Y&63}}l[p]=0}},Dt={},Ht=a=>{for(;a.length;){var l=a.pop();a.pop()(l)}};function ht(a){return this.fromWireType(G[a>>2])}var _t={},Ot={},Q={},At,kt=(a,l,p)=>{function f(X){if(X=p(X),X.length!==a.length)throw new At("Mismatched type converter count");for(var x=0;x<a.length;++x)Mt(a[x],X[x])}a.forEach(function(X){Q[X]=l});var y=Array(l.length),Y=[],L=0;l.forEach((X,x)=>{Ot.hasOwnProperty(X)?y[x]=Ot[X]:(Y.push(X),_t.hasOwnProperty(X)||(_t[X]=[]),_t[X].push(()=>{y[x]=Ot[X],++L,L===Y.length&&f(y)}))}),Y.length===0&&f(y)},ne,W=a=>{for(var l="";h[a];)l+=ne[h[a++]];return l},U;function $e(a,l,p={}){var f=l.name;if(!a)throw new U(`type "${f}" must have a positive integer typeid pointer`);if(Ot.hasOwnProperty(a)){if(p.ib)return;throw new U(`Cannot register type '${f}' twice`)}Ot[a]=l,delete Q[a],_t.hasOwnProperty(a)&&(l=_t[a],delete _t[a],l.forEach(y=>y()))}function Mt(a,l,p={}){if(!("argPackAdvance"in l))throw new TypeError("registerType registeredInstance requires argPackAdvance");return $e(a,l,p)}var z=a=>{throw new U(a.ma.za.xa.name+" instance already deleted")},Xe=!1,Kg=()=>{},Pg=(a,l,p)=>l===p?a:p.Ca===void 0?null:(a=Pg(a,l,p.Ca),a===null?null:p.ab(a)),ee={},Je=[],Et=()=>{for(;Je.length;){var a=Je.pop();a.ma.Ka=!1,a.delete()}},Ze,de={},Gg=(a,l)=>{if(l===void 0)throw new U("ptr should not be undefined");for(;a.Ca;)l=a.Na(l),a=a.Ca;return de[l]},Vg=(a,l)=>{if(!l.za||!l.ya)throw new At("makeClassHandle requires ptr and ptrType");if(!!l.Da!=!!l.Aa)throw new At("Both smartPtrType and smartPtr must be specified");return l.count={value:1},Lt(Object.create(a,{ma:{value:l,writable:!0}}))},Lt=a=>typeof FinalizationRegistry>"u"?(Lt=l=>l,a):(Xe=new FinalizationRegistry(l=>{l=l.ma,--l.count.value,l.count.value===0&&(l.Aa?l.Da.Fa(l.Aa):l.za.xa.Fa(l.ya))}),Lt=l=>{var p=l.ma;return p.Aa&&Xe.register(l,{ma:p},l),l},Kg=l=>{Xe.unregister(l)},Lt(a));function Mg(){}var ze=(a,l)=>Object.defineProperty(l,"name",{value:a}),Jg=(a,l,p)=>{if(a[l].Ba===void 0){var f=a[l];a[l]=function(...y){if(!a[l].Ba.hasOwnProperty(y.length))throw new U(`Function '${p}' called with an invalid number of arguments (${y.length}) - expects one of (${a[l].Ba})!`);return a[l].Ba[y.length].apply(this,y)},a[l].Ba=[],a[l].Ba[f.Oa]=f}},vg=(a,l,p)=>{if(e.hasOwnProperty(a)){if(p===void 0||e[a].Ba!==void 0&&e[a].Ba[p]!==void 0)throw new U(`Cannot register public name '${a}' twice`);if(Jg(e,a,a),e.hasOwnProperty(p))throw new U(`Cannot register multiple overloads of a function with the same number of arguments (${p})!`);e[a].Ba[p]=l}else e[a]=l,p!==void 0&&(e[a].vb=p)},Rg=a=>{if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var l=a.charCodeAt(0);return 48<=l&&57>=l?`_${a}`:a};function zg(a,l,p,f,y,Y,L,X){this.name=a,this.constructor=l,this.La=p,this.Fa=f,this.Ca=y,this.cb=Y,this.Na=L,this.ab=X,this.kb=[]}var lt=(a,l,p)=>{for(;l!==p;){if(!l.Na)throw new U(`Expected null or instance of ${p.name}, got an instance of ${l.name}`);a=l.Na(a),l=l.Ca}return a};function Og(a,l){if(l===null){if(this.Ta)throw new U(`null is not a valid ${this.name}`);return 0}if(!l.ma)throw new U(`Cannot pass "${De(l)}" as a ${this.name}`);if(!l.ma.ya)throw new U(`Cannot pass deleted object as a pointer of type ${this.name}`);return lt(l.ma.ya,l.ma.za.xa,this.xa)}function tg(a,l){if(l===null){if(this.Ta)throw new U(`null is not a valid ${this.name}`);if(this.Qa){var p=this.Ua();return a!==null&&a.push(this.Fa,p),p}return 0}if(!l||!l.ma)throw new U(`Cannot pass "${De(l)}" as a ${this.name}`);if(!l.ma.ya)throw new U(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.Pa&&l.ma.za.Pa)throw new U(`Cannot convert argument of type ${l.ma.Da?l.ma.Da.name:l.ma.za.name} to parameter type ${this.name}`);if(p=lt(l.ma.ya,l.ma.za.xa,this.xa),this.Qa){if(l.ma.Aa===void 0)throw new U("Passing raw pointer to smart pointer is illegal");switch(this.pb){case 0:if(l.ma.Da===this)p=l.ma.Aa;else throw new U(`Cannot convert argument of type ${l.ma.Da?l.ma.Da.name:l.ma.za.name} to parameter type ${this.name}`);break;case 1:p=l.ma.Aa;break;case 2:if(l.ma.Da===this)p=l.ma.Aa;else{var f=l.clone();p=this.lb(p,Rt(()=>f.delete())),a!==null&&a.push(this.Fa,p)}break;default:throw new U("Unsupporting sharing policy")}}return p}function eg(a,l){if(l===null){if(this.Ta)throw new U(`null is not a valid ${this.name}`);return 0}if(!l.ma)throw new U(`Cannot pass "${De(l)}" as a ${this.name}`);if(!l.ma.ya)throw new U(`Cannot pass deleted object as a pointer of type ${this.name}`);if(l.ma.za.Pa)throw new U(`Cannot convert argument of type ${l.ma.za.name} to parameter type ${this.name}`);return lt(l.ma.ya,l.ma.za.xa,this.xa)}function ye(a,l,p,f,y,Y,L,X,x,E,P){this.name=a,this.xa=l,this.Ta=p,this.Pa=f,this.Qa=y,this.jb=Y,this.pb=L,this.Za=X,this.Ua=x,this.lb=E,this.Fa=P,y||l.Ca!==void 0?this.toWireType=tg:(this.toWireType=f?Og:eg,this.Ea=null)}var Fg=(a,l,p)=>{if(!e.hasOwnProperty(a))throw new At("Replacing nonexistent public symbol");e[a].Ba!==void 0&&p!==void 0?e[a].Ba[p]=l:(e[a]=l,e[a].Oa=p)},ae,Bg=(a,l,p=[])=>(a.includes("j")?(a=a.replace(/p/g,"i"),l=(0,e["dynCall_"+a])(l,...p)):l=ae.get(l)(...p),l),Wi=(a,l)=>(...p)=>Bg(a,l,p),j=(a,l)=>{a=W(a);var p=a.includes("j")?Wi(a,l):ae.get(l);if(typeof p!="function")throw new U(`unknown function pointer with signature ${a}: ${l}`);return p},et,yt=a=>{a=eA(a);var l=W(a);return qg(a),l},T=(a,l)=>{function p(Y){y[Y]||Ot[Y]||(Q[Y]?Q[Y].forEach(p):(f.push(Y),y[Y]=!0))}var f=[],y={};throw l.forEach(p),new et(`${a}: `+f.map(yt).join([", "]))},Ct=(a,l)=>{for(var p=[],f=0;f<a;f++)p.push(G[l+4*f>>2]);return p};function tt(a){for(var l=1;l<a.length;++l)if(a[l]!==null&&a[l].Ea===void 0)return!0;return!1}function it(a,l,p,f,y){var Y=l.length;if(2>Y)throw new U("argTypes array size mismatch! Must at least get return value and 'this' types!");var L=l[1]!==null&&p!==null,X=tt(l),x=l[0].name!=="void",E=Y-2,P=Array(E),Gt=[],Vt=[];return ze(a,function(...R){if(R.length!==E)throw new U(`function ${a} called with ${R.length} arguments, expected ${E}`);if(Vt.length=0,Gt.length=L?2:1,Gt[0]=y,L){var gt=l[1].toWireType(Vt,this);Gt[1]=gt}for(var st=0;st<E;++st)P[st]=l[st+2].toWireType(Vt,R[st]),Gt.push(P[st]);if(R=f(...Gt),X)Ht(Vt);else for(st=L?1:2;st<l.length;st++){var ue=st===1?gt:P[st-2];l[st].Ea!==null&&l[st].Ea(ue)}return gt=x?l[0].fromWireType(R):void 0,gt})}var ge=a=>{a=a.trim();let l=a.indexOf("(");return l!==-1?a.substr(0,l):a},ut=[],Wt=[],re=a=>{9<a&&--Wt[a+1]===0&&(Wt[a]=void 0,ut.push(a))},Nt=a=>{if(!a)throw new U("Cannot use deleted val. handle = "+a);return Wt[a]},Rt=a=>{switch(a){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let l=ut.pop()||Wt.length;return Wt[l]=a,Wt[l+1]=1,l}},Kt={name:"emscripten::val",fromWireType:a=>{var l=Nt(a);return re(a),l},toWireType:(a,l)=>Rt(l),argPackAdvance:8,readValueFromPointer:ht,Ea:null},gg=(a,l,p)=>{switch(l){case 1:return p?function(f){return this.fromWireType(m[f])}:function(f){return this.fromWireType(h[f])};case 2:return p?function(f){return this.fromWireType(b[f>>1])}:function(f){return this.fromWireType(B[f>>1])};case 4:return p?function(f){return this.fromWireType(Z[f>>2])}:function(f){return this.fromWireType(G[f>>2])};default:throw new TypeError(`invalid integer width (${l}): ${a}`)}},Ft=(a,l)=>{var p=Ot[a];if(p===void 0)throw a=`${l} has unknown type ${yt(a)}`,new U(a);return p},De=a=>{if(a===null)return"null";var l=typeof a;return l==="object"||l==="array"||l==="function"?a.toString():""+a},Ag=(a,l)=>{switch(l){case 4:return function(p){return this.fromWireType(D[p>>2])};case 8:return function(p){return this.fromWireType(w[p>>3])};default:throw new TypeError(`invalid float width (${l}): ${a}`)}},le=(a,l,p)=>{switch(l){case 1:return p?f=>m[f]:f=>h[f];case 2:return p?f=>b[f>>1]:f=>B[f>>1];case 4:return p?f=>Z[f>>2]:f=>G[f>>2];default:throw new TypeError(`invalid integer width (${l}): ${a}`)}},oe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,pe=(a,l)=>{for(var p=a>>1,f=p+l/2;!(p>=f)&&B[p];)++p;if(p<<=1,32<p-a&&oe)return oe.decode(h.subarray(a,p));for(p="",f=0;!(f>=l/2);++f){var y=b[a+2*f>>1];if(y==0)break;p+=String.fromCharCode(y)}return p},Ug=(a,l,p)=>{if(p??(p=2147483647),2>p)return 0;p-=2;var f=l;p=p<2*a.length?p/2:a.length;for(var y=0;y<p;++y)b[l>>1]=a.charCodeAt(y),l+=2;return b[l>>1]=0,l-f},CI=a=>2*a.length,me=(a,l)=>{for(var p=0,f="";!(p>=l/4);){var y=Z[a+4*p>>2];if(y==0)break;++p,65536<=y?(y-=65536,f+=String.fromCharCode(55296|y>>10,56320|y&1023)):f+=String.fromCharCode(y)}return f},ie=(a,l,p)=>{if(p??(p=2147483647),4>p)return 0;var f=l;p=f+p-4;for(var y=0;y<a.length;++y){var Y=a.charCodeAt(y);if(55296<=Y&&57343>=Y){var L=a.charCodeAt(++y);Y=65536+((Y&1023)<<10)|L&1023}if(Z[l>>2]=Y,l+=4,l+4>p)break}return Z[l>>2]=0,l-f},sg=a=>{for(var l=0,p=0;p<a.length;++p){var f=a.charCodeAt(p);55296<=f&&57343>=f&&++p,l+=4}return l},Yi=[],GC=a=>{var l=Yi.length;return Yi.push(a),l},Ki=(a,l)=>{for(var p=Array(a),f=0;f<a;++f)p[f]=Ft(G[l+4*f>>2],"parameter "+f);return p},ag=Reflect.construct,Qg={},Vi=()=>{if(!jg){var a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:r||"./this.program"},l;for(l in Qg)Qg[l]===void 0?delete a[l]:a[l]=Qg[l];var p=[];for(l in a)p.push(`${l}=${a[l]}`);jg=p}return jg},jg,nl=[null,[],[]],rl=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return a=>crypto.getRandomValues(a);M("initRandomDevice")},jo=a=>(jo=rl())(a),BC=a=>a%4===0&&(a%100!==0||a%400===0),qo=[31,29,31,30,31,30,31,31,30,31,30,31],$o=[31,28,31,30,31,30,31,31,30,31,30,31];function ol(a){var l=Array(ot(a)+1);return wt(a,l,0,l.length),l}var Al=(a,l,p,f)=>{function y(R,gt,st){for(R=typeof R=="number"?R.toString():R||"";R.length<gt;)R=st[0]+R;return R}function Y(R,gt){return y(R,gt,"0")}function L(R,gt){function st(ui){return 0>ui?-1:0<ui?1:0}var ue;return(ue=st(R.getFullYear()-gt.getFullYear()))===0&&(ue=st(R.getMonth()-gt.getMonth()))===0&&(ue=st(R.getDate()-gt.getDate())),ue}function X(R){switch(R.getDay()){case 0:return new Date(R.getFullYear()-1,11,29);case 1:return R;case 2:return new Date(R.getFullYear(),0,3);case 3:return new Date(R.getFullYear(),0,2);case 4:return new Date(R.getFullYear(),0,1);case 5:return new Date(R.getFullYear()-1,11,31);case 6:return new Date(R.getFullYear()-1,11,30)}}function x(R){var gt=R.Ia;for(R=new Date(new Date(R.Ja+1900,0,1).getTime());0<gt;){var st=R.getMonth(),ue=(BC(R.getFullYear())?qo:$o)[st];if(gt>ue-R.getDate())gt-=ue-R.getDate()+1,R.setDate(1),11>st?R.setMonth(st+1):(R.setMonth(0),R.setFullYear(R.getFullYear()+1));else{R.setDate(R.getDate()+gt);break}}return st=new Date(R.getFullYear()+1,0,4),gt=X(new Date(R.getFullYear(),0,4)),st=X(st),0>=L(gt,R)?0>=L(st,R)?R.getFullYear()+1:R.getFullYear():R.getFullYear()-1}var E=G[f+40>>2];f={sb:Z[f>>2],rb:Z[f+4>>2],Ra:Z[f+8>>2],Va:Z[f+12>>2],Sa:Z[f+16>>2],Ja:Z[f+20>>2],Ga:Z[f+24>>2],Ia:Z[f+28>>2],wb:Z[f+32>>2],qb:Z[f+36>>2],tb:E&&E?St(h,E):""},p=p?St(h,p):"",E={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var P in E)p=p.replace(new RegExp(P,"g"),E[P]);var Gt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Vt="January February March April May June July August September October November December".split(" ");E={"%a":R=>Gt[R.Ga].substring(0,3),"%A":R=>Gt[R.Ga],"%b":R=>Vt[R.Sa].substring(0,3),"%B":R=>Vt[R.Sa],"%C":R=>Y((R.Ja+1900)/100|0,2),"%d":R=>Y(R.Va,2),"%e":R=>y(R.Va,2," "),"%g":R=>x(R).toString().substring(2),"%G":x,"%H":R=>Y(R.Ra,2),"%I":R=>(R=R.Ra,R==0?R=12:12<R&&(R-=12),Y(R,2)),"%j":R=>{for(var gt=0,st=0;st<=R.Sa-1;gt+=(BC(R.Ja+1900)?qo:$o)[st++]);return Y(R.Va+gt,3)},"%m":R=>Y(R.Sa+1,2),"%M":R=>Y(R.rb,2),"%n":()=>`
`,"%p":R=>0<=R.Ra&&12>R.Ra?"AM":"PM","%S":R=>Y(R.sb,2),"%t":()=>"	","%u":R=>R.Ga||7,"%U":R=>Y(Math.floor((R.Ia+7-R.Ga)/7),2),"%V":R=>{var gt=Math.floor((R.Ia+7-(R.Ga+6)%7)/7);if(2>=(R.Ga+371-R.Ia-2)%7&&gt++,gt)gt==53&&(st=(R.Ga+371-R.Ia)%7,st==4||st==3&&BC(R.Ja)||(gt=1));else{gt=52;var st=(R.Ga+7-R.Ia-1)%7;(st==4||st==5&&BC(R.Ja%400-1))&&gt++}return Y(gt,2)},"%w":R=>R.Ga,"%W":R=>Y(Math.floor((R.Ia+7-(R.Ga+6)%7)/7),2),"%y":R=>(R.Ja+1900).toString().substring(2),"%Y":R=>R.Ja+1900,"%z":R=>{R=R.qb;var gt=0<=R;return R=Math.abs(R)/60,(gt?"+":"-")+("0000"+(R/60*100+R%60)).slice(-4)},"%Z":R=>R.tb,"%%":()=>"%"},p=p.replace(/%%/g,"\0\0");for(P in E)p.includes(P)&&(p=p.replace(new RegExp(P,"g"),E[P](f)));return p=p.replace(/\0\0/g,"%"),P=ol(p),P.length>l?0:(m.set(P,a),P.length-1)};At=e.InternalError=class extends Error{constructor(a){super(a),this.name="InternalError"}};for(var tA=Array(256),ZC=0;256>ZC;++ZC)tA[ZC]=String.fromCharCode(ZC);ne=tA,U=e.BindingError=class extends Error{constructor(a){super(a),this.name="BindingError"}},Object.assign(Mg.prototype,{isAliasOf:function(a){if(!(this instanceof Mg&&a instanceof Mg))return!1;var l=this.ma.za.xa,p=this.ma.ya;a.ma=a.ma;var f=a.ma.za.xa;for(a=a.ma.ya;l.Ca;)p=l.Na(p),l=l.Ca;for(;f.Ca;)a=f.Na(a),f=f.Ca;return l===f&&p===a},clone:function(){if(this.ma.ya||z(this),this.ma.Ma)return this.ma.count.value+=1,this;var a=Lt,l=Object,p=l.create,f=Object.getPrototypeOf(this),y=this.ma;return a=a(p.call(l,f,{ma:{value:{count:y.count,Ka:y.Ka,Ma:y.Ma,ya:y.ya,za:y.za,Aa:y.Aa,Da:y.Da}}})),a.ma.count.value+=1,a.ma.Ka=!1,a},delete(){if(this.ma.ya||z(this),this.ma.Ka&&!this.ma.Ma)throw new U("Object already scheduled for deletion");Kg(this);var a=this.ma;--a.count.value,a.count.value===0&&(a.Aa?a.Da.Fa(a.Aa):a.za.xa.Fa(a.ya)),this.ma.Ma||(this.ma.Aa=void 0,this.ma.ya=void 0)},isDeleted:function(){return!this.ma.ya},deleteLater:function(){if(this.ma.ya||z(this),this.ma.Ka&&!this.ma.Ma)throw new U("Object already scheduled for deletion");return Je.push(this),Je.length===1&&Ze&&Ze(Et),this.ma.Ka=!0,this}}),e.getInheritedInstanceCount=()=>Object.keys(de).length,e.getLiveInheritedInstances=()=>{var a=[],l;for(l in de)de.hasOwnProperty(l)&&a.push(de[l]);return a},e.flushPendingDeletes=Et,e.setDelayFunction=a=>{Ze=a,Je.length&&Ze&&Ze(Et)},Object.assign(ye.prototype,{eb(a){return this.Za&&(a=this.Za(a)),a},Xa(a){this.Fa?.(a)},argPackAdvance:8,readValueFromPointer:ht,fromWireType:function(a){function l(){return this.Qa?Vg(this.xa.La,{za:this.jb,ya:p,Da:this,Aa:a}):Vg(this.xa.La,{za:this,ya:a})}var p=this.eb(a);if(!p)return this.Xa(a),null;var f=Gg(this.xa,p);if(f!==void 0)return f.ma.count.value===0?(f.ma.ya=p,f.ma.Aa=a,f.clone()):(f=f.clone(),this.Xa(a),f);if(f=this.xa.cb(p),f=ee[f],!f)return l.call(this);f=this.Pa?f.$a:f.pointerType;var y=Pg(p,this.xa,f.xa);return y===null?l.call(this):this.Qa?Vg(f.xa.La,{za:f,ya:y,Da:this,Aa:a}):Vg(f.xa.La,{za:f,ya:y})}}),et=e.UnboundTypeError=((a,l)=>{var p=ze(l,function(f){this.name=l,this.message=f,f=Error(f).stack,f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return p.prototype=Object.create(a.prototype),p.prototype.constructor=p,p.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},p})(Error,"UnboundTypeError"),Wt.push(0,1,void 0,1,null,1,!0,1,!1,1),e.count_emval_handles=()=>Wt.length/2-5-ut.length;var sl={c:(a,l,p,f)=>{M(`Assertion failed: ${a?St(h,a):""}, at: `+[l?l?St(h,l):"":"unknown filename",p,f?f?St(h,f):"":"unknown function"])},m:(a,l,p)=>{var f=new ct(a);throw G[f.ya+16>>2]=0,G[f.ya+4>>2]=l,G[f.ya+8>>2]=p,rt=a,rt},B:function(){return 0},P:()=>{},M:()=>{},R:function(){return 0},N:()=>{},A:function(){},O:()=>{},v:a=>{var l=Dt[a];delete Dt[a];var p=l.Ua,f=l.Fa,y=l.Ya,Y=y.map(L=>L.hb).concat(y.map(L=>L.nb));kt([a],Y,L=>{var X={};return y.forEach((x,E)=>{var P=L[E],Gt=x.fb,Vt=x.gb,R=L[E+y.length],gt=x.mb,st=x.ob;X[x.bb]={read:ue=>P.fromWireType(Gt(Vt,ue)),write:(ue,ui)=>{var ig=[];gt(st,ue,R.toWireType(ig,ui)),Ht(ig)}}}),[{name:l.name,fromWireType:x=>{var E={},P;for(P in X)E[P]=X[P].read(x);return f(x),E},toWireType:(x,E)=>{for(var P in X)if(!(P in E))throw new TypeError(`Missing field: "${P}"`);var Gt=p();for(P in X)X[P].write(Gt,E[P]);return x!==null&&x.push(f,Gt),Gt},argPackAdvance:8,readValueFromPointer:ht,Ea:f}]})},I:()=>{},Y:(a,l,p,f)=>{l=W(l),Mt(a,{name:l,fromWireType:function(y){return!!y},toWireType:function(y,Y){return Y?p:f},argPackAdvance:8,readValueFromPointer:function(y){return this.fromWireType(h[y])},Ea:null})},r:(a,l,p,f,y,Y,L,X,x,E,P,Gt,Vt)=>{P=W(P),Y=j(y,Y),X&&(X=j(L,X)),E&&(E=j(x,E)),Vt=j(Gt,Vt);var R=Rg(P);vg(R,function(){T(`Cannot construct ${P} due to unbound types`,[f])}),kt([a,l,p],f?[f]:[],gt=>{if(gt=gt[0],f)var st=gt.xa,ue=st.La;else ue=Mg.prototype;gt=ze(P,function(...xn){if(Object.getPrototypeOf(this)!==ui)throw new U("Use 'new' to construct "+P);if(ig.Ha===void 0)throw new U(P+" has no accessible constructor");var IA=ig.Ha[xn.length];if(IA===void 0)throw new U(`Tried to invoke ctor of ${P} with invalid number of parameters (${xn.length}) - expected (${Object.keys(ig.Ha).toString()}) parameters instead!`);return IA.apply(this,xn)});var ui=Object.create(ue,{constructor:{value:gt}});gt.prototype=ui;var ig=new zg(P,gt,ui,Vt,st,Y,X,E);if(ig.Ca){var VI;(VI=ig.Ca).Wa??(VI.Wa=[]),ig.Ca.Wa.push(ig)}return st=new ye(P,ig,!0,!1,!1),VI=new ye(P+"*",ig,!1,!1,!1),ue=new ye(P+" const*",ig,!1,!0,!1),ee[a]={pointerType:VI,$a:ue},Fg(R,gt),[st,VI,ue]})},q:(a,l,p,f,y,Y)=>{var L=Ct(l,p);y=j(f,y),kt([],[a],X=>{X=X[0];var x=`constructor ${X.name}`;if(X.xa.Ha===void 0&&(X.xa.Ha=[]),X.xa.Ha[l-1]!==void 0)throw new U(`Cannot register multiple constructors with identical number of parameters (${l-1}) for class '${X.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return X.xa.Ha[l-1]=()=>{T(`Cannot construct ${X.name} due to unbound types`,L)},kt([],L,E=>(E.splice(1,0,null),X.xa.Ha[l-1]=it(x,E,null,y,Y),[])),[]})},f:(a,l,p,f,y,Y,L,X)=>{var x=Ct(p,f);l=W(l),l=ge(l),Y=j(y,Y),kt([],[a],E=>{function P(){T(`Cannot call ${Gt} due to unbound types`,x)}E=E[0];var Gt=`${E.name}.${l}`;l.startsWith("@@")&&(l=Symbol[l.substring(2)]),X&&E.xa.kb.push(l);var Vt=E.xa.La,R=Vt[l];return R===void 0||R.Ba===void 0&&R.className!==E.name&&R.Oa===p-2?(P.Oa=p-2,P.className=E.name,Vt[l]=P):(Jg(Vt,l,Gt),Vt[l].Ba[p-2]=P),kt([],x,gt=>(gt=it(Gt,gt,E,Y,L),Vt[l].Ba===void 0?(gt.Oa=p-2,Vt[l]=gt):Vt[l].Ba[p-2]=gt,[])),[]})},X:a=>Mt(a,Kt),x:(a,l,p,f)=>{function y(){}l=W(l),y.values={},Mt(a,{name:l,constructor:y,fromWireType:function(Y){return this.constructor.values[Y]},toWireType:(Y,L)=>L.value,argPackAdvance:8,readValueFromPointer:gg(l,p,f),Ea:null}),vg(l,y)},k:(a,l,p)=>{var f=Ft(a,"enum");l=W(l),a=f.constructor,f=Object.create(f.constructor.prototype,{value:{value:p},constructor:{value:ze(`${f.name}_${l}`,function(){})}}),a.values[p]=f,a[l]=f},C:(a,l,p)=>{l=W(l),Mt(a,{name:l,fromWireType:f=>f,toWireType:(f,y)=>y,argPackAdvance:8,readValueFromPointer:Ag(l,p),Ea:null})},E:(a,l,p,f,y,Y)=>{var L=Ct(l,p);a=W(a),a=ge(a),y=j(f,y),vg(a,function(){T(`Cannot call ${a} due to unbound types`,L)},l-1),kt([],L,X=>(Fg(a,it(a,[X[0],null].concat(X.slice(1)),null,y,Y),l-1),[]))},l:(a,l,p,f,y)=>{if(l=W(l),y===-1&&(y=4294967295),y=X=>X,f===0){var Y=32-8*p;y=X=>X<<Y>>>Y}var L=l.includes("unsigned")?function(X,x){return x>>>0}:function(X,x){return x};Mt(a,{name:l,fromWireType:y,toWireType:L,argPackAdvance:8,readValueFromPointer:le(l,p,f!==0),Ea:null})},g:(a,l,p)=>{function f(Y){return new y(m.buffer,G[Y+4>>2],G[Y>>2])}var y=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][l];p=W(p),Mt(a,{name:p,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ib:!0})},w:a=>{Mt(a,Kt)},ca:(a,l,p,f,y,Y,L,X,x,E,P,Gt)=>{p=W(p),Y=j(y,Y),X=j(L,X),E=j(x,E),Gt=j(P,Gt),kt([a],[l],Vt=>(Vt=Vt[0],[new ye(p,Vt.xa,!1,!1,!0,Vt,f,Y,X,E,Gt)]))},D:(a,l)=>{l=W(l);var p=l==="std::string";Mt(a,{name:l,fromWireType:function(f){var y=G[f>>2],Y=f+4;if(p)for(var L=Y,X=0;X<=y;++X){var x=Y+X;if(X==y||h[x]==0){if(L=L?St(h,L,x-L):"",E===void 0)var E=L;else E+="\0",E+=L;L=x+1}}else{for(E=Array(y),X=0;X<y;++X)E[X]=String.fromCharCode(h[Y+X]);E=E.join("")}return qg(f),E},toWireType:function(f,y){y instanceof ArrayBuffer&&(y=new Uint8Array(y));var Y=typeof y=="string";if(!(Y||y instanceof Uint8Array||y instanceof Uint8ClampedArray||y instanceof Int8Array))throw new U("Cannot pass non-string to std::string");var L=p&&Y?ot(y):y.length,X=En(4+L+1),x=X+4;if(G[X>>2]=L,p&&Y)wt(y,h,x,L+1);else if(Y)for(Y=0;Y<L;++Y){var E=y.charCodeAt(Y);if(255<E)throw qg(x),new U("String has UTF-16 code units that do not fit in 8 bits");h[x+Y]=E}else for(Y=0;Y<L;++Y)h[x+Y]=y[Y];return f!==null&&f.push(qg,X),X},argPackAdvance:8,readValueFromPointer:ht,Ea(f){qg(f)}})},u:(a,l,p)=>{if(p=W(p),l===2)var f=pe,y=Ug,Y=CI,L=X=>B[X>>1];else l===4&&(f=me,y=ie,Y=sg,L=X=>G[X>>2]);Mt(a,{name:p,fromWireType:X=>{for(var x=G[X>>2],E,P=X+4,Gt=0;Gt<=x;++Gt){var Vt=X+4+Gt*l;(Gt==x||L(Vt)==0)&&(P=f(P,Vt-P),E===void 0?E=P:(E+="\0",E+=P),P=Vt+l)}return qg(X),E},toWireType:(X,x)=>{if(typeof x!="string")throw new U(`Cannot pass non-string to C++ string type ${p}`);var E=Y(x),P=En(4+E+l);return G[P>>2]=E/l,y(x,P+4,E+l),X!==null&&X.push(qg,P),P},argPackAdvance:8,readValueFromPointer:ht,Ea(X){qg(X)}})},s:(a,l,p,f,y,Y)=>{Dt[a]={name:W(l),Ua:j(p,f),Fa:j(y,Y),Ya:[]}},j:(a,l,p,f,y,Y,L,X,x,E)=>{Dt[a].Ya.push({bb:W(l),hb:p,fb:j(f,y),gb:Y,nb:L,mb:j(X,x),ob:E})},Z:(a,l)=>{l=W(l),Mt(a,{ub:!0,name:l,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},J:()=>{throw 1/0},aa:(a,l,p,f)=>(a=Yi[a],l=Nt(l),a(null,l,p,f)),F:re,$:(a,l,p)=>{var f=Ki(a,l),y=f.shift();a--;var Y=Array(a);return l=`methodCaller<(${f.map(L=>L.name).join(", ")}) => ${y.name}>`,GC(ze(l,(L,X,x,E)=>{for(var P=0,Gt=0;Gt<a;++Gt)Y[Gt]=f[Gt].readValueFromPointer(E+P),P+=f[Gt].argPackAdvance;return X=p===1?ag(X,Y):X.apply(L,Y),L=[],X=y.toWireType(L,X),L.length&&(G[x>>2]=Rt(L)),X}))},ba:a=>{9<a&&(Wt[a+1]+=1)},_:a=>{var l=Nt(a);Ht(l),re(a)},o:(a,l)=>(a=Ft(a,"_emval_take_value"),a=a.readValueFromPointer(l),Rt(a)),W:()=>{M("")},V:()=>performance.now(),L:a=>{var l=h.length;if(a>>>=0,2147483648<a)return!1;for(var p=1;4>=p;p*=2){var f=l*(1+.2/p);f=Math.min(f,a+100663296);var y=Math;f=Math.max(a,f);t:{y=(y.min.call(y,2147483648,f+(65536-f%65536)%65536)-d.buffer.byteLength+65535)/65536;try{d.grow(y),K();var Y=1;break t}catch{}Y=void 0}if(Y)return!0}return!1},S:(a,l)=>{var p=0;return Vi().forEach((f,y)=>{var Y=l+p;for(y=G[a+4*y>>2]=Y,Y=0;Y<f.length;++Y)m[y++]=f.charCodeAt(Y);m[y]=0,p+=f.length+1}),0},T:(a,l)=>{var p=Vi();G[a>>2]=p.length;var f=0;return p.forEach(y=>f+=y.length+1),G[l>>2]=f,0},t:()=>52,z:()=>52,H:function(){return 70},Q:(a,l,p,f)=>{for(var y=0,Y=0;Y<p;Y++){var L=G[l>>2],X=G[l+4>>2];l+=8;for(var x=0;x<X;x++){var E=h[L+x],P=nl[a];E===0||E===10?((a===1?A:s)(St(P,0)),P.length=0):P.push(E)}y+=X}return G[f>>2]=y,0},U:(a,l)=>(jo(h.subarray(a,a+l)),0),i:hl,d:cl,e:ul,p:dl,y:fl,b:al,a:ll,h:ml,n:pl,G:bl,K:(a,l,p,f)=>Al(a,l,p,f)},Ie=function(){function a(p){return Ie=p.exports,d=Ie.da,K(),ae=Ie.ha,F.unshift(Ie.ea),k--,e.monitorRunDependencies?.(k),k==0&&H&&(p=H,H=null,p()),Ie}var l={a:sl};if(k++,e.monitorRunDependencies?.(k),e.instantiateWasm)try{return e.instantiateWasm(l,a)}catch(p){s(`Module.instantiateWasm callback failed with error: ${p}`),i(p)}return S(l,function(p){a(p.instance)}).catch(i),{}}(),En=a=>(En=Ie.fa)(a),eA=a=>(eA=Ie.ga)(a),qg=a=>(qg=Ie.ia)(a),Zg=(a,l)=>(Zg=Ie.ja)(a,l),yg=a=>(yg=Ie.ka)(a),Dg=()=>(Dg=Ie.la)();e.dynCall_iijj=(a,l,p,f,y,Y)=>(e.dynCall_iijj=Ie.na)(a,l,p,f,y,Y),e.dynCall_vijj=(a,l,p,f,y,Y)=>(e.dynCall_vijj=Ie.oa)(a,l,p,f,y,Y),e.dynCall_jiii=(a,l,p,f)=>(e.dynCall_jiii=Ie.pa)(a,l,p,f),e.dynCall_jii=(a,l,p)=>(e.dynCall_jii=Ie.qa)(a,l,p);var gA=e.dynCall_viiij=(a,l,p,f,y,Y)=>(gA=e.dynCall_viiij=Ie.ra)(a,l,p,f,y,Y);e.dynCall_jiji=(a,l,p,f,y)=>(e.dynCall_jiji=Ie.sa)(a,l,p,f,y),e.dynCall_viijii=(a,l,p,f,y,Y,L)=>(e.dynCall_viijii=Ie.ta)(a,l,p,f,y,Y,L),e.dynCall_iiiiij=(a,l,p,f,y,Y,L)=>(e.dynCall_iiiiij=Ie.ua)(a,l,p,f,y,Y,L),e.dynCall_iiiiijj=(a,l,p,f,y,Y,L,X,x)=>(e.dynCall_iiiiijj=Ie.va)(a,l,p,f,y,Y,L,X,x),e.dynCall_iiiiiijj=(a,l,p,f,y,Y,L,X,x,E)=>(e.dynCall_iiiiiijj=Ie.wa)(a,l,p,f,y,Y,L,X,x,E);function al(a,l){var p=Dg();try{ae.get(a)(l)}catch(f){if(yg(p),f!==f+0)throw f;Zg(1,0)}}function ll(a,l,p){var f=Dg();try{ae.get(a)(l,p)}catch(y){if(yg(f),y!==y+0)throw y;Zg(1,0)}}function ul(a,l,p,f){var y=Dg();try{return ae.get(a)(l,p,f)}catch(Y){if(yg(y),Y!==Y+0)throw Y;Zg(1,0)}}function cl(a,l,p){var f=Dg();try{return ae.get(a)(l,p)}catch(y){if(yg(f),y!==y+0)throw y;Zg(1,0)}}function hl(a,l){var p=Dg();try{return ae.get(a)(l)}catch(f){if(yg(p),f!==f+0)throw f;Zg(1,0)}}function dl(a,l,p,f,y,Y){var L=Dg();try{return ae.get(a)(l,p,f,y,Y)}catch(X){if(yg(L),X!==X+0)throw X;Zg(1,0)}}function pl(a,l,p,f,y){var Y=Dg();try{ae.get(a)(l,p,f,y)}catch(L){if(yg(Y),L!==L+0)throw L;Zg(1,0)}}function ml(a,l,p,f){var y=Dg();try{ae.get(a)(l,p,f)}catch(Y){if(yg(y),Y!==Y+0)throw Y;Zg(1,0)}}function fl(a){var l=Dg();try{ae.get(a)()}catch(p){if(yg(l),p!==p+0)throw p;Zg(1,0)}}function bl(a,l,p,f,y,Y){var L=Dg();try{gA(a,l,p,f,y,Y)}catch(X){if(yg(L),X!==X+0)throw X;Zg(1,0)}}var yC;H=function a(){yC||iA(),yC||(H=a)};function iA(){function a(){if(!yC&&(yC=!0,e.calledRun=!0,!c)){if(It(F),g(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;){var l=e.postRun.shift();V.unshift(l)}It(V)}}if(!(0<k)){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)v();It(_),0<k||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),a()},1)):a())}}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return iA(),I}})(),lh=ah,Vn=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(n){return await lh({locateFile:()=>n})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async n=>{let t=`https://unpkg.com/${xa}@${Ea}/dist/dotlottie-player.wasm`;console.warn(`Primary WASM load failed from ${this._wasmURL}. Error: ${n.message}`),console.warn(`Attempting to load WASM from backup URL: ${t}`);try{return await this._tryLoad(t)}catch(e){throw console.error(`Primary WASM URL failed: ${n.message}`),console.error(`Backup WASM URL failed: ${e.message}`),new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(n){this._wasmURL=n,this._ModulePromise=null}};mt(Vn,"_ModulePromise",null),mt(Vn,"_wasmURL",`https://cdn.jsdelivr.net/npm/${xa}@${Ea}/dist/dotlottie-player.wasm`);var Pa=class{constructor(){mt(this,"_eventListeners",new Map)}addEventListener(n,t){let e=this._eventListeners.get(n);e||(e=new Set,this._eventListeners.set(n,e)),e.add(t)}removeEventListener(n,t){let e=this._eventListeners.get(n);e&&(t?(e.delete(t),e.size===0&&this._eventListeners.delete(n)):this._eventListeners.delete(n))}dispatch(n){this._eventListeners.get(n.type)?.forEach(t=>t(n))}removeAllEventListeners(){this._eventListeners.clear()}};function uh(n){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(n)}function ch(n){if(!uh(n))return 0;let t=n.replace("#","");return t=t.length===6?`${t}ff`:t,parseInt(t,16)}function Xa(n){if(n.byteLength<4)return!1;let t=new Uint8Array(n.slice(0,Fo.byteLength));for(let e=0;e<Fo.length;e+=1)if(Fo[e]!==t[e])return!1;return!0}function Ha(n){return sh.every(t=>Object.prototype.hasOwnProperty.call(n,t))}function ka(n){if(typeof n=="string")try{return Ha(JSON.parse(n))}catch{return!1}else return Ha(n)}var Xo=(n,t)=>n==="reverse"?t.Mode.Reverse:n==="bounce"?t.Mode.Bounce:n==="reverse-bounce"?t.Mode.ReverseBounce:t.Mode.Forward,Ho=(n,t)=>n==="contain"?t.Fit.Contain:n==="cover"?t.Fit.Cover:n==="fill"?t.Fit.Fill:n==="fit-height"?t.Fit.FitHeight:n==="fit-width"?t.Fit.FitWidth:t.Fit.None,ko=(n,t)=>{let e=new t.VectorFloat;return e.push_back(n[0]),e.push_back(n[1]),e},Lo=(n,t)=>{let e=new t.VectorFloat;return n.length!==2||(e.push_back(n[0]),e.push_back(n[1])),e},Ma=class zt{constructor(t){mt(this,"_canvas"),mt(this,"_context",null),mt(this,"_eventManager"),mt(this,"_animationFrameId",null),mt(this,"_frameManager"),mt(this,"_dotLottieCore",null),mt(this,"_renderConfig",{}),mt(this,"_isFrozen",!1),mt(this,"_backgroundColor",null),mt(this,"_pointerUpMethod"),mt(this,"_pointerDownMethod"),mt(this,"_pointerMoveMethod"),mt(this,"_pointerEnterMethod"),mt(this,"_pointerExitMethod"),mt(this,"_onCompleteMethod"),this._canvas=t.canvas,this._context=this._canvas.getContext("2d"),this._eventManager=new Pa,this._frameManager=new Ah,this._renderConfig=t.renderConfig??{},Vn.load().then(e=>{zt._wasmModule=e,this._dotLottieCore=new e.DotLottiePlayer({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Xo(t.mode??"forward",e),segment:Lo(t.segment??[],e),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:ko(t.layout.align,e),fit:Ho(t.layout.fit,e)}:e.createDefaultLayout()}),this._eventManager.dispatch({type:"ready"}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)}).catch(e=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${e}`)})}),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this),this._onCompleteMethod=this._onComplete.bind(this)}_dispatchError(t){console.error(t),this._eventManager.dispatch({type:"loadError",error:new Error(t)})}async _fetchData(t){let e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch animation data from URL: ${t}. ${e.status}: ${e.statusText}`);let g=await e.arrayBuffer();return Xa(g)?g:new TextDecoder().decode(g)}_loadFromData(t){if(this._dotLottieCore===null)return;let e=this._canvas.width,g=this._canvas.height,i=!1;if(typeof t=="string"){if(!ka(t)){this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");return}i=this._dotLottieCore.loadAnimationData(t,e,g)}else if(t instanceof ArrayBuffer){if(!Xa(t)){this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");return}i=this._dotLottieCore.loadDotLottieData(t,e,g)}else if(typeof t=="object"){if(!ka(t)){this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");return}i=this._dotLottieCore.loadAnimationData(JSON.stringify(t),e,g)}else{this._dispatchError(`Unsupported data type for animation data. Expected: 
          - string (Lottie JSON),
          - ArrayBuffer (dotLottie),
          - object (Lottie JSON). 
          Received: ${typeof t}`);return}i?(this._eventManager.dispatch({type:"load"}),iI&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()?(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))):console.error("something went wrong, the animation was suppose to autoplay"))):this._dispatchError("Failed to load animation data")}_loadFromSrc(t){this._fetchData(t).then(e=>this._loadFromData(e)).catch(e=>this._dispatchError(`Failed to load animation data from URL: ${t}. ${e}`))}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let t=this._dotLottieCore?.config().layout;if(t)return{align:[t.align.get(0),t.align.get(1)],fit:(()=>{switch(t.fit){case zt._wasmModule?.Fit.Contain:return"contain";case zt._wasmModule?.Fit.Cover:return"cover";case zt._wasmModule?.Fit.Fill:return"fill";case zt._wasmModule?.Fit.FitHeight:return"fit-height";case zt._wasmModule?.Fit.FitWidth:return"fit-width";case zt._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let t=this._dotLottieCore?.manifestString();if(this._dotLottieCore===null||!t)return null;let e=JSON.parse(t);return Object.keys(e).length===0?null:e}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let t=this._dotLottieCore?.config().segment;if(t&&t.size()===2)return[t.get(0),t.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let t=this._dotLottieCore?.config().mode;return t===zt._wasmModule?.Mode.Reverse?"reverse":t===zt._wasmModule?.Mode.Bounce?"bounce":t===zt._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return this._dotLottieCore!==null}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?.currentFrame()??0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(t){this._dotLottieCore===null||zt._wasmModule===null||(this._dotLottieCore.setConfig({autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:Xo(t.mode??"forward",zt._wasmModule),segment:Lo(t.segment??[],zt._wasmModule),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:t.layout?{align:ko(t.layout.align,zt._wasmModule),fit:Ho(t.layout.fit,zt._wasmModule)}:zt._wasmModule.createDefaultLayout()}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),this.setBackgroundColor(t.backgroundColor??""))}_render(){if(this._dotLottieCore===null||this._context===null)return!1;if(this._dotLottieCore.render()){let t=this._dotLottieCore.buffer(),e=new Uint8ClampedArray(t,0,this._canvas.width*this._canvas.height*4),g=null;return typeof ImageData>"u"?(g=this._context.createImageData(this._canvas.width,this._canvas.height),g.data.set(e)):g=new ImageData(e,this._canvas.width,this._canvas.height),this._context.putImageData(g,0,0),this._eventManager.dispatch({type:"render",currentFrame:this._dotLottieCore.currentFrame()}),!0}return!1}_draw(){if(this._dotLottieCore===null||this._context===null||!this._dotLottieCore.isPlaying())return;let t=this._dotLottieCore.requestFrame();this._dotLottieCore.setFrame(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render()&&this._dotLottieCore.isComplete()&&(this._dotLottieCore.config().loopAnimation?this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()}):this._eventManager.dispatch({type:"complete"}))),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}play(){this._dotLottieCore!==null&&(this._dotLottieCore.play()||this._dotLottieCore.isPlaying())&&(this._isFrozen=!1,this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))}pause(){this._dotLottieCore!==null&&(this._dotLottieCore.pause()||this._dotLottieCore.isPaused())&&this._eventManager.dispatch({type:"pause"})}stop(){this._dotLottieCore!==null&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(t){this._dotLottieCore===null||t<0||t>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(t)&&(this._eventManager.dispatch({type:"frame",currentFrame:this._dotLottieCore.currentFrame()}),this._render())}setSpeed(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:t})}setBackgroundColor(t){this._dotLottieCore!==null&&(iI&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=t:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:ch(t)}),this._backgroundColor=t)}setLoop(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:t})}setUseFrameInterpolation(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:t})}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}destroy(){this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){this._animationFrameId!==null&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){this._animationFrameId===null&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(iI&&this._canvas instanceof HTMLCanvasElement){let t=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:e,width:g}=this._canvas.getBoundingClientRect();this._canvas.width=g*t,this._canvas.height=e*t}this._dotLottieCore?.resize(this._canvas.width,this._canvas.height)&&this._render()}setSegment(t,e){this._dotLottieCore===null||zt._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:Lo([t,e],zt._wasmModule)})}setMode(t){this._dotLottieCore===null||zt._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:Xo(t,zt._wasmModule)})}setRenderConfig(t){this._renderConfig=t}loadAnimation(t){this._dotLottieCore===null||this._dotLottieCore.activeAnimationId()===t||(this._dotLottieCore.loadAnimation(t,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${t}`)}))}setMarker(t){this._dotLottieCore!==null&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:t})}markers(){let t=this._dotLottieCore?.markers();if(t){let e=[];for(let g=0;g<t.size();g+=1){let i=t.get(g);e.push({name:i.name,time:i.time,duration:i.duration})}return e}return[]}loadTheme(t){if(this._dotLottieCore===null)return!1;let e=this._dotLottieCore.loadTheme(t);return this._render(),e}loadThemeData(t){if(this._dotLottieCore===null)return!1;let e=this._dotLottieCore.loadThemeData(t);return this._render(),e}setLayout(t){this._dotLottieCore===null||zt._wasmModule===null||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:{align:ko(t.align,zt._wasmModule),fit:Ho(t.fit,zt._wasmModule)}})}setViewport(t,e,g,i){return this._dotLottieCore===null?!1:this._dotLottieCore.setViewport(t,e,g,i)}static setWasmUrl(t){Vn.setWasmUrl(t)}loadStateMachine(t){return this._dotLottieCore?.loadStateMachine(t)??!1}startStateMachine(){let t=this._dotLottieCore?.startStateMachine()??!1;return t&&this._setupStateMachineListeners(),t}stopStateMachine(){let t=this._dotLottieCore?.stopStateMachine()??!1;return t&&this._cleanupStateMachineListeners(),t}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),g=this._canvas.width/e.width,i=this._canvas.height/e.height,I=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,C=(t.clientX-e.left)*g/I,r=(t.clientY-e.top)*i/I;return{x:C,y:r}}_onPointerUp(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${g}`)}_onPointerDown(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${g}`)}_onPointerMove(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${g}`)}_onPointerEnter(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${g}`)}_onPointerLeave(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${g}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}postStateMachineEvent(t){let e=this._dotLottieCore?.postEventPayload(t)??1;return e===2?this.play():e===3?this.pause():e===4&&this._render(),e}getStateMachineListeners(){if(!this._dotLottieCore)return[];let t=this._dotLottieCore.stateMachineFrameworkSetup(),e=[];for(let g=0;g<t.size();g+=1)e.push(t.get(g));return e}_setupStateMachineListeners(){if(iI&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieCore!==null&&this.isLoaded){let t=this.getStateMachineListeners();t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod),t.includes("Complete")&&this.addEventListener("complete",this._onCompleteMethod)}}_cleanupStateMachineListeners(){iI&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod),this.removeEventListener("complete",this._onCompleteMethod))}loadStateMachineData(t){return this._dotLottieCore?.loadStateMachineData(t)??!1}animationSize(){let t=this._dotLottieCore?.animationSize().get(0)??0,e=this._dotLottieCore?.animationSize().get(1)??0;return{width:t,height:e}}setStateMachineBooleanContext(t,e){return this._dotLottieCore?.setStateMachineBooleanContext(t,e)??!1}setStateMachineNumericContext(t,e){return this._dotLottieCore?.setStateMachineNumericContext(t,e)??!1}setStateMachineStringContext(t,e){return this._dotLottieCore?.setStateMachineStringContext(t,e)??!1}};mt(Ma,"_wasmModule",null);var Ja=Ma,hh=class extends Worker{constructor(){super("data:application/javascript;base64,InVzZSBzdHJpY3QiOwooKCkgPT4gewogIHZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7CiAgdmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlOwogIHZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gInN5bWJvbCIgPyBrZXkgKyAiIiA6IGtleSwgdmFsdWUpOwoKICAvLyBzcmMvYW5pbWF0aW9uLWZyYW1lLW1hbmFnZXIudHMKICB2YXIgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjaykgewogICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKTsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKSB7CiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTsKICAgIH0KICB9OwogIHZhciBOb2RlQW5pbWF0aW9uRnJhbWVTdHJhdGVneSA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfbGFzdEhhbmRsZUlkIiwgMCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9sYXN0SW1tZWRpYXRlIiwgbnVsbCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgaWYgKHRoaXMuX2xhc3RIYW5kbGVJZCA+PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgewogICAgICAgIHRoaXMuX2xhc3RIYW5kbGVJZCA9IDA7CiAgICAgIH0KICAgICAgdGhpcy5fbGFzdEhhbmRsZUlkICs9IDE7CiAgICAgIHRoaXMuX2xhc3RJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGUoKCkgPT4gewogICAgICAgIGNhbGxiYWNrKERhdGUubm93KCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRoaXMuX2xhc3RIYW5kbGVJZDsKICAgIH0KICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF9pZCkgewogICAgICBpZiAodGhpcy5fbGFzdEltbWVkaWF0ZSkgewogICAgICAgIGNsZWFySW1tZWRpYXRlKHRoaXMuX2xhc3RJbW1lZGlhdGUpOwogICAgICB9CiAgICB9CiAgfTsKICB2YXIgQW5pbWF0aW9uRnJhbWVNYW5hZ2VyID0gY2xhc3MgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9zdHJhdGVneSIpOwogICAgICB0aGlzLl9zdHJhdGVneSA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICJmdW5jdGlvbiIgPyBuZXcgV2ViQW5pbWF0aW9uRnJhbWVTdHJhdGVneSgpIDogbmV3IE5vZGVBbmltYXRpb25GcmFtZVN0cmF0ZWd5KCk7CiAgICB9CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spIHsKICAgICAgcmV0dXJuIHRoaXMuX3N0cmF0ZWd5LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYWxsYmFjayk7CiAgICB9CiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkgewogICAgICB0aGlzLl9zdHJhdGVneS5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7CiAgICB9CiAgfTsKCiAgLy8gc3JjL2NvbnN0YW50cy50cwogIHZhciBJU19CUk9XU0VSID0gdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gInVuZGVmaW5lZCI7CiAgdmFyIFpJUF9TSUdOQVRVUkUgPSBuZXcgVWludDhBcnJheShbODAsIDc1LCAzLCA0XSk7CiAgdmFyIExPVFRJRV9KU09OX01BTkRBVE9SWV9GSUVMRFMgPSBbInYiLCAiaXAiLCAib3AiLCAibGF5ZXJzIiwgImZyIiwgInciLCAiaCJdOwogIHZhciBQQUNLQUdFX1ZFUlNJT04gPSAiMC4zMC4yIjsKICB2YXIgUEFDS0FHRV9OQU1FID0gIkBsb3R0aWVmaWxlcy9kb3Rsb3R0aWUtd2ViIjsKCiAgLy8gc3JjL2NvcmUvZG90bG90dGllLXBsYXllci5qcwogIHZhciBjcmVhdGVEb3RMb3R0aWVQbGF5ZXJNb2R1bGUgPSAoKCkgPT4gewogICAgdmFyIF9zY3JpcHREaXIgPSB0eXBlb2YgZG9jdW1lbnQgIT0gInVuZGVmaW5lZCIgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0Py5zcmMgOiB2b2lkIDA7CiAgICByZXR1cm4gZnVuY3Rpb24obW9kdWxlQXJnID0ge30pIHsKICAgICAgdmFyIGsgPSBtb2R1bGVBcmcsIGFhLCBiYSwgcmVhZHlQcm9taXNlID0gbmV3IFByb21pc2UoKGEsIGIpID0+IHsKICAgICAgICBhYSA9IGE7CiAgICAgICAgYmEgPSBiOwogICAgICB9KSwgY2EgPSBPYmplY3QuYXNzaWduKHt9LCBrKSwgZGEgPSAiLi90aGlzLnByb2dyYW0iLCB0ID0gIiI7CiAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBkb2N1bWVudCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmICh0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmMpOwogICAgICBfc2NyaXB0RGlyICYmICh0ID0gX3NjcmlwdERpcik7CiAgICAgIHQuc3RhcnRzV2l0aCgiYmxvYjoiKSA/IHQgPSAiIiA6IHQgPSB0LnN1YnN0cigwLCB0LnJlcGxhY2UoL1s/I10uKi8sICIiKS5sYXN0SW5kZXhPZigiLyIpICsgMSk7CiAgICAgIHZhciBlYSA9IGsucHJpbnQgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKSwgdyA9IGsucHJpbnRFcnIgfHwgY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpOwogICAgICBPYmplY3QuYXNzaWduKGssIGNhKTsKICAgICAgY2EgPSBudWxsOwogICAgICBrLnRoaXNQcm9ncmFtICYmIChkYSA9IGsudGhpc1Byb2dyYW0pOwogICAgICB2YXIgeDsKICAgICAgay53YXNtQmluYXJ5ICYmICh4ID0gay53YXNtQmluYXJ5KTsKICAgICAgdmFyIGZhLCBoYSA9IGZhbHNlLCB5LCBBLCBCLCBDLCBFLCBGLCBqYSwga2E7CiAgICAgIGZ1bmN0aW9uIGxhKCkgewogICAgICAgIHZhciBhID0gZmEuYnVmZmVyOwogICAgICAgIGsuSEVBUDggPSB5ID0gbmV3IEludDhBcnJheShhKTsKICAgICAgICBrLkhFQVAxNiA9IEIgPSBuZXcgSW50MTZBcnJheShhKTsKICAgICAgICBrLkhFQVBVOCA9IEEgPSBuZXcgVWludDhBcnJheShhKTsKICAgICAgICBrLkhFQVBVMTYgPSBDID0gbmV3IFVpbnQxNkFycmF5KGEpOwogICAgICAgIGsuSEVBUDMyID0gRSA9IG5ldyBJbnQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUFUzMiA9IEYgPSBuZXcgVWludDMyQXJyYXkoYSk7CiAgICAgICAgay5IRUFQRjMyID0gamEgPSBuZXcgRmxvYXQzMkFycmF5KGEpOwogICAgICAgIGsuSEVBUEY2NCA9IGthID0gbmV3IEZsb2F0NjRBcnJheShhKTsKICAgICAgfQogICAgICB2YXIgbWEgPSBbXSwgbmEgPSBbXSwgb2EgPSBbXTsKICAgICAgZnVuY3Rpb24gcGEoKSB7CiAgICAgICAgdmFyIGEgPSBrLnByZVJ1bi5zaGlmdCgpOwogICAgICAgIG1hLnVuc2hpZnQoYSk7CiAgICAgIH0KICAgICAgdmFyIEcgPSAwLCBxYSA9IG51bGwsIEggPSBudWxsOwogICAgICBmdW5jdGlvbiByYShhKSB7CiAgICAgICAgay5vbkFib3J0Py4oYSk7CiAgICAgICAgYSA9ICJBYm9ydGVkKCIgKyBhICsgIikiOwogICAgICAgIHcoYSk7CiAgICAgICAgaGEgPSB0cnVlOwogICAgICAgIGEgPSBuZXcgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yKGEgKyAiLiBCdWlsZCB3aXRoIC1zQVNTRVJUSU9OUyBmb3IgbW9yZSBpbmZvLiIpOwogICAgICAgIGJhKGEpOwogICAgICAgIHRocm93IGE7CiAgICAgIH0KICAgICAgdmFyIHNhID0gKGEpID0+IGEuc3RhcnRzV2l0aCgiZGF0YTphcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07YmFzZTY0LCIpLCBJOwogICAgICBJID0gIkRvdExvdHRpZVBsYXllci53YXNtIjsKICAgICAgaWYgKCFzYShJKSkgewogICAgICAgIHZhciB0YSA9IEk7CiAgICAgICAgSSA9IGsubG9jYXRlRmlsZSA/IGsubG9jYXRlRmlsZSh0YSwgdCkgOiB0ICsgdGE7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdWEoYSkgewogICAgICAgIGlmIChhID09IEkgJiYgeCkgcmV0dXJuIG5ldyBVaW50OEFycmF5KHgpOwogICAgICAgIHRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCI7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gdmEoYSkgewogICAgICAgIHJldHVybiB4IHx8ICJmdW5jdGlvbiIgIT0gdHlwZW9mIGZldGNoID8gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB1YShhKSkgOiBmZXRjaChhLCB7IGNyZWRlbnRpYWxzOiAic2FtZS1vcmlnaW4iIH0pLnRoZW4oKGIpID0+IHsKICAgICAgICAgIGlmICghYi5vaykgdGhyb3cgYGZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyR7YX0nYDsKICAgICAgICAgIHJldHVybiBiLmFycmF5QnVmZmVyKCk7CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gdWEoYSkpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHdhKGEsIGIsIGMpIHsKICAgICAgICByZXR1cm4gdmEoYSkudGhlbigoZCkgPT4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoZCwgYikpLnRoZW4oYywgKGQpID0+IHsKICAgICAgICAgIHcoYGZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICR7ZH1gKTsKICAgICAgICAgIHJhKGQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIHhhKGEsIGIpIHsKICAgICAgICB2YXIgYyA9IEk7CiAgICAgICAgcmV0dXJuIHggfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgfHwgc2EoYykgfHwgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZmV0Y2ggPyB3YShjLCBhLCBiKSA6IGZldGNoKGMsIHsgY3JlZGVudGlhbHM6ICJzYW1lLW9yaWdpbiIgfSkudGhlbigKICAgICAgICAgIChkKSA9PiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhkLCBhKS50aGVuKGIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgdyhgd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICR7ZX1gKTsKICAgICAgICAgICAgdygiZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24iKTsKICAgICAgICAgICAgcmV0dXJuIHdhKGMsIGEsIGIpOwogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9CiAgICAgIHZhciB5YSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IDAgPCBhLmxlbmd0aDsgKSBhLnNoaWZ0KCkoayk7CiAgICAgIH0sIHphID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGY4IikgOiB2b2lkIDAsIEogPSAoYSwgYiwgYykgPT4gewogICAgICAgIHZhciBkID0gYiArIGM7CiAgICAgICAgZm9yIChjID0gYjsgYVtjXSAmJiAhKGMgPj0gZCk7ICkgKytjOwogICAgICAgIGlmICgxNiA8IGMgLSBiICYmIGEuYnVmZmVyICYmIHphKSByZXR1cm4gemEuZGVjb2RlKGEuc3ViYXJyYXkoYiwgYykpOwogICAgICAgIGZvciAoZCA9ICIiOyBiIDwgYzsgKSB7CiAgICAgICAgICB2YXIgZSA9IGFbYisrXTsKICAgICAgICAgIGlmIChlICYgMTI4KSB7CiAgICAgICAgICAgIHZhciBmID0gYVtiKytdICYgNjM7CiAgICAgICAgICAgIGlmICgxOTIgPT0gKGUgJiAyMjQpKSBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGUgJiAzMSkgPDwgNiB8IGYpOwogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICB2YXIgbCA9IGFbYisrXSAmIDYzOwogICAgICAgICAgICAgIGUgPSAyMjQgPT0gKGUgJiAyNDApID8gKGUgJiAxNSkgPDwgMTIgfCBmIDw8IDYgfCBsIDogKGUgJiA3KSA8PCAxOCB8IGYgPDwgMTIgfCBsIDw8IDYgfCBhW2IrK10gJiA2MzsKICAgICAgICAgICAgICA2NTUzNiA+IGUgPyBkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiAoZSAtPSA2NTUzNiwgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgZSA+PiAxMCwgNTYzMjAgfCBlICYgMTAyMykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZDsKICAgICAgfTsKICAgICAgY2xhc3MgQWEgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHRoaXMueWEgPSBhIC0gMjQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZhciBCYSA9IDAsIENhID0gMCwgRGEgPSAoYSkgPT4gewogICAgICAgIGZvciAodmFyIGIgPSAwLCBjID0gMDsgYyA8IGEubGVuZ3RoOyArK2MpIHsKICAgICAgICAgIHZhciBkID0gYS5jaGFyQ29kZUF0KGMpOwogICAgICAgICAgMTI3ID49IGQgPyBiKysgOiAyMDQ3ID49IGQgPyBiICs9IDIgOiA1NTI5NiA8PSBkICYmIDU3MzQzID49IGQgPyAoYiArPSA0LCArK2MpIDogYiArPSAzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgRWEgPSAoYSwgYiwgYywgZCkgPT4gewogICAgICAgIGlmICgwIDwgZCkgewogICAgICAgICAgZCA9IGMgKyBkIC0gMTsKICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYS5sZW5ndGg7ICsrZSkgewogICAgICAgICAgICB2YXIgZiA9IGEuY2hhckNvZGVBdChlKTsKICAgICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICAgIHZhciBsID0gYS5jaGFyQ29kZUF0KCsrZSk7CiAgICAgICAgICAgICAgZiA9IDY1NTM2ICsgKChmICYgMTAyMykgPDwgMTApIHwgbCAmIDEwMjM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKDEyNyA+PSBmKSB7CiAgICAgICAgICAgICAgaWYgKGMgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgYltjKytdID0gZjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoMjA0NyA+PSBmKSB7CiAgICAgICAgICAgICAgICBpZiAoYyArIDEgPj0gZCkgYnJlYWs7CiAgICAgICAgICAgICAgICBiW2MrK10gPSAxOTIgfCBmID4+IDY7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICg2NTUzNSA+PSBmKSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMiA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjI0IHwgZiA+PiAxMjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmIChjICsgMyA+PSBkKSBicmVhazsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMjQwIHwgZiA+PiAxODsKICAgICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiAxMiAmIDYzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYltjKytdID0gMTI4IHwgZiA+PiA2ICYgNjM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJbYysrXSA9IDEyOCB8IGYgJiA2MzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgYltjXSA9IDA7CiAgICAgICAgfQogICAgICB9LCBGYSA9IHt9LCBHYSA9IChhKSA9PiB7CiAgICAgICAgZm9yICg7IGEubGVuZ3RoOyApIHsKICAgICAgICAgIHZhciBiID0gYS5wb3AoKTsKICAgICAgICAgIGEucG9wKCkoYik7CiAgICAgICAgfQogICAgICB9OwogICAgICBmdW5jdGlvbiBLKGEpIHsKICAgICAgICByZXR1cm4gdGhpcy5mcm9tV2lyZVR5cGUoRlthID4+IDJdKTsKICAgICAgfQogICAgICB2YXIgTCA9IHt9LCBNID0ge30sIEhhID0ge30sIElhLCBQID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBmdW5jdGlvbiBkKGgpIHsKICAgICAgICAgIGggPSBjKGgpOwogICAgICAgICAgaWYgKGgubGVuZ3RoICE9PSBhLmxlbmd0aCkgdGhyb3cgbmV3IElhKCJNaXNtYXRjaGVkIHR5cGUgY29udmVydGVyIGNvdW50Iik7CiAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGEubGVuZ3RoOyArK24pIE8oYVtuXSwgaFtuXSk7CiAgICAgICAgfQogICAgICAgIGEuZm9yRWFjaChmdW5jdGlvbihoKSB7CiAgICAgICAgICBIYVtoXSA9IGI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGUgPSBBcnJheShiLmxlbmd0aCksIGYgPSBbXSwgbCA9IDA7CiAgICAgICAgYi5mb3JFYWNoKChoLCBuKSA9PiB7CiAgICAgICAgICBNLmhhc093blByb3BlcnR5KGgpID8gZVtuXSA9IE1baF0gOiAoZi5wdXNoKGgpLCBMLmhhc093blByb3BlcnR5KGgpIHx8IChMW2hdID0gW10pLCBMW2hdLnB1c2goKCkgPT4gewogICAgICAgICAgICBlW25dID0gTVtoXTsKICAgICAgICAgICAgKytsOwogICAgICAgICAgICBsID09PSBmLmxlbmd0aCAmJiBkKGUpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pOwogICAgICAgIDAgPT09IGYubGVuZ3RoICYmIGQoZSk7CiAgICAgIH0sIEphLCBRID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gIiI7IEFbYV07ICkgYiArPSBKYVtBW2ErK11dOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBSOwogICAgICBmdW5jdGlvbiBLYShhLCBiLCBjID0ge30pIHsKICAgICAgICB2YXIgZCA9IGIubmFtZTsKICAgICAgICBpZiAoIWEpIHRocm93IG5ldyBSKGB0eXBlICIke2R9IiBtdXN0IGhhdmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIHR5cGVpZCBwb2ludGVyYCk7CiAgICAgICAgaWYgKE0uaGFzT3duUHJvcGVydHkoYSkpIHsKICAgICAgICAgIGlmIChjLmliKSByZXR1cm47CiAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIHR5cGUgJyR7ZH0nIHR3aWNlYCk7CiAgICAgICAgfQogICAgICAgIE1bYV0gPSBiOwogICAgICAgIGRlbGV0ZSBIYVthXTsKICAgICAgICBMLmhhc093blByb3BlcnR5KGEpICYmIChiID0gTFthXSwgZGVsZXRlIExbYV0sIGIuZm9yRWFjaCgoZSkgPT4gZSgpKSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gTyhhLCBiLCBjID0ge30pIHsKICAgICAgICBpZiAoISgiYXJnUGFja0FkdmFuY2UiIGluIGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWdpc3RlclR5cGUgcmVnaXN0ZXJlZEluc3RhbmNlIHJlcXVpcmVzIGFyZ1BhY2tBZHZhbmNlIik7CiAgICAgICAgcmV0dXJuIEthKGEsIGIsIGMpOwogICAgICB9CiAgICAgIHZhciBMYSA9IChhKSA9PiB7CiAgICAgICAgdGhyb3cgbmV3IFIoYS5tYS56YS54YS5uYW1lICsgIiBpbnN0YW5jZSBhbHJlYWR5IGRlbGV0ZWQiKTsKICAgICAgfSwgTWEgPSBmYWxzZSwgT2EgPSAoKSA9PiB7CiAgICAgIH0sIFBhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoYiA9PT0gYykgcmV0dXJuIGE7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYy5DYSkgcmV0dXJuIG51bGw7CiAgICAgICAgYSA9IFBhKGEsIGIsIGMuQ2EpOwogICAgICAgIHJldHVybiBudWxsID09PSBhID8gbnVsbCA6IGMuYWIoYSk7CiAgICAgIH0sIFFhID0ge30sIFJhID0gW10sIFNhID0gKCkgPT4gewogICAgICAgIGZvciAoOyBSYS5sZW5ndGg7ICkgewogICAgICAgICAgdmFyIGEgPSBSYS5wb3AoKTsKICAgICAgICAgIGEubWEuS2EgPSBmYWxzZTsKICAgICAgICAgIGFbImRlbGV0ZSJdKCk7CiAgICAgICAgfQogICAgICB9LCBUYSwgVWEgPSB7fSwgVmEgPSAoYSwgYikgPT4gewogICAgICAgIGlmICh2b2lkIDAgPT09IGIpIHRocm93IG5ldyBSKCJwdHIgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQiKTsKICAgICAgICBmb3IgKDsgYS5DYTsgKSBiID0gYS5OYShiKSwgYSA9IGEuQ2E7CiAgICAgICAgcmV0dXJuIFVhW2JdOwogICAgICB9LCBYYSA9IChhLCBiKSA9PiB7CiAgICAgICAgaWYgKCFiLnphIHx8ICFiLnlhKSB0aHJvdyBuZXcgSWEoIm1ha2VDbGFzc0hhbmRsZSByZXF1aXJlcyBwdHIgYW5kIHB0clR5cGUiKTsKICAgICAgICBpZiAoISFiLkRhICE9PSAhIWIuQWEpIHRocm93IG5ldyBJYSgiQm90aCBzbWFydFB0clR5cGUgYW5kIHNtYXJ0UHRyIG11c3QgYmUgc3BlY2lmaWVkIik7CiAgICAgICAgYi5jb3VudCA9IHsgdmFsdWU6IDEgfTsKICAgICAgICByZXR1cm4gV2EoT2JqZWN0LmNyZWF0ZShhLCB7IG1hOiB7IHZhbHVlOiBiLCB3cml0YWJsZTogdHJ1ZSB9IH0pKTsKICAgICAgfSwgV2EgPSAoYSkgPT4gewogICAgICAgIGlmICgidW5kZWZpbmVkIiA9PT0gdHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5KSByZXR1cm4gV2EgPSAoYikgPT4gYiwgYTsKICAgICAgICBNYSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeSgoYikgPT4gewogICAgICAgICAgYiA9IGIubWE7CiAgICAgICAgICAtLWIuY291bnQudmFsdWU7CiAgICAgICAgICAwID09PSBiLmNvdW50LnZhbHVlICYmIChiLkFhID8gYi5EYS5GYShiLkFhKSA6IGIuemEueGEuRmEoYi55YSkpOwogICAgICAgIH0pOwogICAgICAgIFdhID0gKGIpID0+IHsKICAgICAgICAgIHZhciBjID0gYi5tYTsKICAgICAgICAgIGMuQWEgJiYgTWEucmVnaXN0ZXIoYiwgeyBtYTogYyB9LCBiKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH07CiAgICAgICAgT2EgPSAoYikgPT4gewogICAgICAgICAgTWEudW5yZWdpc3RlcihiKTsKICAgICAgICB9OwogICAgICAgIHJldHVybiBXYShhKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gWWEoKSB7CiAgICAgIH0KICAgICAgdmFyIFphID0gKGEsIGIpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShiLCAibmFtZSIsIHsgdmFsdWU6IGEgfSksICRhID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAodm9pZCAwID09PSBhW2JdLkJhKSB7CiAgICAgICAgICB2YXIgZCA9IGFbYl07CiAgICAgICAgICBhW2JdID0gZnVuY3Rpb24oLi4uZSkgewogICAgICAgICAgICBpZiAoIWFbYl0uQmEuaGFzT3duUHJvcGVydHkoZS5sZW5ndGgpKQogICAgICAgICAgICAgIHRocm93IG5ldyBSKAogICAgICAgICAgICAgICAgYEZ1bmN0aW9uICcke2N9JyBjYWxsZWQgd2l0aCBhbiBpbnZhbGlkIG51bWJlciBvZiBhcmd1bWVudHMgKCR7ZS5sZW5ndGh9KSAtIGV4cGVjdHMgb25lIG9mICgke2FbYl0uQmF9KSFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIGFbYl0uQmFbZS5sZW5ndGhdLmFwcGx5KHRoaXMsIGUpOwogICAgICAgICAgfTsKICAgICAgICAgIGFbYl0uQmEgPSBbXTsKICAgICAgICAgIGFbYl0uQmFbZC5PYV0gPSBkOwogICAgICAgIH0KICAgICAgfSwgYWIgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGEpKSB7CiAgICAgICAgICBpZiAodm9pZCAwID09PSBjIHx8IHZvaWQgMCAhPT0ga1thXS5CYSAmJiB2b2lkIDAgIT09IGtbYV0uQmFbY10pCiAgICAgICAgICAgIHRocm93IG5ldyBSKGBDYW5ub3QgcmVnaXN0ZXIgcHVibGljIG5hbWUgJyR7YX0nIHR3aWNlYCk7CiAgICAgICAgICAkYShrLCBhLCBhKTsKICAgICAgICAgIGlmIChrLmhhc093blByb3BlcnR5KGMpKQogICAgICAgICAgICB0aHJvdyBuZXcgUihgQ2Fubm90IHJlZ2lzdGVyIG11bHRpcGxlIG92ZXJsb2FkcyBvZiBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbnVtYmVyIG9mIGFyZ3VtZW50cyAoJHtjfSkhYCk7CiAgICAgICAgICBrW2FdLkJhW2NdID0gYjsKICAgICAgICB9IGVsc2Uga1thXSA9IGIsIHZvaWQgMCAhPT0gYyAmJiAoa1thXS52YiA9IGMpOwogICAgICB9LCBiYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gYSkgcmV0dXJuICJfdW5rbm93biI7CiAgICAgICAgYSA9IGEucmVwbGFjZSgvW15hLXpBLVowLTlfXS9nLCAiJCIpOwogICAgICAgIHZhciBiID0gYS5jaGFyQ29kZUF0KDApOwogICAgICAgIHJldHVybiA0OCA8PSBiICYmIDU3ID49IGIgPyBgXyR7YX1gIDogYTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gY2IoYSwgYiwgYywgZCwgZSwgZiwgbCwgaCkgewogICAgICAgIHRoaXMubmFtZSA9IGE7CiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGI7CiAgICAgICAgdGhpcy5MYSA9IGM7CiAgICAgICAgdGhpcy5GYSA9IGQ7CiAgICAgICAgdGhpcy5DYSA9IGU7CiAgICAgICAgdGhpcy5jYiA9IGY7CiAgICAgICAgdGhpcy5OYSA9IGw7CiAgICAgICAgdGhpcy5hYiA9IGg7CiAgICAgICAgdGhpcy5rYiA9IFtdOwogICAgICB9CiAgICAgIHZhciBkYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgZm9yICg7IGIgIT09IGM7ICkgewogICAgICAgICAgaWYgKCFiLk5hKSB0aHJvdyBuZXcgUihgRXhwZWN0ZWQgbnVsbCBvciBpbnN0YW5jZSBvZiAke2MubmFtZX0sIGdvdCBhbiBpbnN0YW5jZSBvZiAke2IubmFtZX1gKTsKICAgICAgICAgIGEgPSBiLk5hKGEpOwogICAgICAgICAgYiA9IGIuQ2E7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBmdW5jdGlvbiBlYihhLCBiKSB7CiAgICAgICAgaWYgKG51bGwgPT09IGIpIHsKICAgICAgICAgIGlmICh0aGlzLlRhKSB0aHJvdyBuZXcgUihgbnVsbCBpcyBub3QgYSB2YWxpZCAke3RoaXMubmFtZX1gKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgcmV0dXJuIGRiKGIubWEueWEsIGIubWEuemEueGEsIHRoaXMueGEpOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdiKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgaWYgKHRoaXMuUWEpIHsKICAgICAgICAgICAgdmFyIGMgPSB0aGlzLlVhKCk7CiAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICByZXR1cm4gYzsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KICAgICAgICBpZiAoIWIgfHwgIWIubWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyAiJHtmYihiKX0iIGFzIGEgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCFiLm1hLnlhKSB0aHJvdyBuZXcgUihgQ2Fubm90IHBhc3MgZGVsZXRlZCBvYmplY3QgYXMgYSBwb2ludGVyIG9mIHR5cGUgJHt0aGlzLm5hbWV9YCk7CiAgICAgICAgaWYgKCF0aGlzLlBhICYmIGIubWEuemEuUGEpCiAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICApOwogICAgICAgIGMgPSBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgICBpZiAodGhpcy5RYSkgewogICAgICAgICAgaWYgKHZvaWQgMCA9PT0gYi5tYS5BYSkgdGhyb3cgbmV3IFIoIlBhc3NpbmcgcmF3IHBvaW50ZXIgdG8gc21hcnQgcG9pbnRlciBpcyBpbGxlZ2FsIik7CiAgICAgICAgICBzd2l0Y2ggKHRoaXMucGIpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChiLm1hLkRhID09PSB0aGlzKSBjID0gYi5tYS5BYTsKICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLkRhID8gYi5tYS5EYS5uYW1lIDogYi5tYS56YS5uYW1lfSB0byBwYXJhbWV0ZXIgdHlwZSAke3RoaXMubmFtZX1gCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpZiAoYi5tYS5EYSA9PT0gdGhpcykgYyA9IGIubWEuQWE7CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgZCA9IGIuY2xvbmUoKTsKICAgICAgICAgICAgICAgIGMgPSB0aGlzLmxiKAogICAgICAgICAgICAgICAgICBjLAogICAgICAgICAgICAgICAgICBoYigoKSA9PiBkWyJkZWxldGUiXSgpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIG51bGwgIT09IGEgJiYgYS5wdXNoKHRoaXMuRmEsIGMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiVW5zdXBwb3J0aW5nIHNoYXJpbmcgcG9saWN5Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGliKGEsIGIpIHsKICAgICAgICBpZiAobnVsbCA9PT0gYikgewogICAgICAgICAgaWYgKHRoaXMuVGEpIHRocm93IG5ldyBSKGBudWxsIGlzIG5vdCBhIHZhbGlkICR7dGhpcy5uYW1lfWApOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIGlmICghYi5tYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBwYXNzICIke2ZiKGIpfSIgYXMgYSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoIWIubWEueWEpIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBkZWxldGVkIG9iamVjdCBhcyBhIHBvaW50ZXIgb2YgdHlwZSAke3RoaXMubmFtZX1gKTsKICAgICAgICBpZiAoYi5tYS56YS5QYSkgdGhyb3cgbmV3IFIoYENhbm5vdCBjb252ZXJ0IGFyZ3VtZW50IG9mIHR5cGUgJHtiLm1hLnphLm5hbWV9IHRvIHBhcmFtZXRlciB0eXBlICR7dGhpcy5uYW1lfWApOwogICAgICAgIHJldHVybiBkYihiLm1hLnlhLCBiLm1hLnphLnhhLCB0aGlzLnhhKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBqYihhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtLCBwKSB7CiAgICAgICAgdGhpcy5uYW1lID0gYTsKICAgICAgICB0aGlzLnhhID0gYjsKICAgICAgICB0aGlzLlRhID0gYzsKICAgICAgICB0aGlzLlBhID0gZDsKICAgICAgICB0aGlzLlFhID0gZTsKICAgICAgICB0aGlzLmpiID0gZjsKICAgICAgICB0aGlzLnBiID0gbDsKICAgICAgICB0aGlzLlphID0gaDsKICAgICAgICB0aGlzLlVhID0gbjsKICAgICAgICB0aGlzLmxiID0gbTsKICAgICAgICB0aGlzLkZhID0gcDsKICAgICAgICBlIHx8IHZvaWQgMCAhPT0gYi5DYSA/IHRoaXMudG9XaXJlVHlwZSA9IGdiIDogKHRoaXMudG9XaXJlVHlwZSA9IGQgPyBlYiA6IGliLCB0aGlzLkVhID0gbnVsbCk7CiAgICAgIH0KICAgICAgdmFyIGtiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBpZiAoIWsuaGFzT3duUHJvcGVydHkoYSkpIHRocm93IG5ldyBJYSgiUmVwbGFjaW5nIG5vbmV4aXN0ZW50IHB1YmxpYyBzeW1ib2wiKTsKICAgICAgICB2b2lkIDAgIT09IGtbYV0uQmEgJiYgdm9pZCAwICE9PSBjID8ga1thXS5CYVtjXSA9IGIgOiAoa1thXSA9IGIsIGtbYV0uT2EgPSBjKTsKICAgICAgfSwgUywgbGIgPSAoYSwgYiwgYyA9IFtdKSA9PiB7CiAgICAgICAgYS5pbmNsdWRlcygiaiIpID8gKGEgPSBhLnJlcGxhY2UoL3AvZywgImkiKSwgYiA9ICgwLCBrWyJkeW5DYWxsXyIgKyBhXSkoYiwgLi4uYykpIDogYiA9IFMuZ2V0KGIpKC4uLmMpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBtYiA9IChhLCBiKSA9PiAoLi4uYykgPT4gbGIoYSwgYiwgYyksIFQgPSAoYSwgYikgPT4gewogICAgICAgIGEgPSBRKGEpOwogICAgICAgIHZhciBjID0gYS5pbmNsdWRlcygiaiIpID8gbWIoYSwgYikgOiBTLmdldChiKTsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgYykgdGhyb3cgbmV3IFIoYHVua25vd24gZnVuY3Rpb24gcG9pbnRlciB3aXRoIHNpZ25hdHVyZSAke2F9OiAke2J9YCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIG5iLCBwYiA9IChhKSA9PiB7CiAgICAgICAgYSA9IG9iKGEpOwogICAgICAgIHZhciBiID0gUShhKTsKICAgICAgICBVKGEpOwogICAgICAgIHJldHVybiBiOwogICAgICB9LCBxYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gYyhmKSB7CiAgICAgICAgICBlW2ZdIHx8IE1bZl0gfHwgKEhhW2ZdID8gSGFbZl0uZm9yRWFjaChjKSA6IChkLnB1c2goZiksIGVbZl0gPSB0cnVlKSk7CiAgICAgICAgfQogICAgICAgIHZhciBkID0gW10sIGUgPSB7fTsKICAgICAgICBiLmZvckVhY2goYyk7CiAgICAgICAgdGhyb3cgbmV3IG5iKGAke2F9OiBgICsgZC5tYXAocGIpLmpvaW4oWyIsICJdKSk7CiAgICAgIH0sIHJiID0gKGEsIGIpID0+IHsKICAgICAgICBmb3IgKHZhciBjID0gW10sIGQgPSAwOyBkIDwgYTsgZCsrKSBjLnB1c2goRltiICsgNCAqIGQgPj4gMl0pOwogICAgICAgIHJldHVybiBjOwogICAgICB9OwogICAgICBmdW5jdGlvbiBzYihhKSB7CiAgICAgICAgZm9yICh2YXIgYiA9IDE7IGIgPCBhLmxlbmd0aDsgKytiKSBpZiAobnVsbCAhPT0gYVtiXSAmJiB2b2lkIDAgPT09IGFbYl0uRWEpIHJldHVybiB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBmdW5jdGlvbiB0YihhLCBiLCBjLCBkLCBlKSB7CiAgICAgICAgdmFyIGYgPSBiLmxlbmd0aDsKICAgICAgICBpZiAoMiA+IGYpIHRocm93IG5ldyBSKCJhcmdUeXBlcyBhcnJheSBzaXplIG1pc21hdGNoISBNdXN0IGF0IGxlYXN0IGdldCByZXR1cm4gdmFsdWUgYW5kICd0aGlzJyB0eXBlcyEiKTsKICAgICAgICB2YXIgbCA9IG51bGwgIT09IGJbMV0gJiYgbnVsbCAhPT0gYywgaCA9IHNiKGIpLCBuID0gInZvaWQiICE9PSBiWzBdLm5hbWUsIG0gPSBmIC0gMiwgcCA9IEFycmF5KG0pLCB1ID0gW10sIHYgPSBbXTsKICAgICAgICByZXR1cm4gWmEoYSwgZnVuY3Rpb24oLi4uZykgewogICAgICAgICAgaWYgKGcubGVuZ3RoICE9PSBtKSB0aHJvdyBuZXcgUihgZnVuY3Rpb24gJHthfSBjYWxsZWQgd2l0aCAke2cubGVuZ3RofSBhcmd1bWVudHMsIGV4cGVjdGVkICR7bX1gKTsKICAgICAgICAgIHYubGVuZ3RoID0gMDsKICAgICAgICAgIHUubGVuZ3RoID0gbCA/IDIgOiAxOwogICAgICAgICAgdVswXSA9IGU7CiAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICB2YXIgcSA9IGJbMV0udG9XaXJlVHlwZSh2LCB0aGlzKTsKICAgICAgICAgICAgdVsxXSA9IHE7CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IG07ICsrcikgcFtyXSA9IGJbciArIDJdLnRvV2lyZVR5cGUodiwgZ1tyXSksIHUucHVzaChwW3JdKTsKICAgICAgICAgIGcgPSBkKC4uLnUpOwogICAgICAgICAgaWYgKGgpIEdhKHYpOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBmb3IgKHIgPSBsID8gMSA6IDI7IHIgPCBiLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgdmFyIHogPSAxID09PSByID8gcSA6IHBbciAtIDJdOwogICAgICAgICAgICAgIG51bGwgIT09IGJbcl0uRWEgJiYgYltyXS5FYSh6KTsKICAgICAgICAgICAgfQogICAgICAgICAgcSA9IG4gPyBiWzBdLmZyb21XaXJlVHlwZShnKSA6IHZvaWQgMDsKICAgICAgICAgIHJldHVybiBxOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHZhciB1YiA9IChhKSA9PiB7CiAgICAgICAgYSA9IGEudHJpbSgpOwogICAgICAgIGNvbnN0IGIgPSBhLmluZGV4T2YoIigiKTsKICAgICAgICByZXR1cm4gLTEgIT09IGIgPyBhLnN1YnN0cigwLCBiKSA6IGE7CiAgICAgIH0sIHZiID0gW10sIFYgPSBbXSwgd2IgPSAoYSkgPT4gewogICAgICAgIDkgPCBhICYmIDAgPT09IC0tVlthICsgMV0gJiYgKFZbYV0gPSB2b2lkIDAsIHZiLnB1c2goYSkpOwogICAgICB9LCB5YiA9IChhKSA9PiB7CiAgICAgICAgaWYgKCFhKSB0aHJvdyBuZXcgUigiQ2Fubm90IHVzZSBkZWxldGVkIHZhbC4gaGFuZGxlID0gIiArIGEpOwogICAgICAgIHJldHVybiBWW2FdOwogICAgICB9LCBoYiA9IChhKSA9PiB7CiAgICAgICAgc3dpdGNoIChhKSB7CiAgICAgICAgICBjYXNlIHZvaWQgMDoKICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICBjYXNlIG51bGw6CiAgICAgICAgICAgIHJldHVybiA0OwogICAgICAgICAgY2FzZSB0cnVlOgogICAgICAgICAgICByZXR1cm4gNjsKICAgICAgICAgIGNhc2UgZmFsc2U6CiAgICAgICAgICAgIHJldHVybiA4OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc3QgYiA9IHZiLnBvcCgpIHx8IFYubGVuZ3RoOwogICAgICAgICAgICBWW2JdID0gYTsKICAgICAgICAgICAgVltiICsgMV0gPSAxOwogICAgICAgICAgICByZXR1cm4gYjsKICAgICAgICB9CiAgICAgIH0sIHpiID0gewogICAgICAgIG5hbWU6ICJlbXNjcmlwdGVuOjp2YWwiLAogICAgICAgIGZyb21XaXJlVHlwZTogKGEpID0+IHsKICAgICAgICAgIHZhciBiID0geWIoYSk7CiAgICAgICAgICB3YihhKTsKICAgICAgICAgIHJldHVybiBiOwogICAgICAgIH0sCiAgICAgICAgdG9XaXJlVHlwZTogKGEsIGIpID0+IGhiKGIpLAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIEVhOiBudWxsCiAgICAgIH0sIEFiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBzd2l0Y2ggKGIpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKHlbZF0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2RdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKEJbZCA+PiAxXSk7CiAgICAgICAgICAgIH0gOiBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKENbZCA+PiAxXSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBjID8gZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShFW2QgPj4gMl0pOwogICAgICAgICAgICB9IDogZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShGW2QgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgaW52YWxpZCBpbnRlZ2VyIHdpZHRoICgke2J9KTogJHthfWApOwogICAgICAgIH0KICAgICAgfSwgQmIgPSAoYSwgYikgPT4gewogICAgICAgIHZhciBjID0gTVthXTsKICAgICAgICBpZiAodm9pZCAwID09PSBjKSB0aHJvdyBhID0gYCR7Yn0gaGFzIHVua25vd24gdHlwZSAke3BiKGEpfWAsIG5ldyBSKGEpOwogICAgICAgIHJldHVybiBjOwogICAgICB9LCBmYiA9IChhKSA9PiB7CiAgICAgICAgaWYgKG51bGwgPT09IGEpIHJldHVybiAibnVsbCI7CiAgICAgICAgdmFyIGIgPSB0eXBlb2YgYTsKICAgICAgICByZXR1cm4gIm9iamVjdCIgPT09IGIgfHwgImFycmF5IiA9PT0gYiB8fCAiZnVuY3Rpb24iID09PSBiID8gYS50b1N0cmluZygpIDogIiIgKyBhOwogICAgICB9LCBDYiA9IChhLCBiKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihjKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVdpcmVUeXBlKGphW2MgPj4gMl0pOwogICAgICAgICAgICB9OwogICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYykgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShrYVtjID4+IDNdKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgZmxvYXQgd2lkdGggKCR7Yn0pOiAke2F9YCk7CiAgICAgICAgfQogICAgICB9LCBEYiA9IChhLCBiLCBjKSA9PiB7CiAgICAgICAgc3dpdGNoIChiKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHJldHVybiBjID8gKGQpID0+IHlbZF0gOiAoZCkgPT4gQVtkXTsKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gQltkID4+IDFdIDogKGQpID0+IENbZCA+PiAxXTsKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmV0dXJuIGMgPyAoZCkgPT4gRVtkID4+IDJdIDogKGQpID0+IEZbZCA+PiAyXTsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGludmFsaWQgaW50ZWdlciB3aWR0aCAoJHtifSk6ICR7YX1gKTsKICAgICAgICB9CiAgICAgIH0sIEViID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFRleHREZWNvZGVyID8gbmV3IFRleHREZWNvZGVyKCJ1dGYtMTZsZSIpIDogdm9pZCAwLCBGYiA9IChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBhID4+IDE7CiAgICAgICAgZm9yICh2YXIgZCA9IGMgKyBiIC8gMjsgIShjID49IGQpICYmIENbY107ICkgKytjOwogICAgICAgIGMgPDw9IDE7CiAgICAgICAgaWYgKDMyIDwgYyAtIGEgJiYgRWIpIHJldHVybiBFYi5kZWNvZGUoQS5zdWJhcnJheShhLCBjKSk7CiAgICAgICAgYyA9ICIiOwogICAgICAgIGZvciAoZCA9IDA7ICEoZCA+PSBiIC8gMik7ICsrZCkgewogICAgICAgICAgdmFyIGUgPSBCW2EgKyAyICogZCA+PiAxXTsKICAgICAgICAgIGlmICgwID09IGUpIGJyZWFrOwogICAgICAgICAgYyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYzsKICAgICAgfSwgR2IgPSAoYSwgYiwgYykgPT4gewogICAgICAgIGMgPz8gKGMgPSAyMTQ3NDgzNjQ3KTsKICAgICAgICBpZiAoMiA+IGMpIHJldHVybiAwOwogICAgICAgIGMgLT0gMjsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGMgPCAyICogYS5sZW5ndGggPyBjIC8gMiA6IGEubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYzsgKytlKSBCW2IgPj4gMV0gPSBhLmNoYXJDb2RlQXQoZSksIGIgKz0gMjsKICAgICAgICBCW2IgPj4gMV0gPSAwOwogICAgICAgIHJldHVybiBiIC0gZDsKICAgICAgfSwgSGIgPSAoYSkgPT4gMiAqIGEubGVuZ3RoLCBJYiA9IChhLCBiKSA9PiB7CiAgICAgICAgZm9yICh2YXIgYyA9IDAsIGQgPSAiIjsgIShjID49IGIgLyA0KTsgKSB7CiAgICAgICAgICB2YXIgZSA9IEVbYSArIDQgKiBjID4+IDJdOwogICAgICAgICAgaWYgKDAgPT0gZSkgYnJlYWs7CiAgICAgICAgICArK2M7CiAgICAgICAgICA2NTUzNiA8PSBlID8gKGUgLT0gNjU1MzYsIGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IGUgPj4gMTAsIDU2MzIwIHwgZSAmIDEwMjMpKSA6IGQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGQ7CiAgICAgIH0sIEpiID0gKGEsIGIsIGMpID0+IHsKICAgICAgICBjID8/IChjID0gMjE0NzQ4MzY0Nyk7CiAgICAgICAgaWYgKDQgPiBjKSByZXR1cm4gMDsKICAgICAgICB2YXIgZCA9IGI7CiAgICAgICAgYyA9IGQgKyBjIC0gNDsKICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGEubGVuZ3RoOyArK2UpIHsKICAgICAgICAgIHZhciBmID0gYS5jaGFyQ29kZUF0KGUpOwogICAgICAgICAgaWYgKDU1Mjk2IDw9IGYgJiYgNTczNDMgPj0gZikgewogICAgICAgICAgICB2YXIgbCA9IGEuY2hhckNvZGVBdCgrK2UpOwogICAgICAgICAgICBmID0gNjU1MzYgKyAoKGYgJiAxMDIzKSA8PCAxMCkgfCBsICYgMTAyMzsKICAgICAgICAgIH0KICAgICAgICAgIEVbYiA+PiAyXSA9IGY7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgICBpZiAoYiArIDQgPiBjKSBicmVhazsKICAgICAgICB9CiAgICAgICAgRVtiID4+IDJdID0gMDsKICAgICAgICByZXR1cm4gYiAtIGQ7CiAgICAgIH0sIEtiID0gKGEpID0+IHsKICAgICAgICBmb3IgKHZhciBiID0gMCwgYyA9IDA7IGMgPCBhLmxlbmd0aDsgKytjKSB7CiAgICAgICAgICB2YXIgZCA9IGEuY2hhckNvZGVBdChjKTsKICAgICAgICAgIDU1Mjk2IDw9IGQgJiYgNTczNDMgPj0gZCAmJiArK2M7CiAgICAgICAgICBiICs9IDQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBiOwogICAgICB9LCBMYiA9IFtdLCBNYiA9IChhKSA9PiB7CiAgICAgICAgdmFyIGIgPSBMYi5sZW5ndGg7CiAgICAgICAgTGIucHVzaChhKTsKICAgICAgICByZXR1cm4gYjsKICAgICAgfSwgTmIgPSAoYSwgYikgPT4gewogICAgICAgIGZvciAodmFyIGMgPSBBcnJheShhKSwgZCA9IDA7IGQgPCBhOyArK2QpIGNbZF0gPSBCYihGW2IgKyA0ICogZCA+PiAyXSwgInBhcmFtZXRlciAiICsgZCk7CiAgICAgICAgcmV0dXJuIGM7CiAgICAgIH0sIE9iID0gUmVmbGVjdC5jb25zdHJ1Y3QsIFBiID0ge30sIFJiID0gKCkgPT4gewogICAgICAgIGlmICghUWIpIHsKICAgICAgICAgIHZhciBhID0gewogICAgICAgICAgICBVU0VSOiAid2ViX3VzZXIiLAogICAgICAgICAgICBMT0dOQU1FOiAid2ViX3VzZXIiLAogICAgICAgICAgICBQQVRIOiAiLyIsCiAgICAgICAgICAgIFBXRDogIi8iLAogICAgICAgICAgICBIT01FOiAiL2hvbWUvd2ViX3VzZXIiLAogICAgICAgICAgICBMQU5HOiAoIm9iamVjdCIgPT0gdHlwZW9mIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2VzICYmIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0gfHwgIkMiKS5yZXBsYWNlKAogICAgICAgICAgICAgICItIiwKICAgICAgICAgICAgICAiXyIKICAgICAgICAgICAgKSArICIuVVRGLTgiLAogICAgICAgICAgICBfOiBkYSB8fCAiLi90aGlzLnByb2dyYW0iCiAgICAgICAgICB9LCBiOwogICAgICAgICAgZm9yIChiIGluIFBiKSB2b2lkIDAgPT09IFBiW2JdID8gZGVsZXRlIGFbYl0gOiBhW2JdID0gUGJbYl07CiAgICAgICAgICB2YXIgYyA9IFtdOwogICAgICAgICAgZm9yIChiIGluIGEpIGMucHVzaChgJHtifT0ke2FbYl19YCk7CiAgICAgICAgICBRYiA9IGM7CiAgICAgICAgfQogICAgICAgIHJldHVybiBRYjsKICAgICAgfSwgUWIsIFNiID0gW251bGwsIFtdLCBbXV0sIFRiID0gKCkgPT4gewogICAgICAgIGlmICgib2JqZWN0IiA9PSB0eXBlb2YgY3J5cHRvICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpCiAgICAgICAgICByZXR1cm4gKGEpID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYSk7CiAgICAgICAgcmEoImluaXRSYW5kb21EZXZpY2UiKTsKICAgICAgfSwgVWIgPSAoYSkgPT4gKFViID0gVGIoKSkoYSksIFZiID0gKGEpID0+IDAgPT09IGEgJSA0ICYmICgwICE9PSBhICUgMTAwIHx8IDAgPT09IGEgJSA0MDApLCBXYiA9IFszMSwgMjksIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXSwgWGIgPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07CiAgICAgIGZ1bmN0aW9uIFliKGEpIHsKICAgICAgICB2YXIgYiA9IEFycmF5KERhKGEpICsgMSk7CiAgICAgICAgRWEoYSwgYiwgMCwgYi5sZW5ndGgpOwogICAgICAgIHJldHVybiBiOwogICAgICB9CiAgICAgIHZhciBaYiA9IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgZnVuY3Rpb24gZShnLCBxLCByKSB7CiAgICAgICAgICBmb3IgKGcgPSAibnVtYmVyIiA9PSB0eXBlb2YgZyA/IGcudG9TdHJpbmcoKSA6IGcgfHwgIiI7IGcubGVuZ3RoIDwgcTsgKSBnID0gclswXSArIGc7CiAgICAgICAgICByZXR1cm4gZzsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZihnLCBxKSB7CiAgICAgICAgICByZXR1cm4gZShnLCBxLCAiMCIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBsKGcsIHEpIHsKICAgICAgICAgIGZ1bmN0aW9uIHIoTikgewogICAgICAgICAgICByZXR1cm4gMCA+IE4gPyAtMSA6IDAgPCBOID8gMSA6IDA7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgejsKICAgICAgICAgIDAgPT09ICh6ID0gcihnLmdldEZ1bGxZZWFyKCkgLSBxLmdldEZ1bGxZZWFyKCkpKSAmJiAwID09PSAoeiA9IHIoZy5nZXRNb250aCgpIC0gcS5nZXRNb250aCgpKSkgJiYgKHogPSByKGcuZ2V0RGF0ZSgpIC0gcS5nZXREYXRlKCkpKTsKICAgICAgICAgIHJldHVybiB6OwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBoKGcpIHsKICAgICAgICAgIHN3aXRjaCAoZy5nZXREYXkoKSkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAyOSk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICByZXR1cm4gZzsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDMpOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSwgMCwgMik7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCkgLSAxLCAxMSwgMzEpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGcuZ2V0RnVsbFllYXIoKSAtIDEsIDExLCAzMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZ1bmN0aW9uIG4oZykgewogICAgICAgICAgdmFyIHEgPSBnLklhOwogICAgICAgICAgZm9yIChnID0gbmV3IERhdGUobmV3IERhdGUoZy5KYSArIDE5MDAsIDAsIDEpLmdldFRpbWUoKSk7IDAgPCBxOyApIHsKICAgICAgICAgICAgdmFyIHIgPSBnLmdldE1vbnRoKCksIHogPSAoVmIoZy5nZXRGdWxsWWVhcigpKSA/IFdiIDogWGIpW3JdOwogICAgICAgICAgICBpZiAocSA+IHogLSBnLmdldERhdGUoKSkKICAgICAgICAgICAgICBxIC09IHogLSBnLmdldERhdGUoKSArIDEsIGcuc2V0RGF0ZSgxKSwgMTEgPiByID8gZy5zZXRNb250aChyICsgMSkgOiAoZy5zZXRNb250aCgwKSwgZy5zZXRGdWxsWWVhcihnLmdldEZ1bGxZZWFyKCkgKyAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIGcuc2V0RGF0ZShnLmdldERhdGUoKSArIHEpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICByID0gbmV3IERhdGUoZy5nZXRGdWxsWWVhcigpICsgMSwgMCwgNCk7CiAgICAgICAgICBxID0gaChuZXcgRGF0ZShnLmdldEZ1bGxZZWFyKCksIDAsIDQpKTsKICAgICAgICAgIHIgPSBoKHIpOwogICAgICAgICAgcmV0dXJuIDAgPj0gbChxLCBnKSA/IDAgPj0gbChyLCBnKSA/IGcuZ2V0RnVsbFllYXIoKSArIDEgOiBnLmdldEZ1bGxZZWFyKCkgOiBnLmdldEZ1bGxZZWFyKCkgLSAxOwogICAgICAgIH0KICAgICAgICB2YXIgbSA9IEZbZCArIDQwID4+IDJdOwogICAgICAgIGQgPSB7CiAgICAgICAgICBzYjogRVtkID4+IDJdLAogICAgICAgICAgcmI6IEVbZCArIDQgPj4gMl0sCiAgICAgICAgICBSYTogRVtkICsgOCA+PiAyXSwKICAgICAgICAgIFZhOiBFW2QgKyAxMiA+PiAyXSwKICAgICAgICAgIFNhOiBFW2QgKyAxNiA+PiAyXSwKICAgICAgICAgIEphOiBFW2QgKyAyMCA+PiAyXSwKICAgICAgICAgIEdhOiBFW2QgKyAyNCA+PiAyXSwKICAgICAgICAgIElhOiBFW2QgKyAyOCA+PiAyXSwKICAgICAgICAgIHdiOiBFW2QgKyAzMiA+PiAyXSwKICAgICAgICAgIHFiOiBFW2QgKyAzNiA+PiAyXSwKICAgICAgICAgIHRiOiBtID8gbSA/IEooQSwgbSkgOiAiIiA6ICIiCiAgICAgICAgfTsKICAgICAgICBjID0gYyA/IEooQSwgYykgOiAiIjsKICAgICAgICBtID0gewogICAgICAgICAgIiVjIjogIiVhICViICVkICVIOiVNOiVTICVZIiwKICAgICAgICAgICIlRCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJUYiOiAiJVktJW0tJWQiLAogICAgICAgICAgIiVoIjogIiViIiwKICAgICAgICAgICIlciI6ICIlSTolTTolUyAlcCIsCiAgICAgICAgICAiJVIiOiAiJUg6JU0iLAogICAgICAgICAgIiVUIjogIiVIOiVNOiVTIiwKICAgICAgICAgICIleCI6ICIlbS8lZC8leSIsCiAgICAgICAgICAiJVgiOiAiJUg6JU06JVMiLAogICAgICAgICAgIiVFYyI6ICIlYyIsCiAgICAgICAgICAiJUVDIjogIiVDIiwKICAgICAgICAgICIlRXgiOiAiJW0vJWQvJXkiLAogICAgICAgICAgIiVFWCI6ICIlSDolTTolUyIsCiAgICAgICAgICAiJUV5IjogIiV5IiwKICAgICAgICAgICIlRVkiOiAiJVkiLAogICAgICAgICAgIiVPZCI6ICIlZCIsCiAgICAgICAgICAiJU9lIjogIiVlIiwKICAgICAgICAgICIlT0giOiAiJUgiLAogICAgICAgICAgIiVPSSI6ICIlSSIsCiAgICAgICAgICAiJU9tIjogIiVtIiwKICAgICAgICAgICIlT00iOiAiJU0iLAogICAgICAgICAgIiVPUyI6ICIlUyIsCiAgICAgICAgICAiJU91IjogIiV1IiwKICAgICAgICAgICIlT1UiOiAiJVUiLAogICAgICAgICAgIiVPViI6ICIlViIsCiAgICAgICAgICAiJU93IjogIiV3IiwKICAgICAgICAgICIlT1ciOiAiJVciLAogICAgICAgICAgIiVPeSI6ICIleSIKICAgICAgICB9OwogICAgICAgIGZvciAodmFyIHAgaW4gbSkgYyA9IGMucmVwbGFjZShuZXcgUmVnRXhwKHAsICJnIiksIG1bcF0pOwogICAgICAgIHZhciB1ID0gIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5Ii5zcGxpdCgiICIpLCB2ID0gIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXIiLnNwbGl0KCIgIik7CiAgICAgICAgbSA9IHsKICAgICAgICAgICIlYSI6IChnKSA9PiB1W2cuR2FdLnN1YnN0cmluZygwLCAzKSwKICAgICAgICAgICIlQSI6IChnKSA9PiB1W2cuR2FdLAogICAgICAgICAgIiViIjogKGcpID0+IHZbZy5TYV0uc3Vic3RyaW5nKDAsIDMpLAogICAgICAgICAgIiVCIjogKGcpID0+IHZbZy5TYV0sCiAgICAgICAgICAiJUMiOiAoZykgPT4gZigoZy5KYSArIDE5MDApIC8gMTAwIHwgMCwgMiksCiAgICAgICAgICAiJWQiOiAoZykgPT4gZihnLlZhLCAyKSwKICAgICAgICAgICIlZSI6IChnKSA9PiBlKGcuVmEsIDIsICIgIiksCiAgICAgICAgICAiJWciOiAoZykgPT4gbihnKS50b1N0cmluZygpLnN1YnN0cmluZygyKSwKICAgICAgICAgICIlRyI6IG4sCiAgICAgICAgICAiJUgiOiAoZykgPT4gZihnLlJhLCAyKSwKICAgICAgICAgICIlSSI6IChnKSA9PiB7CiAgICAgICAgICAgIGcgPSBnLlJhOwogICAgICAgICAgICAwID09IGcgPyBnID0gMTIgOiAxMiA8IGcgJiYgKGcgLT0gMTIpOwogICAgICAgICAgICByZXR1cm4gZihnLCAyKTsKICAgICAgICAgIH0sCiAgICAgICAgICAiJWoiOiAoZykgPT4gewogICAgICAgICAgICBmb3IgKHZhciBxID0gMCwgciA9IDA7IHIgPD0gZy5TYSAtIDE7IHEgKz0gKFZiKGcuSmEgKyAxOTAwKSA/IFdiIDogWGIpW3IrK10pIDsKICAgICAgICAgICAgcmV0dXJuIGYoZy5WYSArIHEsIDMpOwogICAgICAgICAgfSwKICAgICAgICAgICIlbSI6IChnKSA9PiBmKGcuU2EgKyAxLCAyKSwKICAgICAgICAgICIlTSI6IChnKSA9PiBmKGcucmIsIDIpLAogICAgICAgICAgIiVuIjogKCkgPT4gIlxuIiwKICAgICAgICAgICIlcCI6IChnKSA9PiAwIDw9IGcuUmEgJiYgMTIgPiBnLlJhID8gIkFNIiA6ICJQTSIsCiAgICAgICAgICAiJVMiOiAoZykgPT4gZihnLnNiLCAyKSwKICAgICAgICAgICIldCI6ICgpID0+ICIJIiwKICAgICAgICAgICIldSI6IChnKSA9PiBnLkdhIHx8IDcsCiAgICAgICAgICAiJVUiOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIGcuR2EpIC8gNyksIDIpLAogICAgICAgICAgIiVWIjogKGcpID0+IHsKICAgICAgICAgICAgdmFyIHEgPSBNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpOwogICAgICAgICAgICAyID49IChnLkdhICsgMzcxIC0gZy5JYSAtIDIpICUgNyAmJiBxKys7CiAgICAgICAgICAgIGlmIChxKSA1MyA9PSBxICYmIChyID0gKGcuR2EgKyAzNzEgLSBnLklhKSAlIDcsIDQgPT0gciB8fCAzID09IHIgJiYgVmIoZy5KYSkgfHwgKHEgPSAxKSk7CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHEgPSA1MjsKICAgICAgICAgICAgICB2YXIgciA9IChnLkdhICsgNyAtIGcuSWEgLSAxKSAlIDc7CiAgICAgICAgICAgICAgKDQgPT0gciB8fCA1ID09IHIgJiYgVmIoZy5KYSAlIDQwMCAtIDEpKSAmJiBxKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGYocSwgMik7CiAgICAgICAgICB9LAogICAgICAgICAgIiV3IjogKGcpID0+IGcuR2EsCiAgICAgICAgICAiJVciOiAoZykgPT4gZihNYXRoLmZsb29yKChnLklhICsgNyAtIChnLkdhICsgNikgJSA3KSAvIDcpLCAyKSwKICAgICAgICAgICIleSI6IChnKSA9PiAoZy5KYSArIDE5MDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIpLAogICAgICAgICAgIiVZIjogKGcpID0+IGcuSmEgKyAxOTAwLAogICAgICAgICAgIiV6IjogKGcpID0+IHsKICAgICAgICAgICAgZyA9IGcucWI7CiAgICAgICAgICAgIHZhciBxID0gMCA8PSBnOwogICAgICAgICAgICBnID0gTWF0aC5hYnMoZykgLyA2MDsKICAgICAgICAgICAgcmV0dXJuIChxID8gIisiIDogIi0iKSArIFN0cmluZygiMDAwMCIgKyAoZyAvIDYwICogMTAwICsgZyAlIDYwKSkuc2xpY2UoLTQpOwogICAgICAgICAgfSwKICAgICAgICAgICIlWiI6IChnKSA9PiBnLnRiLAogICAgICAgICAgIiUlIjogKCkgPT4gIiUiCiAgICAgICAgfTsKICAgICAgICBjID0gYy5yZXBsYWNlKC8lJS9nLCAiXDBcMCIpOwogICAgICAgIGZvciAocCBpbiBtKSBjLmluY2x1ZGVzKHApICYmIChjID0gYy5yZXBsYWNlKG5ldyBSZWdFeHAocCwgImciKSwgbVtwXShkKSkpOwogICAgICAgIGMgPSBjLnJlcGxhY2UoL1wwXDAvZywgIiUiKTsKICAgICAgICBwID0gWWIoYyk7CiAgICAgICAgaWYgKHAubGVuZ3RoID4gYikgcmV0dXJuIDA7CiAgICAgICAgeS5zZXQocCwgYSk7CiAgICAgICAgcmV0dXJuIHAubGVuZ3RoIC0gMTsKICAgICAgfTsKICAgICAgSWEgPSBrLkludGVybmFsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHsKICAgICAgICBjb25zdHJ1Y3RvcihhKSB7CiAgICAgICAgICBzdXBlcihhKTsKICAgICAgICAgIHRoaXMubmFtZSA9ICJJbnRlcm5hbEVycm9yIjsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGZvciAodmFyICRiID0gQXJyYXkoMjU2KSwgYWMgPSAwOyAyNTYgPiBhYzsgKythYykgJGJbYWNdID0gU3RyaW5nLmZyb21DaGFyQ29kZShhYyk7CiAgICAgIEphID0gJGI7CiAgICAgIFIgPSBrLkJpbmRpbmdFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3IgewogICAgICAgIGNvbnN0cnVjdG9yKGEpIHsKICAgICAgICAgIHN1cGVyKGEpOwogICAgICAgICAgdGhpcy5uYW1lID0gIkJpbmRpbmdFcnJvciI7CiAgICAgICAgfQogICAgICB9OwogICAgICBPYmplY3QuYXNzaWduKFlhLnByb3RvdHlwZSwgewogICAgICAgIGlzQWxpYXNPZjogZnVuY3Rpb24oYSkgewogICAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFlhICYmIGEgaW5zdGFuY2VvZiBZYSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgIHZhciBiID0gdGhpcy5tYS56YS54YSwgYyA9IHRoaXMubWEueWE7CiAgICAgICAgICBhLm1hID0gYS5tYTsKICAgICAgICAgIHZhciBkID0gYS5tYS56YS54YTsKICAgICAgICAgIGZvciAoYSA9IGEubWEueWE7IGIuQ2E7ICkgYyA9IGIuTmEoYyksIGIgPSBiLkNhOwogICAgICAgICAgZm9yICg7IGQuQ2E7ICkgYSA9IGQuTmEoYSksIGQgPSBkLkNhOwogICAgICAgICAgcmV0dXJuIGIgPT09IGQgJiYgYyA9PT0gYTsKICAgICAgICB9LAogICAgICAgIGNsb25lOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHRoaXMubWEueWEgfHwgTGEodGhpcyk7CiAgICAgICAgICBpZiAodGhpcy5tYS5NYSkgcmV0dXJuIHRoaXMubWEuY291bnQudmFsdWUgKz0gMSwgdGhpczsKICAgICAgICAgIHZhciBhID0gV2EsIGIgPSBPYmplY3QsIGMgPSBiLmNyZWF0ZSwgZCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSwgZSA9IHRoaXMubWE7CiAgICAgICAgICBhID0gYSgKICAgICAgICAgICAgYy5jYWxsKGIsIGQsIHsKICAgICAgICAgICAgICBtYTogeyB2YWx1ZTogeyBjb3VudDogZS5jb3VudCwgS2E6IGUuS2EsIE1hOiBlLk1hLCB5YTogZS55YSwgemE6IGUuemEsIEFhOiBlLkFhLCBEYTogZS5EYSB9IH0KICAgICAgICAgICAgfSkKICAgICAgICAgICk7CiAgICAgICAgICBhLm1hLmNvdW50LnZhbHVlICs9IDE7CiAgICAgICAgICBhLm1hLkthID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFsiZGVsZXRlIl0oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBPYSh0aGlzKTsKICAgICAgICAgIHZhciBhID0gdGhpcy5tYTsKICAgICAgICAgIC0tYS5jb3VudC52YWx1ZTsKICAgICAgICAgIDAgPT09IGEuY291bnQudmFsdWUgJiYgKGEuQWEgPyBhLkRhLkZhKGEuQWEpIDogYS56YS54YS5GYShhLnlhKSk7CiAgICAgICAgICB0aGlzLm1hLk1hIHx8ICh0aGlzLm1hLkFhID0gdm9pZCAwLCB0aGlzLm1hLnlhID0gdm9pZCAwKTsKICAgICAgICB9LAogICAgICAgIGlzRGVsZXRlZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gIXRoaXMubWEueWE7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVMYXRlcjogZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLm1hLnlhIHx8IExhKHRoaXMpOwogICAgICAgICAgaWYgKHRoaXMubWEuS2EgJiYgIXRoaXMubWEuTWEpIHRocm93IG5ldyBSKCJPYmplY3QgYWxyZWFkeSBzY2hlZHVsZWQgZm9yIGRlbGV0aW9uIik7CiAgICAgICAgICBSYS5wdXNoKHRoaXMpOwogICAgICAgICAgMSA9PT0gUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgICAgIHRoaXMubWEuS2EgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgay5nZXRJbmhlcml0ZWRJbnN0YW5jZUNvdW50ID0gKCkgPT4gT2JqZWN0LmtleXMoVWEpLmxlbmd0aDsKICAgICAgay5nZXRMaXZlSW5oZXJpdGVkSW5zdGFuY2VzID0gKCkgPT4gewogICAgICAgIHZhciBhID0gW10sIGI7CiAgICAgICAgZm9yIChiIGluIFVhKSBVYS5oYXNPd25Qcm9wZXJ0eShiKSAmJiBhLnB1c2goVWFbYl0pOwogICAgICAgIHJldHVybiBhOwogICAgICB9OwogICAgICBrLmZsdXNoUGVuZGluZ0RlbGV0ZXMgPSBTYTsKICAgICAgay5zZXREZWxheUZ1bmN0aW9uID0gKGEpID0+IHsKICAgICAgICBUYSA9IGE7CiAgICAgICAgUmEubGVuZ3RoICYmIFRhICYmIFRhKFNhKTsKICAgICAgfTsKICAgICAgT2JqZWN0LmFzc2lnbihqYi5wcm90b3R5cGUsIHsKICAgICAgICBlYihhKSB7CiAgICAgICAgICB0aGlzLlphICYmIChhID0gdGhpcy5aYShhKSk7CiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9LAogICAgICAgIFhhKGEpIHsKICAgICAgICAgIHRoaXMuRmE/LihhKTsKICAgICAgICB9LAogICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBLLAogICAgICAgIGZyb21XaXJlVHlwZTogZnVuY3Rpb24oYSkgewogICAgICAgICAgZnVuY3Rpb24gYigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuUWEgPyBYYSh0aGlzLnhhLkxhLCB7IHphOiB0aGlzLmpiLCB5YTogYywgRGE6IHRoaXMsIEFhOiBhIH0pIDogWGEodGhpcy54YS5MYSwgeyB6YTogdGhpcywgeWE6IGEgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYyA9IHRoaXMuZWIoYSk7CiAgICAgICAgICBpZiAoIWMpIHJldHVybiB0aGlzLlhhKGEpLCBudWxsOwogICAgICAgICAgdmFyIGQgPSBWYSh0aGlzLnhhLCBjKTsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IGQpIHsKICAgICAgICAgICAgaWYgKDAgPT09IGQubWEuY291bnQudmFsdWUpIHJldHVybiBkLm1hLnlhID0gYywgZC5tYS5BYSA9IGEsIGQuY2xvbmUoKTsKICAgICAgICAgICAgZCA9IGQuY2xvbmUoKTsKICAgICAgICAgICAgdGhpcy5YYShhKTsKICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICB9CiAgICAgICAgICBkID0gdGhpcy54YS5jYihjKTsKICAgICAgICAgIGQgPSBRYVtkXTsKICAgICAgICAgIGlmICghZCkgcmV0dXJuIGIuY2FsbCh0aGlzKTsKICAgICAgICAgIGQgPSB0aGlzLlBhID8gZC4kYSA6IGQucG9pbnRlclR5cGU7CiAgICAgICAgICB2YXIgZSA9IFBhKGMsIHRoaXMueGEsIGQueGEpOwogICAgICAgICAgcmV0dXJuIG51bGwgPT09IGUgPyBiLmNhbGwodGhpcykgOiB0aGlzLlFhID8gWGEoZC54YS5MYSwgeyB6YTogZCwgeWE6IGUsIERhOiB0aGlzLCBBYTogYSB9KSA6IFhhKGQueGEuTGEsIHsgemE6IGQsIHlhOiBlIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG5iID0gay5VbmJvdW5kVHlwZUVycm9yID0gKChhLCBiKSA9PiB7CiAgICAgICAgdmFyIGMgPSBaYShiLCBmdW5jdGlvbihkKSB7CiAgICAgICAgICB0aGlzLm5hbWUgPSBiOwogICAgICAgICAgdGhpcy5tZXNzYWdlID0gZDsKICAgICAgICAgIGQgPSBFcnJvcihkKS5zdGFjazsKICAgICAgICAgIHZvaWQgMCAhPT0gZCAmJiAodGhpcy5zdGFjayA9IHRoaXMudG9TdHJpbmcoKSArICJcbiIgKyBkLnJlcGxhY2UoL15FcnJvcig6W15cbl0qKT9cbi8sICIiKSk7CiAgICAgICAgfSk7CiAgICAgICAgYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGEucHJvdG90eXBlKTsKICAgICAgICBjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGM7CiAgICAgICAgYy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMubWVzc2FnZSA/IHRoaXMubmFtZSA6IGAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfWA7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gYzsKICAgICAgfSkoRXJyb3IsICJVbmJvdW5kVHlwZUVycm9yIik7CiAgICAgIFYucHVzaCgwLCAxLCB2b2lkIDAsIDEsIG51bGwsIDEsIHRydWUsIDEsIGZhbHNlLCAxKTsKICAgICAgay5jb3VudF9lbXZhbF9oYW5kbGVzID0gKCkgPT4gVi5sZW5ndGggLyAyIC0gNSAtIHZiLmxlbmd0aDsKICAgICAgdmFyIG1jID0gewogICAgICAgIGM6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICByYSgKICAgICAgICAgICAgYEFzc2VydGlvbiBmYWlsZWQ6ICR7YSA/IEooQSwgYSkgOiAiIn0sIGF0OiBgICsgW2IgPyBiID8gSihBLCBiKSA6ICIiIDogInVua25vd24gZmlsZW5hbWUiLCBjLCBkID8gZCA/IEooQSwgZCkgOiAiIiA6ICJ1bmtub3duIGZ1bmN0aW9uIl0KICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBtOiAoYSwgYiwgYykgPT4gewogICAgICAgICAgdmFyIGQgPSBuZXcgQWEoYSk7CiAgICAgICAgICBGW2QueWEgKyAxNiA+PiAyXSA9IDA7CiAgICAgICAgICBGW2QueWEgKyA0ID4+IDJdID0gYjsKICAgICAgICAgIEZbZC55YSArIDggPj4gMl0gPSBjOwogICAgICAgICAgQmEgPSBhOwogICAgICAgICAgQ2ErKzsKICAgICAgICAgIHRocm93IEJhOwogICAgICAgIH0sCiAgICAgICAgQjogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFA6ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIE06ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIFI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICBOOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBBOiBmdW5jdGlvbigpIHsKICAgICAgICB9LAogICAgICAgIE86ICgpID0+IHsKICAgICAgICB9LAogICAgICAgIHY6IChhKSA9PiB7CiAgICAgICAgICB2YXIgYiA9IEZhW2FdOwogICAgICAgICAgZGVsZXRlIEZhW2FdOwogICAgICAgICAgdmFyIGMgPSBiLlVhLCBkID0gYi5GYSwgZSA9IGIuWWEsIGYgPSBlLm1hcCgobCkgPT4gbC5oYikuY29uY2F0KGUubWFwKChsKSA9PiBsLm5iKSk7CiAgICAgICAgICBQKFthXSwgZiwgKGwpID0+IHsKICAgICAgICAgICAgdmFyIGggPSB7fTsKICAgICAgICAgICAgZS5mb3JFYWNoKChuLCBtKSA9PiB7CiAgICAgICAgICAgICAgdmFyIHAgPSBsW21dLCB1ID0gbi5mYiwgdiA9IG4uZ2IsIGcgPSBsW20gKyBlLmxlbmd0aF0sIHEgPSBuLm1iLCByID0gbi5vYjsKICAgICAgICAgICAgICBoW24uYmJdID0gewogICAgICAgICAgICAgICAgcmVhZDogKHopID0+IHAuZnJvbVdpcmVUeXBlKHUodiwgeikpLAogICAgICAgICAgICAgICAgd3JpdGU6ICh6LCBOKSA9PiB7CiAgICAgICAgICAgICAgICAgIHZhciBEID0gW107CiAgICAgICAgICAgICAgICAgIHEociwgeiwgZy50b1dpcmVUeXBlKEQsIE4pKTsKICAgICAgICAgICAgICAgICAgR2EoRCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbmFtZTogYi5uYW1lLAogICAgICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAobikgPT4gewogICAgICAgICAgICAgICAgICB2YXIgbSA9IHt9LCBwOwogICAgICAgICAgICAgICAgICBmb3IgKHAgaW4gaCkgbVtwXSA9IGhbcF0ucmVhZChuKTsKICAgICAgICAgICAgICAgICAgZChuKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG07CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdG9XaXJlVHlwZTogKG4sIG0pID0+IHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBoKSBpZiAoIShwIGluIG0pKSB0aHJvdyBuZXcgVHlwZUVycm9yKGBNaXNzaW5nIGZpZWxkOiAiJHtwfSJgKTsKICAgICAgICAgICAgICAgICAgdmFyIHUgPSBjKCk7CiAgICAgICAgICAgICAgICAgIGZvciAocCBpbiBoKSBoW3BdLndyaXRlKHUsIG1bcF0pOwogICAgICAgICAgICAgICAgICBudWxsICE9PSBuICYmIG4ucHVzaChkLCB1KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHU7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYXJnUGFja0FkdmFuY2U6IDgsCiAgICAgICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgICAgIEVhOiBkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBJOiAoKSA9PiB7CiAgICAgICAgfSwKICAgICAgICBZOiAoYSwgYiwgYywgZCkgPT4gewogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYiwKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgcmV0dXJuICEhZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogZnVuY3Rpb24oZSwgZikgewogICAgICAgICAgICAgIHJldHVybiBmID8gYyA6IGQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21XaXJlVHlwZShBW2VdKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgRWE6IG51bGwKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcjogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUsIHYpID0+IHsKICAgICAgICAgIHAgPSBRKHApOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoICYmIChoID0gVChsLCBoKSk7CiAgICAgICAgICBtICYmIChtID0gVChuLCBtKSk7CiAgICAgICAgICB2ID0gVCh1LCB2KTsKICAgICAgICAgIHZhciBnID0gYmIocCk7CiAgICAgICAgICBhYihnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtwfSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIFtkXSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIFAoW2EsIGIsIGNdLCBkID8gW2RdIDogW10sIChxKSA9PiB7CiAgICAgICAgICAgIHEgPSBxWzBdOwogICAgICAgICAgICBpZiAoZCkgewogICAgICAgICAgICAgIHZhciByID0gcS54YTsKICAgICAgICAgICAgICB2YXIgeiA9IHIuTGE7CiAgICAgICAgICAgIH0gZWxzZSB6ID0gWWEucHJvdG90eXBlOwogICAgICAgICAgICBxID0gWmEocCwgZnVuY3Rpb24oLi4uTmEpIHsKICAgICAgICAgICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpICE9PSBOKSB0aHJvdyBuZXcgUigiVXNlICduZXcnIHRvIGNvbnN0cnVjdCAiICsgcCk7CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gRC5IYSkgdGhyb3cgbmV3IFIocCArICIgaGFzIG5vIGFjY2Vzc2libGUgY29uc3RydWN0b3IiKTsKICAgICAgICAgICAgICB2YXIgeGIgPSBELkhhW05hLmxlbmd0aF07CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0geGIpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgICAgYFRyaWVkIHRvIGludm9rZSBjdG9yIG9mICR7cH0gd2l0aCBpbnZhbGlkIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke05hLmxlbmd0aH0pIC0gZXhwZWN0ZWQgKCR7T2JqZWN0LmtleXMoRC5IYSkudG9TdHJpbmcoKX0pIHBhcmFtZXRlcnMgaW5zdGVhZCFgCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHJldHVybiB4Yi5hcHBseSh0aGlzLCBOYSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgTiA9IE9iamVjdC5jcmVhdGUoeiwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogcSB9IH0pOwogICAgICAgICAgICBxLnByb3RvdHlwZSA9IE47CiAgICAgICAgICAgIHZhciBEID0gbmV3IGNiKHAsIHEsIE4sIHYsIHIsIGYsIGgsIG0pOwogICAgICAgICAgICBpZiAoRC5DYSkgewogICAgICAgICAgICAgIHZhciBpYTsKICAgICAgICAgICAgICAoaWEgPSBELkNhKS5XYSA/PyAoaWEuV2EgPSBbXSk7CiAgICAgICAgICAgICAgRC5DYS5XYS5wdXNoKEQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHIgPSBuZXcgamIocCwgRCwgdHJ1ZSwgZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgaWEgPSBuZXcgamIocCArICIqIiwgRCwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7CiAgICAgICAgICAgIHogPSBuZXcgamIocCArICIgY29uc3QqIiwgRCwgZmFsc2UsIHRydWUsIGZhbHNlKTsKICAgICAgICAgICAgUWFbYV0gPSB7IHBvaW50ZXJUeXBlOiBpYSwgJGE6IHogfTsKICAgICAgICAgICAga2IoZywgcSk7CiAgICAgICAgICAgIHJldHVybiBbciwgaWEsIHpdOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBxOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGUgPSBUKGQsIGUpOwogICAgICAgICAgUChbXSwgW2FdLCAoaCkgPT4gewogICAgICAgICAgICBoID0gaFswXTsKICAgICAgICAgICAgdmFyIG4gPSBgY29uc3RydWN0b3IgJHtoLm5hbWV9YDsKICAgICAgICAgICAgdm9pZCAwID09PSBoLnhhLkhhICYmIChoLnhhLkhhID0gW10pOwogICAgICAgICAgICBpZiAodm9pZCAwICE9PSBoLnhhLkhhW2IgLSAxXSkKICAgICAgICAgICAgICB0aHJvdyBuZXcgUigKICAgICAgICAgICAgICAgIGBDYW5ub3QgcmVnaXN0ZXIgbXVsdGlwbGUgY29uc3RydWN0b3JzIHdpdGggaWRlbnRpY2FsIG51bWJlciBvZiBwYXJhbWV0ZXJzICgke2IgLSAxfSkgZm9yIGNsYXNzICcke2gubmFtZX0nISBPdmVybG9hZCByZXNvbHV0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHBlcmZvcm1lZCB1c2luZyB0aGUgcGFyYW1ldGVyIGNvdW50LCBub3QgYWN0dWFsIHR5cGUgaW5mbyFgCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSAoKSA9PiB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjb25zdHJ1Y3QgJHtoLm5hbWV9IGR1ZSB0byB1bmJvdW5kIHR5cGVzYCwgbCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIFAoW10sIGwsIChtKSA9PiB7CiAgICAgICAgICAgICAgbS5zcGxpY2UoMSwgMCwgbnVsbCk7CiAgICAgICAgICAgICAgaC54YS5IYVtiIC0gMV0gPSB0YihuLCBtLCBudWxsLCBlLCBmKTsKICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGY6IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoKSA9PiB7CiAgICAgICAgICB2YXIgbiA9IHJiKGMsIGQpOwogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBiID0gdWIoYik7CiAgICAgICAgICBmID0gVChlLCBmKTsKICAgICAgICAgIFAoW10sIFthXSwgKG0pID0+IHsKICAgICAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgICAgICBxYihgQ2Fubm90IGNhbGwgJHt1fSBkdWUgdG8gdW5ib3VuZCB0eXBlc2AsIG4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG0gPSBtWzBdOwogICAgICAgICAgICB2YXIgdSA9IGAke20ubmFtZX0uJHtifWA7CiAgICAgICAgICAgIGIuc3RhcnRzV2l0aCgiQEAiKSAmJiAoYiA9IFN5bWJvbFtiLnN1YnN0cmluZygyKV0pOwogICAgICAgICAgICBoICYmIG0ueGEua2IucHVzaChiKTsKICAgICAgICAgICAgdmFyIHYgPSBtLnhhLkxhLCBnID0gdltiXTsKICAgICAgICAgICAgdm9pZCAwID09PSBnIHx8IHZvaWQgMCA9PT0gZy5CYSAmJiBnLmNsYXNzTmFtZSAhPT0gbS5uYW1lICYmIGcuT2EgPT09IGMgLSAyID8gKHAuT2EgPSBjIC0gMiwgcC5jbGFzc05hbWUgPSBtLm5hbWUsIHZbYl0gPSBwKSA6ICgkYSh2LCBiLCB1KSwgdltiXS5CYVtjIC0gMl0gPSBwKTsKICAgICAgICAgICAgUChbXSwgbiwgKHEpID0+IHsKICAgICAgICAgICAgICBxID0gdGIodSwgcSwgbSwgZiwgbCk7CiAgICAgICAgICAgICAgdm9pZCAwID09PSB2W2JdLkJhID8gKHEuT2EgPSBjIC0gMiwgdltiXSA9IHEpIDogdltiXS5CYVtjIC0gMl0gPSBxOwogICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgWDogKGEpID0+IE8oYSwgemIpLAogICAgICAgIHg6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBlKCkgewogICAgICAgICAgfQogICAgICAgICAgYiA9IFEoYik7CiAgICAgICAgICBlLnZhbHVlcyA9IHt9OwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBlLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGYpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci52YWx1ZXNbZl07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChmLCBsKSA9PiBsLnZhbHVlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEFiKGIsIGMsIGQpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgICBhYihiLCBlKTsKICAgICAgICB9LAogICAgICAgIGs6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IEJiKGEsICJlbnVtIik7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIGEgPSBkLmNvbnN0cnVjdG9yOwogICAgICAgICAgZCA9IE9iamVjdC5jcmVhdGUoZC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHsKICAgICAgICAgICAgdmFsdWU6IHsgdmFsdWU6IGMgfSwKICAgICAgICAgICAgY29uc3RydWN0b3I6IHsgdmFsdWU6IFphKGAke2QubmFtZX1fJHtifWAsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICB9KSB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGEudmFsdWVzW2NdID0gZDsKICAgICAgICAgIGFbYl0gPSBkOwogICAgICAgIH0sCiAgICAgICAgQzogKGEsIGIsIGMpID0+IHsKICAgICAgICAgIGIgPSBRKGIpOwogICAgICAgICAgTyhhLCB7CiAgICAgICAgICAgIG5hbWU6IGIsCiAgICAgICAgICAgIGZyb21XaXJlVHlwZTogKGQpID0+IGQsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IChkLCBlKSA9PiBlLAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IENiKGIsIGMpLAogICAgICAgICAgICBFYTogbnVsbAogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBFOiAoYSwgYiwgYywgZCwgZSwgZikgPT4gewogICAgICAgICAgdmFyIGwgPSByYihiLCBjKTsKICAgICAgICAgIGEgPSBRKGEpOwogICAgICAgICAgYSA9IHViKGEpOwogICAgICAgICAgZSA9IFQoZCwgZSk7CiAgICAgICAgICBhYigKICAgICAgICAgICAgYSwKICAgICAgICAgICAgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcWIoYENhbm5vdCBjYWxsICR7YX0gZHVlIHRvIHVuYm91bmQgdHlwZXNgLCBsKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYiAtIDEKICAgICAgICAgICk7CiAgICAgICAgICBQKFtdLCBsLCAoaCkgPT4gewogICAgICAgICAgICBrYihhLCB0YihhLCBbaFswXSwgbnVsbF0uY29uY2F0KGguc2xpY2UoMSkpLCBudWxsLCBlLCBmKSwgYiAtIDEpOwogICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGw6IChhLCBiLCBjLCBkLCBlKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIC0xID09PSBlICYmIChlID0gNDI5NDk2NzI5NSk7CiAgICAgICAgICBlID0gKGgpID0+IGg7CiAgICAgICAgICBpZiAoMCA9PT0gZCkgewogICAgICAgICAgICB2YXIgZiA9IDMyIC0gOCAqIGM7CiAgICAgICAgICAgIGUgPSAoaCkgPT4gaCA8PCBmID4+PiBmOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGwgPSBiLmluY2x1ZGVzKCJ1bnNpZ25lZCIpID8gZnVuY3Rpb24oaCwgbikgewogICAgICAgICAgICByZXR1cm4gbiA+Pj4gMDsKICAgICAgICAgIH0gOiBmdW5jdGlvbihoLCBuKSB7CiAgICAgICAgICAgIHJldHVybiBuOwogICAgICAgICAgfTsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGUsCiAgICAgICAgICAgIHRvV2lyZVR5cGU6IGwsCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogRGIoYiwgYywgMCAhPT0gZCksCiAgICAgICAgICAgIEVhOiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGc6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbiBkKGYpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBlKHkuYnVmZmVyLCBGW2YgKyA0ID4+IDJdLCBGW2YgPj4gMl0pOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGUgPSBbSW50OEFycmF5LCBVaW50OEFycmF5LCBJbnQxNkFycmF5LCBVaW50MTZBcnJheSwgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XVtiXTsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgTyhhLCB7IG5hbWU6IGMsIGZyb21XaXJlVHlwZTogZCwgYXJnUGFja0FkdmFuY2U6IDgsIHJlYWRWYWx1ZUZyb21Qb2ludGVyOiBkIH0sIHsgaWI6IHRydWUgfSk7CiAgICAgICAgfSwKICAgICAgICB3OiAoYSkgPT4gewogICAgICAgICAgTyhhLCB6Yik7CiAgICAgICAgfSwKICAgICAgICBjYTogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0sIHAsIHUpID0+IHsKICAgICAgICAgIGMgPSBRKGMpOwogICAgICAgICAgZiA9IFQoZSwgZik7CiAgICAgICAgICBoID0gVChsLCBoKTsKICAgICAgICAgIG0gPSBUKG4sIG0pOwogICAgICAgICAgdSA9IFQocCwgdSk7CiAgICAgICAgICBQKFthXSwgW2JdLCAodikgPT4gewogICAgICAgICAgICB2ID0gdlswXTsKICAgICAgICAgICAgcmV0dXJuIFtuZXcgamIoYywgdi54YSwgZmFsc2UsIGZhbHNlLCB0cnVlLCB2LCBkLCBmLCBoLCBtLCB1KV07CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIEQ6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIHZhciBjID0gInN0ZDo6c3RyaW5nIiA9PT0gYjsKICAgICAgICAgIE8oYSwgewogICAgICAgICAgICBuYW1lOiBiLAogICAgICAgICAgICBmcm9tV2lyZVR5cGU6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICB2YXIgZSA9IEZbZCA+PiAyXSwgZiA9IGQgKyA0OwogICAgICAgICAgICAgIGlmIChjKQogICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IGYsIGggPSAwOyBoIDw9IGU7ICsraCkgewogICAgICAgICAgICAgICAgICB2YXIgbiA9IGYgKyBoOwogICAgICAgICAgICAgICAgICBpZiAoaCA9PSBlIHx8IDAgPT0gQVtuXSkgewogICAgICAgICAgICAgICAgICAgIGwgPSBsID8gSihBLCBsLCBuIC0gbCkgOiAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBtKSB2YXIgbSA9IGw7CiAgICAgICAgICAgICAgICAgICAgZWxzZSBtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gbDsKICAgICAgICAgICAgICAgICAgICBsID0gbiArIDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIG0gPSBBcnJheShlKTsKICAgICAgICAgICAgICAgIGZvciAoaCA9IDA7IGggPCBlOyArK2gpIG1baF0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKEFbZiArIGhdKTsKICAgICAgICAgICAgICAgIG0gPSBtLmpvaW4oIiIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICAgIHJldHVybiBtOwogICAgICAgICAgICB9LAogICAgICAgICAgICB0b1dpcmVUeXBlOiBmdW5jdGlvbihkLCBlKSB7CiAgICAgICAgICAgICAgZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoZSkpOwogICAgICAgICAgICAgIHZhciBmID0gInN0cmluZyIgPT0gdHlwZW9mIGU7CiAgICAgICAgICAgICAgaWYgKCEoZiB8fCBlIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBlIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkgfHwgZSBpbnN0YW5jZW9mIEludDhBcnJheSkpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUigiQ2Fubm90IHBhc3Mgbm9uLXN0cmluZyB0byBzdGQ6OnN0cmluZyIpOwogICAgICAgICAgICAgIHZhciBsID0gYyAmJiBmID8gRGEoZSkgOiBlLmxlbmd0aDsKICAgICAgICAgICAgICB2YXIgaCA9IGJjKDQgKyBsICsgMSksIG4gPSBoICsgNDsKICAgICAgICAgICAgICBGW2ggPj4gMl0gPSBsOwogICAgICAgICAgICAgIGlmIChjICYmIGYpIEVhKGUsIEEsIG4sIGwgKyAxKTsKICAgICAgICAgICAgICBlbHNlIGlmIChmKQogICAgICAgICAgICAgICAgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgewogICAgICAgICAgICAgICAgICB2YXIgbSA9IGUuY2hhckNvZGVBdChmKTsKICAgICAgICAgICAgICAgICAgaWYgKDI1NSA8IG0pIHRocm93IFUobiksIG5ldyBSKCJTdHJpbmcgaGFzIFVURi0xNiBjb2RlIHVuaXRzIHRoYXQgZG8gbm90IGZpdCBpbiA4IGJpdHMiKTsKICAgICAgICAgICAgICAgICAgQVtuICsgZl0gPSBtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UgZm9yIChmID0gMDsgZiA8IGw7ICsrZikgQVtuICsgZl0gPSBlW2ZdOwogICAgICAgICAgICAgIG51bGwgIT09IGQgJiYgZC5wdXNoKFUsIGgpOwogICAgICAgICAgICAgIHJldHVybiBoOwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcmdQYWNrQWR2YW5jZTogOCwKICAgICAgICAgICAgcmVhZFZhbHVlRnJvbVBvaW50ZXI6IEssCiAgICAgICAgICAgIEVhKGQpIHsKICAgICAgICAgICAgICBVKGQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHU6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICBjID0gUShjKTsKICAgICAgICAgIGlmICgyID09PSBiKSB7CiAgICAgICAgICAgIHZhciBkID0gRmI7CiAgICAgICAgICAgIHZhciBlID0gR2I7CiAgICAgICAgICAgIHZhciBmID0gSGI7CiAgICAgICAgICAgIHZhciBsID0gKGgpID0+IENbaCA+PiAxXTsKICAgICAgICAgIH0gZWxzZSA0ID09PSBiICYmIChkID0gSWIsIGUgPSBKYiwgZiA9IEtiLCBsID0gKGgpID0+IEZbaCA+PiAyXSk7CiAgICAgICAgICBPKGEsIHsKICAgICAgICAgICAgbmFtZTogYywKICAgICAgICAgICAgZnJvbVdpcmVUeXBlOiAoaCkgPT4gewogICAgICAgICAgICAgIGZvciAodmFyIG4gPSBGW2ggPj4gMl0sIG0sIHAgPSBoICsgNCwgdSA9IDA7IHUgPD0gbjsgKyt1KSB7CiAgICAgICAgICAgICAgICB2YXIgdiA9IGggKyA0ICsgdSAqIGI7CiAgICAgICAgICAgICAgICBpZiAodSA9PSBuIHx8IDAgPT0gbCh2KSkKICAgICAgICAgICAgICAgICAgcCA9IGQocCwgdiAtIHApLCB2b2lkIDAgPT09IG0gPyBtID0gcCA6IChtICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCksIG0gKz0gcCksIHAgPSB2ICsgYjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgVShoKTsKICAgICAgICAgICAgICByZXR1cm4gbTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG9XaXJlVHlwZTogKGgsIG4pID0+IHsKICAgICAgICAgICAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9mIG4pIHRocm93IG5ldyBSKGBDYW5ub3QgcGFzcyBub24tc3RyaW5nIHRvIEMrKyBzdHJpbmcgdHlwZSAke2N9YCk7CiAgICAgICAgICAgICAgdmFyIG0gPSBmKG4pLCBwID0gYmMoNCArIG0gKyBiKTsKICAgICAgICAgICAgICBGW3AgPj4gMl0gPSBtIC8gYjsKICAgICAgICAgICAgICBlKG4sIHAgKyA0LCBtICsgYik7CiAgICAgICAgICAgICAgbnVsbCAhPT0gaCAmJiBoLnB1c2goVSwgcCk7CiAgICAgICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFyZ1BhY2tBZHZhbmNlOiA4LAogICAgICAgICAgICByZWFkVmFsdWVGcm9tUG9pbnRlcjogSywKICAgICAgICAgICAgRWEoaCkgewogICAgICAgICAgICAgIFUoaCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgczogKGEsIGIsIGMsIGQsIGUsIGYpID0+IHsKICAgICAgICAgIEZhW2FdID0geyBuYW1lOiBRKGIpLCBVYTogVChjLCBkKSwgRmE6IFQoZSwgZiksIFlhOiBbXSB9OwogICAgICAgIH0sCiAgICAgICAgajogKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgIEZhW2FdLllhLnB1c2goeyBiYjogUShiKSwgaGI6IGMsIGZiOiBUKGQsIGUpLCBnYjogZiwgbmI6IGwsIG1iOiBUKGgsIG4pLCBvYjogbSB9KTsKICAgICAgICB9LAogICAgICAgIFo6IChhLCBiKSA9PiB7CiAgICAgICAgICBiID0gUShiKTsKICAgICAgICAgIE8oYSwgeyB1YjogdHJ1ZSwgbmFtZTogYiwgYXJnUGFja0FkdmFuY2U6IDAsIGZyb21XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSwgdG9XaXJlVHlwZTogKCkgPT4gewogICAgICAgICAgfSB9KTsKICAgICAgICB9LAogICAgICAgIEo6ICgpID0+IHsKICAgICAgICAgIHRocm93IEluZmluaXR5OwogICAgICAgIH0sCiAgICAgICAgYWE6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBhID0gTGJbYV07CiAgICAgICAgICBiID0geWIoYik7CiAgICAgICAgICByZXR1cm4gYShudWxsLCBiLCBjLCBkKTsKICAgICAgICB9LAogICAgICAgIEY6IHdiLAogICAgICAgICQ6IChhLCBiLCBjKSA9PiB7CiAgICAgICAgICB2YXIgZCA9IE5iKGEsIGIpLCBlID0gZC5zaGlmdCgpOwogICAgICAgICAgYS0tOwogICAgICAgICAgdmFyIGYgPSBBcnJheShhKTsKICAgICAgICAgIGIgPSBgbWV0aG9kQ2FsbGVyPCgke2QubWFwKChsKSA9PiBsLm5hbWUpLmpvaW4oIiwgIil9KSA9PiAke2UubmFtZX0+YDsKICAgICAgICAgIHJldHVybiBNYigKICAgICAgICAgICAgWmEoYiwgKGwsIGgsIG4sIG0pID0+IHsKICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMCwgdSA9IDA7IHUgPCBhOyArK3UpIGZbdV0gPSBkW3VdLnJlYWRWYWx1ZUZyb21Qb2ludGVyKG0gKyBwKSwgcCArPSBkW3VdLmFyZ1BhY2tBZHZhbmNlOwogICAgICAgICAgICAgIGggPSAxID09PSBjID8gT2IoaCwgZikgOiBoLmFwcGx5KGwsIGYpOwogICAgICAgICAgICAgIGwgPSBbXTsKICAgICAgICAgICAgICBoID0gZS50b1dpcmVUeXBlKGwsIGgpOwogICAgICAgICAgICAgIGwubGVuZ3RoICYmIChGW24gPj4gMl0gPSBoYihsKSk7CiAgICAgICAgICAgICAgcmV0dXJuIGg7CiAgICAgICAgICAgIH0pCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgYmE6IChhKSA9PiB7CiAgICAgICAgICA5IDwgYSAmJiAoVlthICsgMV0gKz0gMSk7CiAgICAgICAgfSwKICAgICAgICBfOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSB5YihhKTsKICAgICAgICAgIEdhKGIpOwogICAgICAgICAgd2IoYSk7CiAgICAgICAgfSwKICAgICAgICBvOiAoYSwgYikgPT4gewogICAgICAgICAgYSA9IEJiKGEsICJfZW12YWxfdGFrZV92YWx1ZSIpOwogICAgICAgICAgYSA9IGEucmVhZFZhbHVlRnJvbVBvaW50ZXIoYik7CiAgICAgICAgICByZXR1cm4gaGIoYSk7CiAgICAgICAgfSwKICAgICAgICBXOiAoKSA9PiB7CiAgICAgICAgICByYSgiIik7CiAgICAgICAgfSwKICAgICAgICBWOiAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSwKICAgICAgICBMOiAoYSkgPT4gewogICAgICAgICAgdmFyIGIgPSBBLmxlbmd0aDsKICAgICAgICAgIGEgPj4+PSAwOwogICAgICAgICAgaWYgKDIxNDc0ODM2NDggPCBhKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICBmb3IgKHZhciBjID0gMTsgNCA+PSBjOyBjICo9IDIpIHsKICAgICAgICAgICAgdmFyIGQgPSBiICogKDEgKyAwLjIgLyBjKTsKICAgICAgICAgICAgZCA9IE1hdGgubWluKGQsIGEgKyAxMDA2NjMyOTYpOwogICAgICAgICAgICB2YXIgZSA9IE1hdGg7CiAgICAgICAgICAgIGQgPSBNYXRoLm1heChhLCBkKTsKICAgICAgICAgICAgYTogewogICAgICAgICAgICAgIGUgPSAoZS5taW4uY2FsbChlLCAyMTQ3NDgzNjQ4LCBkICsgKDY1NTM2IC0gZCAlIDY1NTM2KSAlIDY1NTM2KSAtIGZhLmJ1ZmZlci5ieXRlTGVuZ3RoICsgNjU1MzUpIC8gNjU1MzY7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZhLmdyb3coZSk7CiAgICAgICAgICAgICAgICBsYSgpOwogICAgICAgICAgICAgICAgdmFyIGYgPSAxOwogICAgICAgICAgICAgICAgYnJlYWsgYTsKICAgICAgICAgICAgICB9IGNhdGNoIChsKSB7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGYgPSB2b2lkIDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGYpIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgUzogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gMDsKICAgICAgICAgIFJiKCkuZm9yRWFjaCgoZCwgZSkgPT4gewogICAgICAgICAgICB2YXIgZiA9IGIgKyBjOwogICAgICAgICAgICBlID0gRlthICsgNCAqIGUgPj4gMl0gPSBmOwogICAgICAgICAgICBmb3IgKGYgPSAwOyBmIDwgZC5sZW5ndGg7ICsrZikgeVtlKytdID0gZC5jaGFyQ29kZUF0KGYpOwogICAgICAgICAgICB5W2VdID0gMDsKICAgICAgICAgICAgYyArPSBkLmxlbmd0aCArIDE7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0sCiAgICAgICAgVDogKGEsIGIpID0+IHsKICAgICAgICAgIHZhciBjID0gUmIoKTsKICAgICAgICAgIEZbYSA+PiAyXSA9IGMubGVuZ3RoOwogICAgICAgICAgdmFyIGQgPSAwOwogICAgICAgICAgYy5mb3JFYWNoKChlKSA9PiBkICs9IGUubGVuZ3RoICsgMSk7CiAgICAgICAgICBGW2IgPj4gMl0gPSBkOwogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICB0OiAoKSA9PiA1MiwKICAgICAgICB6OiAoKSA9PiA1MiwKICAgICAgICBIOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiA3MDsKICAgICAgICB9LAogICAgICAgIFE6IChhLCBiLCBjLCBkKSA9PiB7CiAgICAgICAgICBmb3IgKHZhciBlID0gMCwgZiA9IDA7IGYgPCBjOyBmKyspIHsKICAgICAgICAgICAgdmFyIGwgPSBGW2IgPj4gMl0sIGggPSBGW2IgKyA0ID4+IDJdOwogICAgICAgICAgICBiICs9IDg7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgaDsgbisrKSB7CiAgICAgICAgICAgICAgdmFyIG0gPSBBW2wgKyBuXSwgcCA9IFNiW2FdOwogICAgICAgICAgICAgIDAgPT09IG0gfHwgMTAgPT09IG0gPyAoKDEgPT09IGEgPyBlYSA6IHcpKEoocCwgMCkpLCBwLmxlbmd0aCA9IDApIDogcC5wdXNoKG0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGUgKz0gaDsKICAgICAgICAgIH0KICAgICAgICAgIEZbZCA+PiAyXSA9IGU7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIFU6IChhLCBiKSA9PiB7CiAgICAgICAgICBVYihBLnN1YmFycmF5KGEsIGEgKyBiKSk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9LAogICAgICAgIGk6IGNjLAogICAgICAgIGQ6IGRjLAogICAgICAgIGU6IGVjLAogICAgICAgIHA6IGZjLAogICAgICAgIHk6IGdjLAogICAgICAgIGI6IGhjLAogICAgICAgIGE6IGljLAogICAgICAgIGg6IGpjLAogICAgICAgIG46IGtjLAogICAgICAgIEc6IGxjLAogICAgICAgIEs6IChhLCBiLCBjLCBkKSA9PiBaYihhLCBiLCBjLCBkKQogICAgICB9LCBXID0gZnVuY3Rpb24oKSB7CiAgICAgICAgZnVuY3Rpb24gYShjKSB7CiAgICAgICAgICBXID0gYy5leHBvcnRzOwogICAgICAgICAgZmEgPSBXLmRhOwogICAgICAgICAgbGEoKTsKICAgICAgICAgIFMgPSBXLmhhOwogICAgICAgICAgbmEudW5zaGlmdChXLmVhKTsKICAgICAgICAgIEctLTsKICAgICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgICAgMCA9PSBHICYmIChudWxsICE9PSBxYSAmJiAoY2xlYXJJbnRlcnZhbChxYSksIHFhID0gbnVsbCksIEggJiYgKGMgPSBILCBIID0gbnVsbCwgYygpKSk7CiAgICAgICAgICByZXR1cm4gVzsKICAgICAgICB9CiAgICAgICAgdmFyIGIgPSB7IGE6IG1jIH07CiAgICAgICAgRysrOwogICAgICAgIGsubW9uaXRvclJ1bkRlcGVuZGVuY2llcz8uKEcpOwogICAgICAgIGlmIChrLmluc3RhbnRpYXRlV2FzbSkKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBrLmluc3RhbnRpYXRlV2FzbShiLCBhKTsKICAgICAgICAgIH0gY2F0Y2ggKGMpIHsKICAgICAgICAgICAgdyhgTW9kdWxlLmluc3RhbnRpYXRlV2FzbSBjYWxsYmFjayBmYWlsZWQgd2l0aCBlcnJvcjogJHtjfWApLCBiYShjKTsKICAgICAgICAgIH0KICAgICAgICB4YShiLCBmdW5jdGlvbihjKSB7CiAgICAgICAgICBhKGMuaW5zdGFuY2UpOwogICAgICAgIH0pLmNhdGNoKGJhKTsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0oKSwgYmMgPSAoYSkgPT4gKGJjID0gVy5mYSkoYSksIG9iID0gKGEpID0+IChvYiA9IFcuZ2EpKGEpLCBVID0gKGEpID0+IChVID0gVy5pYSkoYSksIFggPSAoYSwgYikgPT4gKFggPSBXLmphKShhLCBiKSwgWSA9IChhKSA9PiAoWSA9IFcua2EpKGEpLCBaID0gKCkgPT4gKFogPSBXLmxhKSgpOwogICAgICBrLmR5bkNhbGxfaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAoay5keW5DYWxsX2lpamogPSBXLm5hKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX3ZpamogPSAoYSwgYiwgYywgZCwgZSwgZikgPT4gKGsuZHluQ2FsbF92aWpqID0gVy5vYSkoYSwgYiwgYywgZCwgZSwgZik7CiAgICAgIGsuZHluQ2FsbF9qaWlpID0gKGEsIGIsIGMsIGQpID0+IChrLmR5bkNhbGxfamlpaSA9IFcucGEpKGEsIGIsIGMsIGQpOwogICAgICBrLmR5bkNhbGxfamlpID0gKGEsIGIsIGMpID0+IChrLmR5bkNhbGxfamlpID0gVy5xYSkoYSwgYiwgYyk7CiAgICAgIHZhciBuYyA9IGsuZHluQ2FsbF92aWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmKSA9PiAobmMgPSBrLmR5bkNhbGxfdmlpaWogPSBXLnJhKShhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgay5keW5DYWxsX2ppamkgPSAoYSwgYiwgYywgZCwgZSkgPT4gKGsuZHluQ2FsbF9qaWppID0gVy5zYSkoYSwgYiwgYywgZCwgZSk7CiAgICAgIGsuZHluQ2FsbF92aWlqaWkgPSAoYSwgYiwgYywgZCwgZSwgZiwgbCkgPT4gKGsuZHluQ2FsbF92aWlqaWkgPSBXLnRhKShhLCBiLCBjLCBkLCBlLCBmLCBsKTsKICAgICAgay5keW5DYWxsX2lpaWlpaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsKSA9PiAoay5keW5DYWxsX2lpaWlpaiA9IFcudWEpKGEsIGIsIGMsIGQsIGUsIGYsIGwpOwogICAgICBrLmR5bkNhbGxfaWlpaWlqaiA9IChhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKSA9PiAoay5keW5DYWxsX2lpaWlpamogPSBXLnZhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuKTsKICAgICAgay5keW5DYWxsX2lpaWlpaWpqID0gKGEsIGIsIGMsIGQsIGUsIGYsIGwsIGgsIG4sIG0pID0+IChrLmR5bkNhbGxfaWlpaWlpamogPSBXLndhKShhLCBiLCBjLCBkLCBlLCBmLCBsLCBoLCBuLCBtKTsKICAgICAgZnVuY3Rpb24gaGMoYSwgYikgewogICAgICAgIHZhciBjID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaWMoYSwgYiwgYykgewogICAgICAgIHZhciBkID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBTLmdldChhKShiLCBjKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBZKGQpOwogICAgICAgICAgaWYgKGUgIT09IGUgKyAwKSB0aHJvdyBlOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZWMoYSwgYiwgYywgZCkgewogICAgICAgIHZhciBlID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGRjKGEsIGIsIGMpIHsKICAgICAgICB2YXIgZCA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIFMuZ2V0KGEpKGIsIGMpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIFkoZCk7CiAgICAgICAgICBpZiAoZSAhPT0gZSArIDApIHRocm93IGU7CiAgICAgICAgICBYKDEsIDApOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBjYyhhLCBiKSB7CiAgICAgICAgdmFyIGMgPSBaKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBTLmdldChhKShiKTsKICAgICAgICB9IGNhdGNoIChkKSB7CiAgICAgICAgICBZKGMpOwogICAgICAgICAgaWYgKGQgIT09IGQgKyAwKSB0aHJvdyBkOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gZmMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gUy5nZXQoYSkoYiwgYywgZCwgZSwgZik7CiAgICAgICAgfSBjYXRjaCAoaCkgewogICAgICAgICAgWShsKTsKICAgICAgICAgIGlmIChoICE9PSBoICsgMCkgdGhyb3cgaDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGtjKGEsIGIsIGMsIGQsIGUpIHsKICAgICAgICB2YXIgZiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCwgZSk7CiAgICAgICAgfSBjYXRjaCAobCkgewogICAgICAgICAgWShmKTsKICAgICAgICAgIGlmIChsICE9PSBsICsgMCkgdGhyb3cgbDsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGpjKGEsIGIsIGMsIGQpIHsKICAgICAgICB2YXIgZSA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoYiwgYywgZCk7CiAgICAgICAgfSBjYXRjaCAoZikgewogICAgICAgICAgWShlKTsKICAgICAgICAgIGlmIChmICE9PSBmICsgMCkgdGhyb3cgZjsKICAgICAgICAgIFgoMSwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGdjKGEpIHsKICAgICAgICB2YXIgYiA9IFooKTsKICAgICAgICB0cnkgewogICAgICAgICAgUy5nZXQoYSkoKTsKICAgICAgICB9IGNhdGNoIChjKSB7CiAgICAgICAgICBZKGIpOwogICAgICAgICAgaWYgKGMgIT09IGMgKyAwKSB0aHJvdyBjOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gbGMoYSwgYiwgYywgZCwgZSwgZikgewogICAgICAgIHZhciBsID0gWigpOwogICAgICAgIHRyeSB7CiAgICAgICAgICBuYyhhLCBiLCBjLCBkLCBlLCBmKTsKICAgICAgICB9IGNhdGNoIChoKSB7CiAgICAgICAgICBZKGwpOwogICAgICAgICAgaWYgKGggIT09IGggKyAwKSB0aHJvdyBoOwogICAgICAgICAgWCgxLCAwKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdmFyIG9jOwogICAgICBIID0gZnVuY3Rpb24gcGMoKSB7CiAgICAgICAgb2MgfHwgcWMoKTsKICAgICAgICBvYyB8fCAoSCA9IHBjKTsKICAgICAgfTsKICAgICAgZnVuY3Rpb24gcWMoKSB7CiAgICAgICAgZnVuY3Rpb24gYSgpIHsKICAgICAgICAgIGlmICghb2MgJiYgKG9jID0gdHJ1ZSwgay5jYWxsZWRSdW4gPSB0cnVlLCAhaGEpKSB7CiAgICAgICAgICAgIHlhKG5hKTsKICAgICAgICAgICAgYWEoayk7CiAgICAgICAgICAgIGlmIChrLm9uUnVudGltZUluaXRpYWxpemVkKSBrLm9uUnVudGltZUluaXRpYWxpemVkKCk7CiAgICAgICAgICAgIGlmIChrLnBvc3RSdW4pCiAgICAgICAgICAgICAgZm9yICgiZnVuY3Rpb24iID09IHR5cGVvZiBrLnBvc3RSdW4gJiYgKGsucG9zdFJ1biA9IFtrLnBvc3RSdW5dKTsgay5wb3N0UnVuLmxlbmd0aDsgKSB7CiAgICAgICAgICAgICAgICB2YXIgYiA9IGsucG9zdFJ1bi5zaGlmdCgpOwogICAgICAgICAgICAgICAgb2EudW5zaGlmdChiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIHlhKG9hKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCEoMCA8IEcpKSB7CiAgICAgICAgICBpZiAoay5wcmVSdW4pIGZvciAoImZ1bmN0aW9uIiA9PSB0eXBlb2Ygay5wcmVSdW4gJiYgKGsucHJlUnVuID0gW2sucHJlUnVuXSk7IGsucHJlUnVuLmxlbmd0aDsgKSBwYSgpOwogICAgICAgICAgeWEobWEpOwogICAgICAgICAgMCA8IEcgfHwgKGsuc2V0U3RhdHVzID8gKGsuc2V0U3RhdHVzKCJSdW5uaW5nLi4uIiksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgay5zZXRTdGF0dXMoIiIpOwogICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgYSgpOwogICAgICAgICAgfSwgMSkpIDogYSgpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGsucHJlSW5pdCkKICAgICAgICBmb3IgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGsucHJlSW5pdCAmJiAoay5wcmVJbml0ID0gW2sucHJlSW5pdF0pOyAwIDwgay5wcmVJbml0Lmxlbmd0aDsgKSBrLnByZUluaXQucG9wKCkoKTsKICAgICAgcWMoKTsKICAgICAgcmV0dXJuIHJlYWR5UHJvbWlzZTsKICAgIH07CiAgfSkoKTsKICB2YXIgZG90bG90dGllX3BsYXllcl9kZWZhdWx0ID0gY3JlYXRlRG90TG90dGllUGxheWVyTW9kdWxlOwoKICAvLyBzcmMvY29yZS9kb3Rsb3R0aWUtd2FzbS1sb2FkZXIudHMKICB2YXIgRG90TG90dGllV2FzbUxvYWRlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIlJlbmRlcmVyTG9hZGVyIGlzIGEgc3RhdGljIGNsYXNzIGFuZCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkLiIpOwogICAgfQogICAgc3RhdGljIGFzeW5jIF90cnlMb2FkKHVybCkgewogICAgICBjb25zdCBtb2R1bGUgPSBhd2FpdCBkb3Rsb3R0aWVfcGxheWVyX2RlZmF1bHQoeyBsb2NhdGVGaWxlOiAoKSA9PiB1cmwgfSk7CiAgICAgIHJldHVybiBtb2R1bGU7CiAgICB9CiAgICAvKioKICAgICAqIFRyaWVzIHRvIGxvYWQgdGhlIFdBU00gbW9kdWxlIGZyb20gdGhlIHByaW1hcnkgVVJMLCBmYWxsaW5nIGJhY2sgdG8gYSBiYWNrdXAgVVJMIGlmIG5lY2Vzc2FyeS4KICAgICAqIFRocm93cyBhbiBlcnJvciBpZiBib3RoIFVSTHMgZmFpbCB0byBsb2FkIHRoZSBtb2R1bGUuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIF9sb2FkV2l0aEJhY2t1cCgpIHsKICAgICAgaWYgKCF0aGlzLl9Nb2R1bGVQcm9taXNlKSB7CiAgICAgICAgdGhpcy5fTW9kdWxlUHJvbWlzZSA9IHRoaXMuX3RyeUxvYWQodGhpcy5fd2FzbVVSTCkuY2F0Y2goYXN5bmMgKGluaXRpYWxFcnJvcikgPT4gewogICAgICAgICAgY29uc3QgYmFja3VwVXJsID0gYGh0dHBzOi8vdW5wa2cuY29tLyR7UEFDS0FHRV9OQU1FfUAke1BBQ0tBR0VfVkVSU0lPTn0vZGlzdC9kb3Rsb3R0aWUtcGxheWVyLndhc21gOwogICAgICAgICAgY29uc29sZS53YXJuKGBQcmltYXJ5IFdBU00gbG9hZCBmYWlsZWQgZnJvbSAke3RoaXMuX3dhc21VUkx9LiBFcnJvcjogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgIGNvbnNvbGUud2FybihgQXR0ZW1wdGluZyB0byBsb2FkIFdBU00gZnJvbSBiYWNrdXAgVVJMOiAke2JhY2t1cFVybH1gKTsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl90cnlMb2FkKGJhY2t1cFVybCk7CiAgICAgICAgICB9IGNhdGNoIChiYWNrdXBFcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcmltYXJ5IFdBU00gVVJMIGZhaWxlZDogJHtpbml0aWFsRXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQmFja3VwIFdBU00gVVJMIGZhaWxlZDogJHtiYWNrdXBFcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIldBU00gbG9hZGluZyBmYWlsZWQgZnJvbSBhbGwgc291cmNlcy4iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fTW9kdWxlUHJvbWlzZTsKICAgIH0KICAgIC8qKgogICAgICogUHVibGljIG1ldGhvZCB0byBsb2FkIHRoZSBXZWJBc3NlbWJseSBtb2R1bGUuCiAgICAgKiBVdGlsaXplcyBhIHByaW1hcnkgYW5kIGJhY2t1cCBVUkwgZm9yIHJvYnVzdG5lc3MuCiAgICAgKiBAcmV0dXJucyBQcm9taXNlPE1vZHVsZT4gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbG9hZGVkIG1vZHVsZS4KICAgICAqLwogICAgc3RhdGljIGFzeW5jIGxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9sb2FkV2l0aEJhY2t1cCgpOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGEgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZSBhbmQgaW52YWxpZGF0ZXMgdGhlIGN1cnJlbnQgbW9kdWxlIHByb21pc2UuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAtICBUaGUgbmV3IFVSTCBmb3IgdGhlIFdBU00gZmlsZS4KICAgICAqLwogICAgc3RhdGljIHNldFdhc21VcmwodXJsKSB7CiAgICAgIHRoaXMuX3dhc21VUkwgPSB1cmw7CiAgICAgIHRoaXMuX01vZHVsZVByb21pc2UgPSBudWxsOwogICAgfQogIH07CiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbgogIF9fcHVibGljRmllbGQoRG90TG90dGllV2FzbUxvYWRlciwgIl9Nb2R1bGVQcm9taXNlIiwgbnVsbCk7CiAgLy8gVVJMIGZvciB0aGUgV0FTTSBmaWxlLCBjb25zdHJ1Y3RlZCB1c2luZyBwYWNrYWdlIGluZm9ybWF0aW9uCiAgX19wdWJsaWNGaWVsZChEb3RMb3R0aWVXYXNtTG9hZGVyLCAiX3dhc21VUkwiLCBgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS8ke1BBQ0tBR0VfTkFNRX1AJHtQQUNLQUdFX1ZFUlNJT059L2Rpc3QvZG90bG90dGllLXBsYXllci53YXNtYCk7CgogIC8vIHNyYy9ldmVudC1tYW5hZ2VyLnRzCiAgdmFyIEV2ZW50TWFuYWdlciA9IGNsYXNzIHsKICAgIGNvbnN0cnVjdG9yKCkgewogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRMaXN0ZW5lcnMiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTsKICAgIH0KICAgIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldCh0eXBlKTsKICAgICAgaWYgKCFsaXN0ZW5lcnMpIHsKICAgICAgICBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpOwogICAgICAgIHRoaXMuX2V2ZW50TGlzdGVuZXJzLnNldCh0eXBlLCBsaXN0ZW5lcnMpOwogICAgICB9CiAgICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogICAgfQogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudExpc3RlbmVycy5nZXQodHlwZSk7CiAgICAgIGlmICghbGlzdGVuZXJzKSByZXR1cm47CiAgICAgIGlmIChsaXN0ZW5lcikgewogICAgICAgIGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpOwogICAgICAgIGlmIChsaXN0ZW5lcnMuc2l6ZSA9PT0gMCkgewogICAgICAgICAgdGhpcy5fZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKHR5cGUpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5kZWxldGUodHlwZSk7CiAgICAgIH0KICAgIH0KICAgIGRpc3BhdGNoKGV2ZW50KSB7CiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50TGlzdGVuZXJzLmdldChldmVudC50eXBlKTsKICAgICAgbGlzdGVuZXJzPy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIoZXZlbnQpKTsKICAgIH0KICAgIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCkgewogICAgICB0aGlzLl9ldmVudExpc3RlbmVycy5jbGVhcigpOwogICAgfQogIH07CgogIC8vIHNyYy91dGlscy50cwogIGZ1bmN0aW9uIGlzSGV4Q29sb3IoY29sb3IpIHsKICAgIHJldHVybiAvXiMoW1xkYS1mXXs2fXxbXGRhLWZdezh9KSQvaXUudGVzdChjb2xvcik7CiAgfQogIGZ1bmN0aW9uIGhleFN0cmluZ1RvUkdCQUludChjb2xvckhleCkgewogICAgaWYgKCFpc0hleENvbG9yKGNvbG9ySGV4KSkgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGxldCBoZXggPSBjb2xvckhleC5yZXBsYWNlKCIjIiwgIiIpOwogICAgaGV4ID0gaGV4Lmxlbmd0aCA9PT0gNiA/IGAke2hleH1mZmAgOiBoZXg7CiAgICByZXR1cm4gcGFyc2VJbnQoaGV4LCAxNik7CiAgfQogIGZ1bmN0aW9uIGlzRG90TG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAoZmlsZURhdGEuYnl0ZUxlbmd0aCA8IDQpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgY29uc3QgZmlsZVNpZ25hdHVyZSA9IG5ldyBVaW50OEFycmF5KGZpbGVEYXRhLnNsaWNlKDAsIFpJUF9TSUdOQVRVUkUuYnl0ZUxlbmd0aCkpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBaSVBfU0lHTkFUVVJFLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgIGlmIChaSVBfU0lHTkFUVVJFW2ldICE9PSBmaWxlU2lnbmF0dXJlW2ldKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gaXNMb3R0aWVKU09OKGpzb24pIHsKICAgIHJldHVybiBMT1RUSUVfSlNPTl9NQU5EQVRPUllfRklFTERTLmV2ZXJ5KChmaWVsZCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIGZpZWxkKSk7CiAgfQogIGZ1bmN0aW9uIGlzTG90dGllKGZpbGVEYXRhKSB7CiAgICBpZiAodHlwZW9mIGZpbGVEYXRhID09PSAic3RyaW5nIikgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBpc0xvdHRpZUpTT04oSlNPTi5wYXJzZShmaWxlRGF0YSkpOwogICAgICB9IGNhdGNoIChfZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGlzTG90dGllSlNPTihmaWxlRGF0YSk7CiAgICB9CiAgfQoKICAvLyBzcmMvZG90bG90dGllLnRzCiAgdmFyIGNyZWF0ZUNvcmVNb2RlID0gKG1vZGUsIG1vZHVsZSkgPT4gewogICAgaWYgKG1vZGUgPT09ICJyZXZlcnNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gImJvdW5jZSIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5Nb2RlLkJvdW5jZTsKICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gInJldmVyc2UtYm91bmNlIikgewogICAgICByZXR1cm4gbW9kdWxlLk1vZGUuUmV2ZXJzZUJvdW5jZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuTW9kZS5Gb3J3YXJkOwogICAgfQogIH07CiAgdmFyIGNyZWF0ZUNvcmVGaXQgPSAoZml0LCBtb2R1bGUpID0+IHsKICAgIGlmIChmaXQgPT09ICJjb250YWluIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5Db250YWluOwogICAgfSBlbHNlIGlmIChmaXQgPT09ICJjb3ZlciIpIHsKICAgICAgcmV0dXJuIG1vZHVsZS5GaXQuQ292ZXI7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpbGwiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpbGw7CiAgICB9IGVsc2UgaWYgKGZpdCA9PT0gImZpdC1oZWlnaHQiKSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0LkZpdEhlaWdodDsKICAgIH0gZWxzZSBpZiAoZml0ID09PSAiZml0LXdpZHRoIikgewogICAgICByZXR1cm4gbW9kdWxlLkZpdC5GaXRXaWR0aDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBtb2R1bGUuRml0Lk5vbmU7CiAgICB9CiAgfTsKICB2YXIgY3JlYXRlQ29yZUFsaWduID0gKGFsaWduLCBtb2R1bGUpID0+IHsKICAgIGNvbnN0IGNvcmVBbGlnbiA9IG5ldyBtb2R1bGUuVmVjdG9yRmxvYXQoKTsKICAgIGNvcmVBbGlnbi5wdXNoX2JhY2soYWxpZ25bMF0pOwogICAgY29yZUFsaWduLnB1c2hfYmFjayhhbGlnblsxXSk7CiAgICByZXR1cm4gY29yZUFsaWduOwogIH07CiAgdmFyIGNyZWF0ZUNvcmVTZWdtZW50ID0gKHNlZ21lbnQsIG1vZHVsZSkgPT4gewogICAgY29uc3QgY29yZXNlZ21lbnQgPSBuZXcgbW9kdWxlLlZlY3RvckZsb2F0KCk7CiAgICBpZiAoc2VnbWVudC5sZW5ndGggIT09IDIpIHJldHVybiBjb3Jlc2VnbWVudDsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzBdKTsKICAgIGNvcmVzZWdtZW50LnB1c2hfYmFjayhzZWdtZW50WzFdKTsKICAgIHJldHVybiBjb3Jlc2VnbWVudDsKICB9OwogIHZhciBfRG90TG90dGllID0gY2xhc3MgX0RvdExvdHRpZSB7CiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2NhbnZhcyIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfY29udGV4dCIsIG51bGwpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfZXZlbnRNYW5hZ2VyIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9hbmltYXRpb25GcmFtZUlkIiwgbnVsbCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9mcmFtZU1hbmFnZXIiKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2RvdExvdHRpZUNvcmUiLCBudWxsKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX3JlbmRlckNvbmZpZyIsIHt9KTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX2lzRnJvemVuIiwgZmFsc2UpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfYmFja2dyb3VuZENvbG9yIiwgbnVsbCk7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyVXBNZXRob2QiKTsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiX3BvaW50ZXJEb3duTWV0aG9kIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyTW92ZU1ldGhvZCIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfcG9pbnRlckVudGVyTWV0aG9kIik7CiAgICAgIF9fcHVibGljRmllbGQodGhpcywgIl9wb2ludGVyRXhpdE1ldGhvZCIpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJfb25Db21wbGV0ZU1ldGhvZCIpOwogICAgICB0aGlzLl9jYW52YXMgPSBjb25maWcuY2FudmFzOwogICAgICB0aGlzLl9jb250ZXh0ID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlciA9IG5ldyBFdmVudE1hbmFnZXIoKTsKICAgICAgdGhpcy5fZnJhbWVNYW5hZ2VyID0gbmV3IEFuaW1hdGlvbkZyYW1lTWFuYWdlcigpOwogICAgICB0aGlzLl9yZW5kZXJDb25maWcgPSBjb25maWcucmVuZGVyQ29uZmlnID8/IHt9OwogICAgICBEb3RMb3R0aWVXYXNtTG9hZGVyLmxvYWQoKS50aGVuKChtb2R1bGUpID0+IHsKICAgICAgICBfRG90TG90dGllLl93YXNtTW9kdWxlID0gbW9kdWxlOwogICAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUgPSBuZXcgbW9kdWxlLkRvdExvdHRpZVBsYXllcih7CiAgICAgICAgICBhdXRvcGxheTogY29uZmlnLmF1dG9wbGF5ID8/IGZhbHNlLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAwLAogICAgICAgICAgbG9vcEFuaW1hdGlvbjogY29uZmlnLmxvb3AgPz8gZmFsc2UsCiAgICAgICAgICBtb2RlOiBjcmVhdGVDb3JlTW9kZShjb25maWcubW9kZSA/PyAiZm9yd2FyZCIsIG1vZHVsZSksCiAgICAgICAgICBzZWdtZW50OiBjcmVhdGVDb3JlU2VnbWVudChjb25maWcuc2VnbWVudCA/PyBbXSwgbW9kdWxlKSwKICAgICAgICAgIHNwZWVkOiBjb25maWcuc3BlZWQgPz8gMSwKICAgICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbjogY29uZmlnLnVzZUZyYW1lSW50ZXJwb2xhdGlvbiA/PyB0cnVlLAogICAgICAgICAgbWFya2VyOiBjb25maWcubWFya2VyID8/ICIiLAogICAgICAgICAgbGF5b3V0OiBjb25maWcubGF5b3V0ID8gewogICAgICAgICAgICBhbGlnbjogY3JlYXRlQ29yZUFsaWduKGNvbmZpZy5sYXlvdXQuYWxpZ24sIG1vZHVsZSksCiAgICAgICAgICAgIGZpdDogY3JlYXRlQ29yZUZpdChjb25maWcubGF5b3V0LmZpdCwgbW9kdWxlKQogICAgICAgICAgfSA6IG1vZHVsZS5jcmVhdGVEZWZhdWx0TGF5b3V0KCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAicmVhZHkiIH0pOwogICAgICAgIGlmIChjb25maWcuZGF0YSkgewogICAgICAgICAgdGhpcy5fbG9hZEZyb21EYXRhKGNvbmZpZy5kYXRhKTsKICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zcmMpIHsKICAgICAgICAgIHRoaXMuX2xvYWRGcm9tU3JjKGNvbmZpZy5zcmMpOwogICAgICAgIH0KICAgICAgICBpZiAoY29uZmlnLmJhY2tncm91bmRDb2xvcikgewogICAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoY29uZmlnLmJhY2tncm91bmRDb2xvcik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogImxvYWRFcnJvciIsCiAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCB3YXNtIG1vZHVsZTogJHtlcnJvcn1gKQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5fcG9pbnRlclVwTWV0aG9kID0gdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKTsKICAgICAgdGhpcy5fcG9pbnRlckRvd25NZXRob2QgPSB0aGlzLl9vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuX3BvaW50ZXJNb3ZlTWV0aG9kID0gdGhpcy5fb25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QgPSB0aGlzLl9vblBvaW50ZXJFbnRlci5iaW5kKHRoaXMpOwogICAgICB0aGlzLl9wb2ludGVyRXhpdE1ldGhvZCA9IHRoaXMuX29uUG9pbnRlckxlYXZlLmJpbmQodGhpcyk7CiAgICAgIHRoaXMuX29uQ29tcGxldGVNZXRob2QgPSB0aGlzLl9vbkNvbXBsZXRlLmJpbmQodGhpcyk7CiAgICB9CiAgICBfZGlzcGF0Y2hFcnJvcihtZXNzYWdlKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJsb2FkRXJyb3IiLCBlcnJvcjogbmV3IEVycm9yKG1lc3NhZ2UpIH0pOwogICAgfQogICAgYXN5bmMgX2ZldGNoRGF0YShzcmMpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzcmMpOwogICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYW5pbWF0aW9uIGRhdGEgZnJvbSBVUkw6ICR7c3JjfS4gJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7CiAgICAgIH0KICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7CiAgICAgIGlmIChpc0RvdExvdHRpZShkYXRhKSkgewogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGF0YSk7CiAgICB9CiAgICBfbG9hZEZyb21EYXRhKGRhdGEpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwpIHJldHVybjsKICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX2NhbnZhcy5oZWlnaHQ7CiAgICAgIGxldCBsb2FkZWQgPSBmYWxzZTsKICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAic3RyaW5nIikgewogICAgICAgIGlmICghaXNMb3R0aWUoZGF0YSkpIHsKICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXJyb3IoCiAgICAgICAgICAgICJJbnZhbGlkIExvdHRpZSBKU09OIHN0cmluZzogVGhlIHByb3ZpZGVkIHN0cmluZyBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBMb3R0aWUgSlNPTiBmb3JtYXQuIgogICAgICAgICAgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbG9hZGVkID0gdGhpcy5fZG90TG90dGllQ29yZS5sb2FkQW5pbWF0aW9uRGF0YShkYXRhLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHsKICAgICAgICBpZiAoIWlzRG90TG90dGllKGRhdGEpKSB7CiAgICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKAogICAgICAgICAgICAiSW52YWxpZCBkb3RMb3R0aWUgQXJyYXlCdWZmZXI6IFRoZSBwcm92aWRlZCBBcnJheUJ1ZmZlciBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBkb3RMb3R0aWUgZm9ybWF0LiIKICAgICAgICAgICk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxvYWRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUubG9hZERvdExvdHRpZURhdGEoZGF0YSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICJvYmplY3QiKSB7CiAgICAgICAgaWYgKCFpc0xvdHRpZShkYXRhKSkgewogICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFcnJvcigKICAgICAgICAgICAgIkludmFsaWQgTG90dGllIEpTT04gb2JqZWN0OiBUaGUgcHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIExvdHRpZSBKU09OIGZvcm1hdC4iCiAgICAgICAgICApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRBbmltYXRpb25EYXRhKEpTT04uc3RyaW5naWZ5KGRhdGEpLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKAogICAgICAgICAgYFVuc3VwcG9ydGVkIGRhdGEgdHlwZSBmb3IgYW5pbWF0aW9uIGRhdGEuIEV4cGVjdGVkOiAKICAgICAgICAgIC0gc3RyaW5nIChMb3R0aWUgSlNPTiksCiAgICAgICAgICAtIEFycmF5QnVmZmVyIChkb3RMb3R0aWUpLAogICAgICAgICAgLSBvYmplY3QgKExvdHRpZSBKU09OKS4gCiAgICAgICAgICBSZWNlaXZlZDogJHt0eXBlb2YgZGF0YX1gCiAgICAgICAgKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGxvYWRlZCkgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJsb2FkIiB9KTsKICAgICAgICBpZiAoSVNfQlJPV1NFUikgewogICAgICAgICAgdGhpcy5yZXNpemUoKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJmcmFtZSIsCiAgICAgICAgICBjdXJyZW50RnJhbWU6IHRoaXMuX2RvdExvdHRpZUNvcmUuY3VycmVudEZyYW1lKCkKICAgICAgICB9KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKS5hdXRvcGxheSkgewogICAgICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5wbGF5KCk7CiAgICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5pc1BsYXlpbmcoKSkgewogICAgICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAicGxheSIgfSk7CiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJzb21ldGhpbmcgd2VudCB3cm9uZywgdGhlIGFuaW1hdGlvbiB3YXMgc3VwcG9zZSB0byBhdXRvcGxheSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLl9kaXNwYXRjaEVycm9yKCJGYWlsZWQgdG8gbG9hZCBhbmltYXRpb24gZGF0YSIpOwogICAgICB9CiAgICB9CiAgICBfbG9hZEZyb21TcmMoc3JjKSB7CiAgICAgIHRoaXMuX2ZldGNoRGF0YShzcmMpLnRoZW4oKGRhdGEpID0+IHRoaXMuX2xvYWRGcm9tRGF0YShkYXRhKSkuY2F0Y2goKGVycm9yKSA9PiB0aGlzLl9kaXNwYXRjaEVycm9yKGBGYWlsZWQgdG8gbG9hZCBhbmltYXRpb24gZGF0YSBmcm9tIFVSTDogJHtzcmN9LiAke2Vycm9yfWApKTsKICAgIH0KICAgIGdldCBhY3RpdmVBbmltYXRpb25JZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmFjdGl2ZUFuaW1hdGlvbklkKCk7CiAgICB9CiAgICBnZXQgYWN0aXZlVGhlbWVJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmFjdGl2ZVRoZW1lSWQoKTsKICAgIH0KICAgIGdldCBsYXlvdXQoKSB7CiAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmxheW91dDsKICAgICAgaWYgKGxheW91dCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhbGlnbjogW2xheW91dC5hbGlnbi5nZXQoMCksIGxheW91dC5hbGlnbi5nZXQoMSldLAogICAgICAgICAgZml0OiAoKCkgPT4gewogICAgICAgICAgICBzd2l0Y2ggKGxheW91dC5maXQpIHsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5Db250YWluOgogICAgICAgICAgICAgICAgcmV0dXJuICJjb250YWluIjsKICAgICAgICAgICAgICBjYXNlIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/LkZpdC5Db3ZlcjoKICAgICAgICAgICAgICAgIHJldHVybiAiY292ZXIiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0LkZpbGw6CiAgICAgICAgICAgICAgICByZXR1cm4gImZpbGwiOwogICAgICAgICAgICAgIGNhc2UgX0RvdExvdHRpZS5fd2FzbU1vZHVsZT8uRml0LkZpdEhlaWdodDoKICAgICAgICAgICAgICAgIHJldHVybiAiZml0LWhlaWdodCI7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuRml0V2lkdGg6CiAgICAgICAgICAgICAgICByZXR1cm4gImZpdC13aWR0aCI7CiAgICAgICAgICAgICAgY2FzZSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5GaXQuTm9uZToKICAgICAgICAgICAgICAgIHJldHVybiAibm9uZSI7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiAiY29udGFpbiI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKCkKICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiB2b2lkIDA7CiAgICB9CiAgICBnZXQgbWFya2VyKCkgewogICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jb25maWcoKS5tYXJrZXI7CiAgICAgIHJldHVybiBtYXJrZXI7CiAgICB9CiAgICBnZXQgbWFuaWZlc3QoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgbWFuaWZlc3QgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5tYW5pZmVzdFN0cmluZygpOwogICAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8ICFtYW5pZmVzdCkgcmV0dXJuIG51bGw7CiAgICAgICAgY29uc3QgbWFuaWZlc3RKc29uID0gSlNPTi5wYXJzZShtYW5pZmVzdCk7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hbmlmZXN0SnNvbikubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gbWFuaWZlc3RKc29uOwogICAgICB9IGNhdGNoIChfZXJyKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICAgIGdldCByZW5kZXJDb25maWcoKSB7CiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJDb25maWc7CiAgICB9CiAgICBnZXQgc2VnbWVudCgpIHsKICAgICAgY29uc3Qgc2VnbWVudCA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnNlZ21lbnQ7CiAgICAgIGlmIChzZWdtZW50ICYmIHNlZ21lbnQuc2l6ZSgpID09PSAyKSB7CiAgICAgICAgcmV0dXJuIFtzZWdtZW50LmdldCgwKSwgc2VnbWVudC5nZXQoMSldOwogICAgICB9CiAgICAgIHJldHVybiB2b2lkIDA7CiAgICB9CiAgICBnZXQgbG9vcCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmxvb3BBbmltYXRpb24gPz8gZmFsc2U7CiAgICB9CiAgICBnZXQgbW9kZSgpIHsKICAgICAgY29uc3QgbW9kZSA9IHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLm1vZGU7CiAgICAgIGlmIChtb2RlID09PSBfRG90TG90dGllLl93YXNtTW9kdWxlPy5Nb2RlLlJldmVyc2UpIHsKICAgICAgICByZXR1cm4gInJldmVyc2UiOwogICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/Lk1vZGUuQm91bmNlKSB7CiAgICAgICAgcmV0dXJuICJib3VuY2UiOwogICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGU/Lk1vZGUuUmV2ZXJzZUJvdW5jZSkgewogICAgICAgIHJldHVybiAicmV2ZXJzZS1ib3VuY2UiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiZm9yd2FyZCI7CiAgICAgIH0KICAgIH0KICAgIGdldCBpc0Zyb3plbigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2lzRnJvemVuOwogICAgfQogICAgZ2V0IGJhY2tncm91bmRDb2xvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvciA/PyAiIjsKICAgIH0KICAgIGdldCBhdXRvcGxheSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLmF1dG9wbGF5ID8/IGZhbHNlOwogICAgfQogICAgZ2V0IHVzZUZyYW1lSW50ZXJwb2xhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnVzZUZyYW1lSW50ZXJwb2xhdGlvbiA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBzcGVlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmNvbmZpZygpLnNwZWVkID8/IDA7CiAgICB9CiAgICBnZXQgaXNSZWFkeSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmUgIT09IG51bGw7CiAgICB9CiAgICBnZXQgaXNMb2FkZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5pc0xvYWRlZCgpID8/IGZhbHNlOwogICAgfQogICAgZ2V0IGlzUGxheWluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmlzUGxheWluZygpID8/IGZhbHNlOwogICAgfQogICAgZ2V0IGlzUGF1c2VkKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uaXNQYXVzZWQoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBpc1N0b3BwZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5pc1N0b3BwZWQoKSA/PyBmYWxzZTsKICAgIH0KICAgIGdldCBjdXJyZW50RnJhbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5jdXJyZW50RnJhbWUoKSA/PyAwOwogICAgfQogICAgZ2V0IGxvb3BDb3VudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/Lmxvb3BDb3VudCgpID8/IDA7CiAgICB9CiAgICBnZXQgdG90YWxGcmFtZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy50b3RhbEZyYW1lcygpID8/IDA7CiAgICB9CiAgICBnZXQgZHVyYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5kdXJhdGlvbigpID8/IDA7CiAgICB9CiAgICBnZXQgc2VnbWVudER1cmF0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2VnbWVudER1cmF0aW9uKCkgPz8gMDsKICAgIH0KICAgIGdldCBjYW52YXMoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jYW52YXM7CiAgICB9CiAgICBsb2FkKGNvbmZpZykgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCBfRG90TG90dGllLl93YXNtTW9kdWxlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICBhdXRvcGxheTogY29uZmlnLmF1dG9wbGF5ID8/IGZhbHNlLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogMCwKICAgICAgICBsb29wQW5pbWF0aW9uOiBjb25maWcubG9vcCA/PyBmYWxzZSwKICAgICAgICBtb2RlOiBjcmVhdGVDb3JlTW9kZShjb25maWcubW9kZSA/PyAiZm9yd2FyZCIsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpLAogICAgICAgIHNlZ21lbnQ6IGNyZWF0ZUNvcmVTZWdtZW50KGNvbmZpZy5zZWdtZW50ID8/IFtdLCBfRG90TG90dGllLl93YXNtTW9kdWxlKSwKICAgICAgICBzcGVlZDogY29uZmlnLnNwZWVkID8/IDEsCiAgICAgICAgdXNlRnJhbWVJbnRlcnBvbGF0aW9uOiBjb25maWcudXNlRnJhbWVJbnRlcnBvbGF0aW9uID8/IHRydWUsCiAgICAgICAgbWFya2VyOiBjb25maWcubWFya2VyID8/ICIiLAogICAgICAgIGxheW91dDogY29uZmlnLmxheW91dCA/IHsKICAgICAgICAgIGFsaWduOiBjcmVhdGVDb3JlQWxpZ24oY29uZmlnLmxheW91dC5hbGlnbiwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSksCiAgICAgICAgICBmaXQ6IGNyZWF0ZUNvcmVGaXQoY29uZmlnLmxheW91dC5maXQsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpCiAgICAgICAgfSA6IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUuY3JlYXRlRGVmYXVsdExheW91dCgpCiAgICAgIH0pOwogICAgICBpZiAoY29uZmlnLmRhdGEpIHsKICAgICAgICB0aGlzLl9sb2FkRnJvbURhdGEoY29uZmlnLmRhdGEpOwogICAgICB9IGVsc2UgaWYgKGNvbmZpZy5zcmMpIHsKICAgICAgICB0aGlzLl9sb2FkRnJvbVNyYyhjb25maWcuc3JjKTsKICAgICAgfQogICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcihjb25maWcuYmFja2dyb3VuZENvbG9yID8/ICIiKTsKICAgIH0KICAgIF9yZW5kZXIoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2NvbnRleHQgPT09IG51bGwpIHJldHVybiBmYWxzZTsKICAgICAgY29uc3QgcmVuZGVyZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnJlbmRlcigpOwogICAgICBpZiAocmVuZGVyZWQpIHsKICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmJ1ZmZlcigpOwogICAgICAgIGNvbnN0IGNsYW1wZWRCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyLCAwLCB0aGlzLl9jYW52YXMud2lkdGggKiB0aGlzLl9jYW52YXMuaGVpZ2h0ICogNCk7CiAgICAgICAgbGV0IGltYWdlRGF0YSA9IG51bGw7CiAgICAgICAgaWYgKHR5cGVvZiBJbWFnZURhdGEgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBpbWFnZURhdGEgPSB0aGlzLl9jb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICAgICAgaW1hZ2VEYXRhLmRhdGEuc2V0KGNsYW1wZWRCdWZmZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKGNsYW1wZWRCdWZmZXIsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7CiAgICAgICAgfQogICAgICAgIHRoaXMuX2NvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJyZW5kZXIiLAogICAgICAgICAgY3VycmVudEZyYW1lOiB0aGlzLl9kb3RMb3R0aWVDb3JlLmN1cnJlbnRGcmFtZSgpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgX2RyYXcoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2NvbnRleHQgPT09IG51bGwgfHwgIXRoaXMuX2RvdExvdHRpZUNvcmUuaXNQbGF5aW5nKCkpIHJldHVybjsKICAgICAgY29uc3QgbmV4dEZyYW1lID0gdGhpcy5fZG90TG90dGllQ29yZS5yZXF1ZXN0RnJhbWUoKTsKICAgICAgY29uc3QgdXBkYXRlZCA9IHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0RnJhbWUobmV4dEZyYW1lKTsKICAgICAgaWYgKHVwZGF0ZWQpIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goewogICAgICAgICAgdHlwZTogImZyYW1lIiwKICAgICAgICAgIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IHJlbmRlcmVkID0gdGhpcy5fcmVuZGVyKCk7CiAgICAgICAgaWYgKHJlbmRlcmVkKSB7CiAgICAgICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZS5pc0NvbXBsZXRlKCkpIHsKICAgICAgICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCkubG9vcEFuaW1hdGlvbikgewogICAgICAgICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7CiAgICAgICAgICAgICAgICB0eXBlOiAibG9vcCIsCiAgICAgICAgICAgICAgICBsb29wQ291bnQ6IHRoaXMuX2RvdExvdHRpZUNvcmUubG9vcENvdW50KCkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAiY29tcGxldGUiIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICB9CiAgICBwbGF5KCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUucGxheSgpOwogICAgICBpZiAob2sgfHwgdGhpcy5fZG90TG90dGllQ29yZS5pc1BsYXlpbmcoKSkgewogICAgICAgIHRoaXMuX2lzRnJvemVuID0gZmFsc2U7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInBsYXkiIH0pOwogICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgPSB0aGlzLl9mcmFtZU1hbmFnZXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2RyYXcuYmluZCh0aGlzKSk7CiAgICAgIH0KICAgIH0KICAgIHBhdXNlKCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICBjb25zdCBvayA9IHRoaXMuX2RvdExvdHRpZUNvcmUucGF1c2UoKTsKICAgICAgaWYgKG9rIHx8IHRoaXMuX2RvdExvdHRpZUNvcmUuaXNQYXVzZWQoKSkgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJwYXVzZSIgfSk7CiAgICAgIH0KICAgIH0KICAgIHN0b3AoKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGNvbnN0IG9rID0gdGhpcy5fZG90TG90dGllQ29yZS5zdG9wKCk7CiAgICAgIGlmIChvaykgewogICAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5kaXNwYXRjaCh7IHR5cGU6ICJmcmFtZSIsIGN1cnJlbnRGcmFtZTogdGhpcy5fZG90TG90dGllQ29yZS5jdXJyZW50RnJhbWUoKSB9KTsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAic3RvcCIgfSk7CiAgICAgIH0KICAgIH0KICAgIHNldEZyYW1lKGZyYW1lKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGlmIChmcmFtZSA8IDAgfHwgZnJhbWUgPiB0aGlzLl9kb3RMb3R0aWVDb3JlLnRvdGFsRnJhbWVzKCkpIHJldHVybjsKICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnNlZWsoZnJhbWUpOwogICAgICBpZiAob2spIHsKICAgICAgICB0aGlzLl9ldmVudE1hbmFnZXIuZGlzcGF0Y2goeyB0eXBlOiAiZnJhbWUiLCBjdXJyZW50RnJhbWU6IHRoaXMuX2RvdExvdHRpZUNvcmUuY3VycmVudEZyYW1lKCkgfSk7CiAgICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIH0KICAgIH0KICAgIHNldFNwZWVkKHNwZWVkKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIHNwZWVkCiAgICAgIH0pOwogICAgfQogICAgc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIGlmIChJU19CUk9XU0VSICYmIHRoaXMuX2NhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7CiAgICAgICAgdGhpcy5fY2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGhleFN0cmluZ1RvUkdCQUludChjb2xvcikKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsKICAgIH0KICAgIHNldExvb3AobG9vcCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICBsb29wQW5pbWF0aW9uOiBsb29wCiAgICAgIH0pOwogICAgfQogICAgc2V0VXNlRnJhbWVJbnRlcnBvbGF0aW9uKHVzZUZyYW1lSW50ZXJwb2xhdGlvbikgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICB1c2VGcmFtZUludGVycG9sYXRpb24KICAgICAgfSk7CiAgICB9CiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTsKICAgIH0KICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpOwogICAgfQogICAgZGVzdHJveSgpIHsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZT8uZGVsZXRlKCk7CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUgPSBudWxsOwogICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICB0eXBlOiAiZGVzdHJveSIKICAgICAgfSk7CiAgICAgIHRoaXMuX2V2ZW50TWFuYWdlci5yZW1vdmVBbGxFdmVudExpc3RlbmVycygpOwogICAgICB0aGlzLl9jbGVhbnVwU3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICB9CiAgICBmcmVlemUoKSB7CiAgICAgIGlmICh0aGlzLl9hbmltYXRpb25GcmFtZUlkID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2ZyYW1lTWFuYWdlci5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZUlkKTsKICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IG51bGw7CiAgICAgIHRoaXMuX2lzRnJvemVuID0gdHJ1ZTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImZyZWV6ZSIgfSk7CiAgICB9CiAgICB1bmZyZWV6ZSgpIHsKICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbkZyYW1lSWQgIT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHRoaXMuX2ZyYW1lTWFuYWdlci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fZHJhdy5iaW5kKHRoaXMpKTsKICAgICAgdGhpcy5faXNGcm96ZW4gPSBmYWxzZTsKICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogInVuZnJlZXplIiB9KTsKICAgIH0KICAgIHJlc2l6ZSgpIHsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICBjb25zdCBkcHIgPSB0aGlzLl9yZW5kZXJDb25maWcuZGV2aWNlUGl4ZWxSYXRpbyB8fCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICAgIGNvbnN0IHsgaGVpZ2h0OiBjbGllbnRIZWlnaHQsIHdpZHRoOiBjbGllbnRXaWR0aCB9ID0gdGhpcy5fY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IGNsaWVudFdpZHRoICogZHByOwogICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSBjbGllbnRIZWlnaHQgKiBkcHI7CiAgICAgIH0KICAgICAgY29uc3Qgb2sgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5yZXNpemUodGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTsKICAgICAgaWYgKG9rKSB7CiAgICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIH0KICAgIH0KICAgIHNldFNlZ21lbnQoc3RhcnRGcmFtZSwgZW5kRnJhbWUpIHsKICAgICAgaWYgKHRoaXMuX2RvdExvdHRpZUNvcmUgPT09IG51bGwgfHwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLl9kb3RMb3R0aWVDb3JlLnNldENvbmZpZyh7CiAgICAgICAgLi4udGhpcy5fZG90TG90dGllQ29yZS5jb25maWcoKSwKICAgICAgICBzZWdtZW50OiBjcmVhdGVDb3JlU2VnbWVudChbc3RhcnRGcmFtZSwgZW5kRnJhbWVdLCBfRG90TG90dGllLl93YXNtTW9kdWxlKQogICAgICB9KTsKICAgIH0KICAgIHNldE1vZGUobW9kZSkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCB8fCBfRG90TG90dGllLl93YXNtTW9kdWxlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIG1vZGU6IGNyZWF0ZUNvcmVNb2RlKG1vZGUsIF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUpCiAgICAgIH0pOwogICAgfQogICAgc2V0UmVuZGVyQ29uZmlnKGNvbmZpZykgewogICAgICB0aGlzLl9yZW5kZXJDb25maWcgPSBjb25maWc7CiAgICB9CiAgICBsb2FkQW5pbWF0aW9uKGFuaW1hdGlvbklkKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IHRoaXMuX2RvdExvdHRpZUNvcmUuYWN0aXZlQW5pbWF0aW9uSWQoKSA9PT0gYW5pbWF0aW9uSWQpIHJldHVybjsKICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fZG90TG90dGllQ29yZS5sb2FkQW5pbWF0aW9uKGFuaW1hdGlvbklkLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpOwogICAgICBpZiAobG9hZGVkKSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsgdHlwZTogImxvYWQiIH0pOwogICAgICAgIHRoaXMucmVzaXplKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5fZXZlbnRNYW5hZ2VyLmRpc3BhdGNoKHsKICAgICAgICAgIHR5cGU6ICJsb2FkRXJyb3IiLAogICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihgRmFpbGVkIHRvIGFuaW1hdGlvbiA6JHthbmltYXRpb25JZH1gKQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICBzZXRNYXJrZXIobWFya2VyKSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsKSByZXR1cm47CiAgICAgIHRoaXMuX2RvdExvdHRpZUNvcmUuc2V0Q29uZmlnKHsKICAgICAgICAuLi50aGlzLl9kb3RMb3R0aWVDb3JlLmNvbmZpZygpLAogICAgICAgIG1hcmtlcgogICAgICB9KTsKICAgIH0KICAgIG1hcmtlcnMoKSB7CiAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5tYXJrZXJzKCk7CiAgICAgIGlmIChtYXJrZXJzKSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXJzLnNpemUoKTsgaSArPSAxKSB7CiAgICAgICAgICBjb25zdCBtYXJrZXIgPSBtYXJrZXJzLmdldChpKTsKICAgICAgICAgIHJlc3VsdC5wdXNoKHsKICAgICAgICAgICAgbmFtZTogbWFya2VyLm5hbWUsCiAgICAgICAgICAgIHRpbWU6IG1hcmtlci50aW1lLAogICAgICAgICAgICBkdXJhdGlvbjogbWFya2VyLmR1cmF0aW9uCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICByZXR1cm4gW107CiAgICB9CiAgICBsb2FkVGhlbWUodGhlbWVJZCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRUaGVtZSh0aGVtZUlkKTsKICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIHJldHVybiBsb2FkZWQ7CiAgICB9CiAgICBsb2FkVGhlbWVEYXRhKHRoZW1lRGF0YSkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLmxvYWRUaGVtZURhdGEodGhlbWVEYXRhKTsKICAgICAgdGhpcy5fcmVuZGVyKCk7CiAgICAgIHJldHVybiBsb2FkZWQ7CiAgICB9CiAgICBzZXRMYXlvdXQobGF5b3V0KSB7CiAgICAgIGlmICh0aGlzLl9kb3RMb3R0aWVDb3JlID09PSBudWxsIHx8IF9Eb3RMb3R0aWUuX3dhc21Nb2R1bGUgPT09IG51bGwpIHJldHVybjsKICAgICAgdGhpcy5fZG90TG90dGllQ29yZS5zZXRDb25maWcoewogICAgICAgIC4uLnRoaXMuX2RvdExvdHRpZUNvcmUuY29uZmlnKCksCiAgICAgICAgbGF5b3V0OiB7CiAgICAgICAgICBhbGlnbjogY3JlYXRlQ29yZUFsaWduKGxheW91dC5hbGlnbiwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSksCiAgICAgICAgICBmaXQ6IGNyZWF0ZUNvcmVGaXQobGF5b3V0LmZpdCwgX0RvdExvdHRpZS5fd2FzbU1vZHVsZSkKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgc2V0Vmlld3BvcnQoeCwgeSwgd2lkdGgsIGhlaWdodCkgewogICAgICBpZiAodGhpcy5fZG90TG90dGllQ29yZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZS5zZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTsKICAgIH0KICAgIHN0YXRpYyBzZXRXYXNtVXJsKHVybCkgewogICAgICBEb3RMb3R0aWVXYXNtTG9hZGVyLnNldFdhc21VcmwodXJsKTsKICAgIH0KICAgIGxvYWRTdGF0ZU1hY2hpbmUoc3RhdGVNYWNoaW5lSWQpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LmxvYWRTdGF0ZU1hY2hpbmUoc3RhdGVNYWNoaW5lSWQpID8/IGZhbHNlOwogICAgfQogICAgc3RhcnRTdGF0ZU1hY2hpbmUoKSB7CiAgICAgIGNvbnN0IHN0YXJ0ZWQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5zdGFydFN0YXRlTWFjaGluZSgpID8/IGZhbHNlOwogICAgICBpZiAoc3RhcnRlZCkgewogICAgICAgIHRoaXMuX3NldHVwU3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXJ0ZWQ7CiAgICB9CiAgICBzdG9wU3RhdGVNYWNoaW5lKCkgewogICAgICBjb25zdCBzdG9wcGVkID0gdGhpcy5fZG90TG90dGllQ29yZT8uc3RvcFN0YXRlTWFjaGluZSgpID8/IGZhbHNlOwogICAgICBpZiAoc3RvcHBlZCkgewogICAgICAgIHRoaXMuX2NsZWFudXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKTsKICAgICAgfQogICAgICByZXR1cm4gc3RvcHBlZDsKICAgIH0KICAgIF9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpIHsKICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX2NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgY29uc3Qgc2NhbGVYID0gdGhpcy5fY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aDsKICAgICAgY29uc3Qgc2NhbGVZID0gdGhpcy5fY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0OwogICAgICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gdGhpcy5fcmVuZGVyQ29uZmlnLmRldmljZVBpeGVsUmF0aW8gfHwgd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgICAgY29uc3QgeCA9IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIHNjYWxlWCAvIGRldmljZVBpeGVsUmF0aW87CiAgICAgIGNvbnN0IHkgPSAoZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wKSAqIHNjYWxlWSAvIGRldmljZVBpeGVsUmF0aW87CiAgICAgIHJldHVybiB7CiAgICAgICAgeCwKICAgICAgICB5CiAgICAgIH07CiAgICB9CiAgICBfb25Qb2ludGVyVXAoZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyVXA6ICR7eH0gJHt5fWApOwogICAgfQogICAgX29uUG9pbnRlckRvd24oZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyRG93bjogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Qb2ludGVyTW92ZShldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJNb3ZlOiAke3h9ICR7eX1gKTsKICAgIH0KICAgIF9vblBvaW50ZXJFbnRlcihldmVudCkgewogICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuX2dldFBvaW50ZXJQb3NpdGlvbihldmVudCk7CiAgICAgIHRoaXMucG9zdFN0YXRlTWFjaGluZUV2ZW50KGBPblBvaW50ZXJFbnRlcjogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Qb2ludGVyTGVhdmUoZXZlbnQpIHsKICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl9nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpOwogICAgICB0aGlzLnBvc3RTdGF0ZU1hY2hpbmVFdmVudChgT25Qb2ludGVyRXhpdDogJHt4fSAke3l9YCk7CiAgICB9CiAgICBfb25Db21wbGV0ZSgpIHsKICAgICAgdGhpcy5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoIk9uQ29tcGxldGUiKTsKICAgIH0KICAgIC8qKgogICAgICogQGV4cGVyaW1lbnRhbAogICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIHBvc3RlZCB0byB0aGUgc3RhdGUgbWFjaGluZQogICAgICogQHJldHVybnMgYm9vbGVhbiAtIHRydWUgaWYgdGhlIGV2ZW50IHdhcyBwb3N0ZWQgc3VjY2Vzc2Z1bGx5LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgcG9zdFN0YXRlTWFjaGluZUV2ZW50KGV2ZW50KSB7CiAgICAgIGNvbnN0IHJ0ID0gdGhpcy5fZG90TG90dGllQ29yZT8ucG9zdEV2ZW50UGF5bG9hZChldmVudCkgPz8gMTsKICAgICAgaWYgKHJ0ID09PSAyKSB7CiAgICAgICAgdGhpcy5wbGF5KCk7CiAgICAgIH0gZWxzZSBpZiAocnQgPT09IDMpIHsKICAgICAgICB0aGlzLnBhdXNlKCk7CiAgICAgIH0gZWxzZSBpZiAocnQgPT09IDQpIHsKICAgICAgICB0aGlzLl9yZW5kZXIoKTsKICAgICAgfQogICAgICByZXR1cm4gcnQ7CiAgICB9CiAgICBnZXRTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKSB7CiAgICAgIGlmICghdGhpcy5fZG90TG90dGllQ29yZSkgcmV0dXJuIFtdOwogICAgICBjb25zdCBsaXN0ZW5lcnNWZWN0b3IgPSB0aGlzLl9kb3RMb3R0aWVDb3JlLnN0YXRlTWFjaGluZUZyYW1ld29ya1NldHVwKCk7CiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVyc1ZlY3Rvci5zaXplKCk7IGkgKz0gMSkgewogICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyc1ZlY3Rvci5nZXQoaSkpOwogICAgICB9CiAgICAgIHJldHVybiBsaXN0ZW5lcnM7CiAgICB9CiAgICBfc2V0dXBTdGF0ZU1hY2hpbmVMaXN0ZW5lcnMoKSB7CiAgICAgIGlmIChJU19CUk9XU0VSICYmIHRoaXMuX2NhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmIHRoaXMuX2RvdExvdHRpZUNvcmUgIT09IG51bGwgJiYgdGhpcy5pc0xvYWRlZCkgewogICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmNsdWRlcygiUG9pbnRlclVwIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCB0aGlzLl9wb2ludGVyVXBNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJQb2ludGVyRG93biIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLl9wb2ludGVyRG93bk1ldGhvZCk7CiAgICAgICAgfQogICAgICAgIGlmIChsaXN0ZW5lcnMuaW5jbHVkZXMoIlBvaW50ZXJNb3ZlIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybW92ZSIsIHRoaXMuX3BvaW50ZXJNb3ZlTWV0aG9kKTsKICAgICAgICB9CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmNsdWRlcygiUG9pbnRlckVudGVyIikpIHsKICAgICAgICAgIHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyZW50ZXIiLCB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJQb2ludGVyRXhpdCIpKSB7CiAgICAgICAgICB0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmxlYXZlIiwgdGhpcy5fcG9pbnRlckV4aXRNZXRob2QpOwogICAgICAgIH0KICAgICAgICBpZiAobGlzdGVuZXJzLmluY2x1ZGVzKCJDb21wbGV0ZSIpKSB7CiAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIiwgdGhpcy5fb25Db21wbGV0ZU1ldGhvZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBfY2xlYW51cFN0YXRlTWFjaGluZUxpc3RlbmVycygpIHsKICAgICAgaWYgKElTX0JST1dTRVIgJiYgdGhpcy5fY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcnVwIiwgdGhpcy5fcG9pbnRlclVwTWV0aG9kKTsKICAgICAgICB0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9pbnRlcmRvd24iLCB0aGlzLl9wb2ludGVyRG93bk1ldGhvZCk7CiAgICAgICAgdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJtb3ZlIiwgdGhpcy5fcG9pbnRlck1vdmVNZXRob2QpOwogICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyZW50ZXIiLCB0aGlzLl9wb2ludGVyRW50ZXJNZXRob2QpOwogICAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybGVhdmUiLCB0aGlzLl9wb2ludGVyRXhpdE1ldGhvZCk7CiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsIHRoaXMuX29uQ29tcGxldGVNZXRob2QpOwogICAgICB9CiAgICB9CiAgICBsb2FkU3RhdGVNYWNoaW5lRGF0YShzdGF0ZU1hY2hpbmVEYXRhKSB7CiAgICAgIHJldHVybiB0aGlzLl9kb3RMb3R0aWVDb3JlPy5sb2FkU3RhdGVNYWNoaW5lRGF0YShzdGF0ZU1hY2hpbmVEYXRhKSA/PyBmYWxzZTsKICAgIH0KICAgIGFuaW1hdGlvblNpemUoKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fZG90TG90dGllQ29yZT8uYW5pbWF0aW9uU2l6ZSgpLmdldCgwKSA/PyAwOwogICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLl9kb3RMb3R0aWVDb3JlPy5hbmltYXRpb25TaXplKCkuZ2V0KDEpID8/IDA7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH07CiAgICB9CiAgICBzZXRTdGF0ZU1hY2hpbmVCb29sZWFuQ29udGV4dChuYW1lLCB2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy5fZG90TG90dGllQ29yZT8uc2V0U3RhdGVNYWNoaW5lQm9vbGVhbkNvbnRleHQobmFtZSwgdmFsdWUpID8/IGZhbHNlOwogICAgfQogICAgc2V0U3RhdGVNYWNoaW5lTnVtZXJpY0NvbnRleHQobmFtZSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnNldFN0YXRlTWFjaGluZU51bWVyaWNDb250ZXh0KG5hbWUsIHZhbHVlKSA/PyBmYWxzZTsKICAgIH0KICAgIHNldFN0YXRlTWFjaGluZVN0cmluZ0NvbnRleHQobmFtZSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2RvdExvdHRpZUNvcmU/LnNldFN0YXRlTWFjaGluZVN0cmluZ0NvbnRleHQobmFtZSwgdmFsdWUpID8/IGZhbHNlOwogICAgfQogIH07CiAgX19wdWJsaWNGaWVsZChfRG90TG90dGllLCAiX3dhc21Nb2R1bGUiLCBudWxsKTsKICB2YXIgRG90TG90dGllID0gX0RvdExvdHRpZTsKCiAgLy8gc3JjL3dvcmtlci9kb3Rsb3R0aWUud29ya2VyLnRzCiAgdmFyIGluc3RhbmNlc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgdmFyIGV2ZW50SGFuZGxlck1hcCA9IHsKICAgIHJlYWR5OiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblJlYWR5IiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgY29tcGxldGU6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uQ29tcGxldGUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBsb2FkOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGxvYWRFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25Mb2FkIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogbG9hZEV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBsb2FkRXJyb3I6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgbG9hZEVycm9yRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uTG9hZEVycm9yIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogbG9hZEVycm9yRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIGxvb3A6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgbG9vcEV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkxvb3AiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBsb29wRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHBsYXk6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgcGxheUV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblBsYXkiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBwbGF5RXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHBhdXNlOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHBhdXNlRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uUGF1c2UiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiBwYXVzZUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBzdG9wOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHN0b3BFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25TdG9wIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogc3RvcEV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBmcmFtZTogKGluc3RhbmNlSWQpID0+IChldmVudCkgPT4gewogICAgICBjb25zdCBmcmFtZUV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvbkZyYW1lIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZnJhbWVFdmVudAogICAgICAgIH0KICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9LAogICAgcmVuZGVyOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHJlbmRlckV2ZW50ID0gZXZlbnQ7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gewogICAgICAgIGlkOiAiIiwKICAgICAgICBtZXRob2Q6ICJvblJlbmRlciIsCiAgICAgICAgcmVzdWx0OiB7CiAgICAgICAgICBpbnN0YW5jZUlkLAogICAgICAgICAgZXZlbnQ6IHJlbmRlckV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBmcmVlemU6IChpbnN0YW5jZUlkKSA9PiAoZXZlbnQpID0+IHsKICAgICAgY29uc3QgZnJlZXplRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uRnJlZXplIiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZnJlZXplRXZlbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2UpOwogICAgfSwKICAgIHVuZnJlZXplOiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IHVuZnJlZXplRXZlbnQgPSBldmVudDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6ICIiLAogICAgICAgIG1ldGhvZDogIm9uVW5mcmVlemUiLAogICAgICAgIHJlc3VsdDogewogICAgICAgICAgaW5zdGFuY2VJZCwKICAgICAgICAgIGV2ZW50OiB1bmZyZWV6ZUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0sCiAgICBkZXN0cm95OiAoaW5zdGFuY2VJZCkgPT4gKGV2ZW50KSA9PiB7CiAgICAgIGNvbnN0IGRlc3Ryb3lFdmVudCA9IGV2ZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbWV0aG9kOiAib25EZXN0cm95IiwKICAgICAgICByZXN1bHQ6IHsKICAgICAgICAgIGluc3RhbmNlSWQsCiAgICAgICAgICBldmVudDogZGVzdHJveUV2ZW50CiAgICAgICAgfQogICAgICB9OwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0KICB9OwogIHZhciBjb21tYW5kcyA9IHsKICAgIGdldERvdExvdHRpZUluc3RhbmNlU3RhdGUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgY29uc3Qgc3RhdGUgPSB7CiAgICAgICAgaXNMb2FkZWQ6IGluc3RhbmNlLmlzTG9hZGVkLAogICAgICAgIGlzUGF1c2VkOiBpbnN0YW5jZS5pc1BhdXNlZCwKICAgICAgICBpc1BsYXlpbmc6IGluc3RhbmNlLmlzUGxheWluZywKICAgICAgICBpc1N0b3BwZWQ6IGluc3RhbmNlLmlzU3RvcHBlZCwKICAgICAgICBpc0Zyb3plbjogaW5zdGFuY2UuaXNGcm96ZW4sCiAgICAgICAgbG9vcDogaW5zdGFuY2UubG9vcCwKICAgICAgICBtb2RlOiBpbnN0YW5jZS5tb2RlLAogICAgICAgIHNwZWVkOiBpbnN0YW5jZS5zcGVlZCwKICAgICAgICBjdXJyZW50RnJhbWU6IGluc3RhbmNlLmN1cnJlbnRGcmFtZSwKICAgICAgICB0b3RhbEZyYW1lczogaW5zdGFuY2UudG90YWxGcmFtZXMsCiAgICAgICAgZHVyYXRpb246IGluc3RhbmNlLmR1cmF0aW9uLAogICAgICAgIHVzZUZyYW1lSW50ZXJwb2xhdGlvbjogaW5zdGFuY2UudXNlRnJhbWVJbnRlcnBvbGF0aW9uLAogICAgICAgIHJlbmRlckNvbmZpZzogaW5zdGFuY2UucmVuZGVyQ29uZmlnLAogICAgICAgIG1hcmtlcjogaW5zdGFuY2UubWFya2VyLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogaW5zdGFuY2UuYmFja2dyb3VuZENvbG9yLAogICAgICAgIG1hcmtlcnM6IGluc3RhbmNlLm1hcmtlcnMoKSwKICAgICAgICBhY3RpdmVBbmltYXRpb25JZDogaW5zdGFuY2UuYWN0aXZlQW5pbWF0aW9uSWQsCiAgICAgICAgYWN0aXZlVGhlbWVJZDogaW5zdGFuY2UuYWN0aXZlVGhlbWVJZCwKICAgICAgICBhdXRvcGxheTogaW5zdGFuY2UuYXV0b3BsYXksCiAgICAgICAgc2VnbWVudDogaW5zdGFuY2Uuc2VnbWVudCwKICAgICAgICBsYXlvdXQ6IGluc3RhbmNlLmxheW91dCwKICAgICAgICBzZWdtZW50RHVyYXRpb246IGluc3RhbmNlLnNlZ21lbnREdXJhdGlvbiwKICAgICAgICBpc1JlYWR5OiBpbnN0YW5jZS5pc1JlYWR5LAogICAgICAgIG1hbmlmZXN0OiBpbnN0YW5jZS5tYW5pZmVzdAogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIHN0YXRlCiAgICAgIH07CiAgICB9LAogICAgc2V0TGF5b3V0KHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGxheW91dCA9IHJlcXVlc3QucGFyYW1zLmxheW91dDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TGF5b3V0KGxheW91dCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3VjY2VzczogdHJ1ZQogICAgICB9OwogICAgfSwKICAgIGdldFN0YXRlTWFjaGluZUxpc3RlbmVycyhyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0U3RhdGVNYWNoaW5lTGlzdGVuZXJzKCk7CiAgICB9LAogICAgcG9zdFN0YXRlTWFjaGluZUV2ZW50KHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGV2ZW50ID0gcmVxdWVzdC5wYXJhbXMuZXZlbnQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5wb3N0U3RhdGVNYWNoaW5lRXZlbnQoZXZlbnQpOwogICAgfSwKICAgIHN0YXJ0U3RhdGVNYWNoaW5lKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5zdGFydFN0YXRlTWFjaGluZSgpOwogICAgfSwKICAgIHN0b3BTdGF0ZU1hY2hpbmUocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLnN0b3BTdGF0ZU1hY2hpbmUoKTsKICAgIH0sCiAgICBsb2FkU3RhdGVNYWNoaW5lKHJlcXVlc3QpIHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHN0YXRlTWFjaGluZUlkID0gcmVxdWVzdC5wYXJhbXMuc3RhdGVNYWNoaW5lSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5sb2FkU3RhdGVNYWNoaW5lKHN0YXRlTWFjaGluZUlkKTsKICAgIH0sCiAgICBsb2FkU3RhdGVNYWNoaW5lRGF0YShyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBzdGF0ZU1hY2hpbmVEYXRhID0gcmVxdWVzdC5wYXJhbXMuc3RhdGVNYWNoaW5lRGF0YTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRTdGF0ZU1hY2hpbmVEYXRhKHN0YXRlTWFjaGluZURhdGEpOwogICAgfSwKICAgIGNyZWF0ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGNvbmZpZyA9IHJlcXVlc3QucGFyYW1zLmNvbmZpZzsKICAgICAgY29uc3Qgd2lkdGggPSByZXF1ZXN0LnBhcmFtcy53aWR0aDsKICAgICAgY29uc3QgaGVpZ2h0ID0gcmVxdWVzdC5wYXJhbXMuaGVpZ2h0OwogICAgICBpZiAoaW5zdGFuY2VzTWFwLmhhcyhpbnN0YW5jZUlkKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGFscmVhZHkgZXhpc3RzLmApOwogICAgICB9CiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IERvdExvdHRpZShjb25maWcpOwogICAgICBpbnN0YW5jZS5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0OwogICAgICBpbnN0YW5jZS5jYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgaW5zdGFuY2VzTWFwLnNldChpbnN0YW5jZUlkLCBpbnN0YW5jZSk7CiAgICAgIGNvbnN0IGV2ZW50cyA9IFsKICAgICAgICAiY29tcGxldGUiLAogICAgICAgICJmcmFtZSIsCiAgICAgICAgImxvYWQiLAogICAgICAgICJsb2FkRXJyb3IiLAogICAgICAgICJsb29wIiwKICAgICAgICAicGF1c2UiLAogICAgICAgICJwbGF5IiwKICAgICAgICAic3RvcCIsCiAgICAgICAgImRlc3Ryb3kiLAogICAgICAgICJmcmVlemUiLAogICAgICAgICJ1bmZyZWV6ZSIsCiAgICAgICAgInJlbmRlciIsCiAgICAgICAgInJlYWR5IgogICAgICBdOwogICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHsKICAgICAgICBpbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXJNYXBbZXZlbnRdKGluc3RhbmNlSWQpKTsKICAgICAgfSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5zdGFuY2VJZAogICAgICB9OwogICAgfSwKICAgIGRlc3Ryb3k6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHJldHVybjsKICAgICAgaW5zdGFuY2UuZGVzdHJveSgpOwogICAgICBpbnN0YW5jZXNNYXAuZGVsZXRlKGluc3RhbmNlSWQpOwogICAgfSwKICAgIGZyZWV6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLmZyZWV6ZSgpOwogICAgfSwKICAgIGxvYWQ6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBjb25maWcgPSByZXF1ZXN0LnBhcmFtcy5jb25maWc7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLmxvYWQoY29uZmlnKTsKICAgIH0sCiAgICBsb2FkQW5pbWF0aW9uOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgYW5pbWF0aW9uSWQgPSByZXF1ZXN0LnBhcmFtcy5hbmltYXRpb25JZDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UubG9hZEFuaW1hdGlvbihhbmltYXRpb25JZCk7CiAgICB9LAogICAgbG9hZFRoZW1lOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgdGhlbWVJZCA9IHJlcXVlc3QucGFyYW1zLnRoZW1lSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5sb2FkVGhlbWUodGhlbWVJZCk7CiAgICB9LAogICAgbG9hZFRoZW1lRGF0YTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHRoZW1lRGF0YSA9IHJlcXVlc3QucGFyYW1zLnRoZW1lRGF0YTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgcmV0dXJuIGluc3RhbmNlLmxvYWRUaGVtZURhdGEodGhlbWVEYXRhKTsKICAgIH0sCiAgICBwYXVzZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5wYXVzZSgpOwogICAgfSwKICAgIHBsYXk6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICByZXR1cm4gaW5zdGFuY2UucGxheSgpOwogICAgfSwKICAgIHJlc2l6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHdpZHRoID0gcmVxdWVzdC5wYXJhbXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IHJlcXVlc3QucGFyYW1zLmhlaWdodDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2UuY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgaW5zdGFuY2UuY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgIGluc3RhbmNlLnJlc2l6ZSgpOwogICAgICByZXR1cm4gewogICAgICAgIHN1Y2Nlc3M6IHRydWUKICAgICAgfTsKICAgIH0sCiAgICBzZXRCYWNrZ3JvdW5kQ29sb3I6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSByZXF1ZXN0LnBhcmFtcy5iYWNrZ3JvdW5kQ29sb3I7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldEJhY2tncm91bmRDb2xvcihiYWNrZ3JvdW5kQ29sb3IpOwogICAgfSwKICAgIHNldEZyYW1lOiAocmVxdWVzdCkgPT4gewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgZnJhbWUgPSByZXF1ZXN0LnBhcmFtcy5mcmFtZTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0RnJhbWUoZnJhbWUpOwogICAgfSwKICAgIHNldE1vZGU6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBtb2RlID0gcmVxdWVzdC5wYXJhbXMubW9kZTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TW9kZShtb2RlKTsKICAgIH0sCiAgICBzZXRSZW5kZXJDb25maWc6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCByZW5kZXJDb25maWcgPSByZXF1ZXN0LnBhcmFtcy5yZW5kZXJDb25maWc7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFJlbmRlckNvbmZpZyhyZW5kZXJDb25maWcpOwogICAgfSwKICAgIHNldFNlZ21lbnQ6IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBzZWdtZW50ID0gcmVxdWVzdC5wYXJhbXMuc2VnbWVudDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0U2VnbWVudChzZWdtZW50WzBdLCBzZWdtZW50WzFdKTsKICAgIH0sCiAgICBzZXRTcGVlZDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IHNwZWVkID0gcmVxdWVzdC5wYXJhbXMuc3BlZWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFNwZWVkKHNwZWVkKTsKICAgIH0sCiAgICBzZXRVc2VGcmFtZUludGVycG9sYXRpb246IChyZXF1ZXN0KSA9PiB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCB1c2VGcmFtZUludGVycG9sYXRpb24gPSByZXF1ZXN0LnBhcmFtcy51c2VGcmFtZUludGVycG9sYXRpb247CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnNldFVzZUZyYW1lSW50ZXJwb2xhdGlvbih1c2VGcmFtZUludGVycG9sYXRpb24pOwogICAgfSwKICAgIHNldFdhc21Vcmw6IChyZXF1ZXN0KSA9PiB7CiAgICAgIERvdExvdHRpZS5zZXRXYXNtVXJsKHJlcXVlc3QucGFyYW1zLnVybCk7CiAgICB9LAogICAgc3RvcDogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnN0b3AoKTsKICAgIH0sCiAgICB1bmZyZWV6ZTogKHJlcXVlc3QpID0+IHsKICAgICAgY29uc3QgaW5zdGFuY2VJZCA9IHJlcXVlc3QucGFyYW1zLmluc3RhbmNlSWQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIGluc3RhbmNlLnVuZnJlZXplKCk7CiAgICB9LAogICAgc2V0Vmlld3BvcnQocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgeCA9IHJlcXVlc3QucGFyYW1zLng7CiAgICAgIGNvbnN0IHkgPSByZXF1ZXN0LnBhcmFtcy55OwogICAgICBjb25zdCB3aWR0aCA9IHJlcXVlc3QucGFyYW1zLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSByZXF1ZXN0LnBhcmFtcy5oZWlnaHQ7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzTWFwLmdldChpbnN0YW5jZUlkKTsKICAgICAgaWYgKCFpbnN0YW5jZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5zdGFuY2Ugd2l0aCBpZCAke2luc3RhbmNlSWR9IGRvZXMgbm90IGV4aXN0LmApOwogICAgICB9CiAgICAgIHJldHVybiBpbnN0YW5jZS5zZXRWaWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTsKICAgIH0sCiAgICBzZXRNYXJrZXIocmVxdWVzdCkgewogICAgICBjb25zdCBpbnN0YW5jZUlkID0gcmVxdWVzdC5wYXJhbXMuaW5zdGFuY2VJZDsKICAgICAgY29uc3QgbWFya2VyID0gcmVxdWVzdC5wYXJhbXMubWFya2VyOwogICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlc01hcC5nZXQoaW5zdGFuY2VJZCk7CiAgICAgIGlmICghaW5zdGFuY2UpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3RhbmNlIHdpdGggaWQgJHtpbnN0YW5jZUlkfSBkb2VzIG5vdCBleGlzdC5gKTsKICAgICAgfQogICAgICBpbnN0YW5jZS5zZXRNYXJrZXIobWFya2VyKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlCiAgICAgIH07CiAgICB9LAogICAgc2V0TG9vcChyZXF1ZXN0KSB7CiAgICAgIGNvbnN0IGluc3RhbmNlSWQgPSByZXF1ZXN0LnBhcmFtcy5pbnN0YW5jZUlkOwogICAgICBjb25zdCBsb29wID0gcmVxdWVzdC5wYXJhbXMubG9vcDsKICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZXNNYXAuZ2V0KGluc3RhbmNlSWQpOwogICAgICBpZiAoIWluc3RhbmNlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN0YW5jZSB3aXRoIGlkICR7aW5zdGFuY2VJZH0gZG9lcyBub3QgZXhpc3QuYCk7CiAgICAgIH0KICAgICAgaW5zdGFuY2Uuc2V0TG9vcChsb29wKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdWNjZXNzOiB0cnVlCiAgICAgIH07CiAgICB9CiAgfTsKICBmdW5jdGlvbiBleGVjdXRlQ29tbWFuZChycGNSZXF1ZXN0KSB7CiAgICBjb25zdCBtZXRob2QgPSBycGNSZXF1ZXN0Lm1ldGhvZDsKICAgIGlmICh0eXBlb2YgY29tbWFuZHNbbWV0aG9kXSA9PT0gImZ1bmN0aW9uIikgewogICAgICByZXR1cm4gY29tbWFuZHNbbWV0aG9kXShycGNSZXF1ZXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gY29tbWFuZHMuYCk7CiAgICB9CiAgfQogIHNlbGYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7CiAgICB0cnkgewogICAgICBjb25zdCByZXN1bHQgPSBleGVjdXRlQ29tbWFuZChldmVudC5kYXRhKTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSB7CiAgICAgICAgaWQ6IGV2ZW50LmRhdGEuaWQsCiAgICAgICAgbWV0aG9kOiBldmVudC5kYXRhLm1ldGhvZCwKICAgICAgICByZXN1bHQKICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zdCBlcnJvclJlc3BvbnNlID0gewogICAgICAgIGlkOiBldmVudC5kYXRhLmlkLAogICAgICAgIG1ldGhvZDogZXZlbnQuZGF0YS5tZXRob2QsCiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UKICAgICAgfTsKICAgICAgc2VsZi5wb3N0TWVzc2FnZShlcnJvclJlc3BvbnNlKTsKICAgIH0KICB9OwogIHZhciBkdW1teSA9ICIiOwogIHZhciBkb3Rsb3R0aWVfd29ya2VyX2RlZmF1bHQgPSBkdW1teTsKfSkoKTsK",{type:"classic"})}},dh=class{constructor(){mt(this,"_workers",new Map),mt(this,"_animationWorkerMap",new Map)}getWorker(n){return this._workers.has(n)||this._workers.set(n,new hh),this._workers.get(n)}assignAnimationToWorker(n,t){this._animationWorkerMap.set(n,t)}unassignAnimationFromWorker(n){this._animationWorkerMap.delete(n)}sendMessage(n,t,e){this.getWorker(n).postMessage(t,e||[])}terminateWorker(n){let t=this._workers.get(n);t&&(t.terminate(),this._workers.delete(n))}};function La(n){if(n instanceof OffscreenCanvas)return{width:n.width,height:n.height};let{height:t,width:e}=n.getBoundingClientRect();return{width:e*window.devicePixelRatio,height:t*window.devicePixelRatio}}function Na(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var Ta=class gI{constructor(t){mt(this,"_eventManager",new Pa),mt(this,"_id"),mt(this,"_worker"),mt(this,"_canvas"),mt(this,"_dotLottieInstanceState",{markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:window.devicePixelRatio},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),mt(this,"_created",!1),mt(this,"_pointerUpMethod"),mt(this,"_pointerDownMethod"),mt(this,"_pointerMoveMethod"),mt(this,"_pointerEnterMethod"),mt(this,"_pointerExitMethod"),mt(this,"_onCompleteMethod"),this._canvas=t.canvas,this._id=`dotlottie-${Na()}`;let e=t.workerId||"defaultWorker";this._worker=gI._workerManager.getWorker(e),gI._workerManager.assignAnimationToWorker(this._id,e),gI._wasmUrl&&this._sendMessage("setWasmUrl",{url:gI._wasmUrl}),this._create(t),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this)),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this),this._onCompleteMethod=this._onComplete.bind(this)}async _handleWorkerEvent(t){let e=t.data;e.id||(e.method==="onLoad"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onComplete"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onDestroy"&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),e.method==="onUnfreeze"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(e.result.event)),e.method==="onFrame"&&e.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=e.result.event.currentFrame,this._eventManager.dispatch(e.result.event)),e.method==="onRender"&&e.result.instanceId===this._id&&this._eventManager.dispatch(e.result.event),e.method==="onFreeze"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onPause"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onPlay"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onStop"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onLoadError"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)),e.method==="onReady"&&e.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(e.result.event)))}async _create(t){let e;this._canvas instanceof HTMLCanvasElement?e=this._canvas.transferControlToOffscreen():e=this._canvas;let{instanceId:g}=await this._sendMessage("create",{instanceId:this._id,config:{...t,canvas:e},...La(this._canvas)},[e]);if(g!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(t){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:t}),await this._updateDotLottieInstanceState())}async setMode(t){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:t}),await this._updateDotLottieInstanceState())}async setFrame(t){this._created&&(await this._sendMessage("setFrame",{frame:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(t,e){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[t,e]}),await this._updateDotLottieInstanceState())}async setRenderConfig(t){this._created&&(await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:t}),await this._updateDotLottieInstanceState())}async setUseFrameInterpolation(t){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:t}),await this._updateDotLottieInstanceState())}async loadTheme(t){if(!this._created)return!1;let e=this._sendMessage("loadTheme",{instanceId:this._id,themeId:t});return await this._updateDotLottieInstanceState(),e}async load(t){this._created&&(await this._sendMessage("load",{config:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(t){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:t}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:t,width:e}=La(this._canvas);this._canvas.width=e,this._canvas.height=t,await this._sendMessage("resize",{height:t,instanceId:this._id,width:e}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),gI._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners())}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(t){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:t}),await this._updateDotLottieInstanceState())}async loadAnimation(t){this._created&&(await this._sendMessage("loadAnimation",{animationId:t,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(t){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:t}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let t=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=t.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(t){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:t}),await this._updateDotLottieInstanceState())}async loadThemeData(t){if(!this._created)return!1;let e=await this._sendMessage("loadThemeData",{instanceId:this._id,themeData:t});return await this._updateDotLottieInstanceState(),e}async setViewport(t,e,g,i){return this._created?this._sendMessage("setViewport",{x:t,y:e,width:g,height:i,instanceId:this._id}):!1}async _sendMessage(t,e,g){let i={id:`dotlottie-request-${Na()}`,method:t,params:e};return this._worker.postMessage(i,g||[]),new Promise((I,C)=>{let r=o=>{let A=o.data;A.id===i.id&&(this._worker.removeEventListener("message",r),A.error?C(new Error(`Failed to execute method ${t}: ${A.error}`)):I(A.result))};this._worker.addEventListener("message",r)})}addEventListener(t,e){this._eventManager.addEventListener(t,e)}removeEventListener(t,e){this._eventManager.removeEventListener(t,e)}static setWasmUrl(t){gI._wasmUrl=t}async loadStateMachine(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:t});return await this._updateDotLottieInstanceState(),e}async loadStateMachineData(t){if(!this._created)return!1;let e=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:t});return await this._updateDotLottieInstanceState(),e}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let t=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),t}async stopStateMachine(){return this._created?(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id})):!1}async postStateMachineEvent(t){return this._created?this._sendMessage("postStateMachineEvent",{event:t,instanceId:this._id}):1}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(t){let e=this._canvas.getBoundingClientRect(),g=this._canvas.width/e.width,i=this._canvas.height/e.height,I=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1,C=(t.clientX-e.left)*g/I,r=(t.clientY-e.top)*i/I;return{x:C,y:r}}_onPointerUp(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerUp: ${e} ${g}`)}_onPointerDown(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerDown: ${e} ${g}`)}_onPointerMove(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerMove: ${e} ${g}`)}_onPointerEnter(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerEnter: ${e} ${g}`)}_onPointerLeave(t){let{x:e,y:g}=this._getPointerPosition(t);this.postStateMachineEvent(`OnPointerExit: ${e} ${g}`)}_onComplete(){this.postStateMachineEvent("OnComplete")}async _setupStateMachineListeners(){if(iI&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let t=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});t.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),t.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),t.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),t.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),t.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod),t.includes("Complete")&&this.addEventListener("complete",this._onCompleteMethod)}}_cleanupStateMachineListeners(){iI&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod),this.removeEventListener("complete",this._onCompleteMethod))}};mt(Ta,"_workerManager",new dh),mt(Ta,"_wasmUrl","");var ph=/(?:^\s+|\s+$)/g,mh=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function No(n){var t=n.nodeType,e="";if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)e+=No(n)}else if(t===3||t===4)return n.nodeValue;return e}function vn(n,t,e,g){for(var i=n.firstChild,I=[],C;i;)i.nodeType===3?(C=(i.nodeValue+"").replace(/^\n+/g,""),g||(C=C.replace(/\s+/g," ")),I.push.apply(I,To(C,t,e,g))):(i.nodeName+"").toLowerCase()==="br"?I[I.length-1]+="<br>":I.push(i.outerHTML),i=i.nextSibling;for(C=I.length;C--;)I[C]==="&"&&I.splice(C,1,"&amp;");return I}function To(n,t,e,g){if(n+="",e&&(n=n.trim?n.trim():n.replace(ph,"")),t&&t!=="")return n.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var i=[],I=n.length,C=0,r,o;C<I;C++)o=n.charAt(C),(o.charCodeAt(0)>=55296&&o.charCodeAt(0)<=56319||n.charCodeAt(C+1)>=65024&&n.charCodeAt(C+1)<=65039)&&(r=((n.substr(C,12).split(mh)||[])[1]||"").length||2,o=n.substr(C,r),i.emoji=1,C+=r-1),i.push(o===">"?"&gt;":o==="<"?"&lt;":g&&o===" "&&(n.charAt(C-1)===" "||n.charAt(C+1)===" ")?"&nbsp;":o);return i}var fC,Rn,fh=function(){return fC||typeof window<"u"&&(fC=window.gsap)&&fC.registerPlugin&&fC},_i={version:"3.12.5",name:"text",init:function(t,e,g){typeof e!="object"&&(e={value:e});var i=t.nodeName.toUpperCase(),I=this,C=e,r=C.newClass,o=C.oldClass,A=C.preserveSpaces,s=C.rtl,u=I.delimiter=e.delimiter||"",d=I.fillChar=e.fillChar||(e.padSpace?"&nbsp;":""),c,m,h,b,B,Z,G,D;if(I.svg=t.getBBox&&(i==="TEXT"||i==="TSPAN"),!("innerHTML"in t)&&!I.svg)return!1;if(I.target=t,!("value"in e)){I.text=I.original=[""];return}for(h=vn(t,u,!1,A),Rn||(Rn=document.createElement("div")),Rn.innerHTML=e.value,m=vn(Rn,u,!1,A),I.from=g._from,(I.from||s)&&!(s&&I.from)&&(i=h,h=m,m=i),I.hasClass=!!(r||o),I.newClass=s?o:r,I.oldClass=s?r:o,i=h.length-m.length,c=i<0?h:m,i<0&&(i=-i);--i>-1;)c.push(d);if(e.type==="diff"){for(b=0,B=[],Z=[],G="",i=0;i<m.length;i++)D=m[i],D===h[i]?G+=D:(B[b]=G+D,Z[b++]=G+h[i],G="");m=B,h=Z,G&&(m.push(G),h.push(G))}e.speed&&g.duration(Math.min(.05/e.speed*c.length,e.maxDuration||9999)),I.rtl=s,I.original=h,I.text=m,I._props.push("text")},render:function(t,e){t>1?t=1:t<0&&(t=0),e.from&&(t=1-t);var g=e.text,i=e.hasClass,I=e.newClass,C=e.oldClass,r=e.delimiter,o=e.target,A=e.fillChar,s=e.original,u=e.rtl,d=g.length,c=(u?1-t:t)*d+.5|0,m,h,b;i&&t?(m=I&&c,h=C&&c!==d,b=(m?"<span class='"+I+"'>":"")+g.slice(0,c).join(r)+(m?"</span>":"")+(h?"<span class='"+C+"'>":"")+r+s.slice(c).join(r)+(h?"</span>":"")):b=g.slice(0,c).join(r)+r+s.slice(c).join(r),e.svg?o.textContent=b:o.innerHTML=A==="&nbsp;"&&~b.indexOf("  ")?b.split("  ").join("&nbsp;&nbsp;"):b}};_i.splitInnerHTML=vn;_i.emojiSafeSplit=To;_i.getText=No;fh()&&fC.registerPlugin(_i);var xg,Po,bh,kn,$a,tl,za,xo,el,gl=function(){return typeof window<"u"},il=function(){return xg||gl()&&(xg=window.gsap)&&xg.registerPlugin&&xg},Gh=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Eo={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},II=function(t){return Math.round(t*1e4)/1e4},li=function(t){return parseFloat(t)||0},Oa=function(t,e){var g=li(t);return~t.indexOf("%")?g/100*e:g},Fn=function(t,e){return li(t.getAttribute(e))},Xn=Math.sqrt,Ua=function(t,e,g,i,I,C){return Xn(Math.pow((li(g)-li(t))*I,2)+Math.pow((li(i)-li(e))*C,2))},Qa=function(t){return console.warn(t)},Il=function(t){return t.getAttribute("vector-effect")==="non-scaling-stroke"},Bh=1,Zh=function(t,e,g){var i=t.indexOf(" "),I,C;return i<0?(I=g!==void 0?g+"":t,C=t):(I=t.substr(0,i),C=t.substr(i+1)),I=Oa(I,e),C=Oa(C,e),I>C?[C,I]:[I,C]},Hn=function(t){if(t=Po(t)[0],!t)return 0;var e=t.tagName.toLowerCase(),g=t.style,i=1,I=1,C,r,o,A,s,u,d;Il(t)&&(I=t.getScreenCTM(),i=Xn(I.a*I.a+I.b*I.b),I=Xn(I.d*I.d+I.c*I.c));try{r=t.getBBox()}catch{Qa("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var c=r||{x:0,y:0,width:0,height:0},m=c.x,h=c.y,b=c.width,B=c.height;if((!r||!b&&!B)&&Eo[e]&&(b=Fn(t,Eo[e][0]),B=Fn(t,Eo[e][1]),e!=="rect"&&e!=="line"&&(b*=2,B*=2),e==="line"&&(m=Fn(t,"x1"),h=Fn(t,"y1"),b=Math.abs(b-m),B=Math.abs(B-h))),e==="path")A=g.strokeDasharray,g.strokeDasharray="none",C=t.getTotalLength()||0,II(i)!==II(I)&&!za&&(za=1)&&Qa("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),C*=(i+I)/2,g.strokeDasharray=A;else if(e==="rect")C=b*2*i+B*2*I;else if(e==="line")C=Ua(m,h,m+b,h+B,i,I);else if(e==="polyline"||e==="polygon")for(o=t.getAttribute("points").match(Gh)||[],e==="polygon"&&o.push(o[0],o[1]),C=0,s=2;s<o.length;s+=2)C+=Ua(o[s-2],o[s-1],o[s],o[s+1],i,I)||0;else(e==="circle"||e==="ellipse")&&(u=b/2*i,d=B/2*I,C=Math.PI*(3*(u+d)-Xn((3*u+d)*(u+3*d))));return C||0},ja=function(t,e){if(t=Po(t)[0],!t)return[0,0];e||(e=Hn(t)+1);var g=kn.getComputedStyle(t),i=g.strokeDasharray||"",I=li(g.strokeDashoffset),C=i.indexOf(",");return C<0&&(C=i.indexOf(" ")),i=C<0?e:li(i.substr(0,C)),i>e&&(i=e),[-I||0,i-I||0]},qa=function(){gl()&&(bh=document,kn=window,tl=xg=il(),Po=xg.utils.toArray,xo=xg.core.getStyleSaver,el=xg.core.reverting||function(){},$a=((kn.navigator||{}).userAgent||"").indexOf("Edge")!==-1)},Mo={version:"3.12.5",name:"drawSVG",register:function(t){xg=t,qa()},init:function(t,e,g,i,I){if(!t.getBBox)return!1;tl||qa();var C=Hn(t),r,o,A;return this.styles=xo&&xo(t,"strokeDashoffset,strokeDasharray,strokeMiterlimit"),this.tween=g,this._style=t.style,this._target=t,e+""=="true"?e="0 100%":e?(e+"").indexOf(" ")===-1&&(e="0 "+e):e="0 0",r=ja(t,C),o=Zh(e,C,r[0]),this._length=II(C),this._dash=II(r[1]-r[0]),this._offset=II(-r[0]),this._dashPT=this.add(this,"_dash",this._dash,II(o[1]-o[0]),0,0,0,0,0,1),this._offsetPT=this.add(this,"_offset",this._offset,II(-o[0]),0,0,0,0,0,1),$a&&(A=kn.getComputedStyle(t),A.strokeLinecap!==A.strokeLinejoin&&(o=li(A.strokeMiterlimit),this.add(t.style,"strokeMiterlimit",o,o+.01))),this._live=Il(t)||~(e+"").indexOf("live"),this._nowrap=~(e+"").indexOf("nowrap"),this._props.push("drawSVG"),Bh},render:function(t,e){if(e.tween._time||!el()){var g=e._pt,i=e._style,I,C,r,o;if(g){for(e._live&&(I=Hn(e._target),I!==e._length&&(C=I/e._length,e._length=I,e._offsetPT&&(e._offsetPT.s*=C,e._offsetPT.c*=C),e._dashPT?(e._dashPT.s*=C,e._dashPT.c*=C):e._dash*=C));g;)g.r(t,g.d),g=g._next;r=e._dash||t&&t!==1&&1e-4||0,I=e._length-r+.1,o=e._offset,r&&o&&r+Math.abs(o%e._length)>e._length-.2&&(o+=o<0?.1:-.1)&&(I+=.1),i.strokeDashoffset=r?o:o+.001,i.strokeDasharray=I<.2?"none":r?r+"px,"+(e._nowrap?999999:I)+"px":"0px, 999999px"}}else e.styles.revert()},getLength:Hn,getPosition:ja};il()&&xg.registerPlugin(Mo);vt.registerPlugin(_i,Mo);function Jo(){let n=vt.timeline({repeat:-1,paused:!0,repeatDelay:1}),t=vt.timeline();return t.to(".lic-anim_cursor",{opacity:1,duration:.5}).to(".lic-anim_cursor",{bottom:"0.5rem",duration:1,ease:"power2.out"}).to(".lic-anim_card.is-first",{scale:1.01,duration:.15}).to(".lic-anim_card.is-first",{scale:1,duration:.1}).to(".lic-anim_card:not(.is-first)",{delay:.2,opacity:0,height:0,padding:0,duration:.5}).to(".lic-anim_card.is-first .lic-anim_card-img",{width:"6rem",height:"6rem"},"<0%").to(" .lic-anim_card.is-first .lic-anim_active-badge",{width:"3rem",height:"auto",opacity:1},"<0%").to(".lic-anim_card-inner-right-wrap .icon-embed-xsmall",{opacity:0,height:0,width:0},"<0%").to(".lic-anim_card-btn",{height:"auto",opacity:1},"<0%").to(".lic-anim_cursor",{delay:.3,bottom:"0rem",right:"0rem",duration:.8,ease:"power2.out"}).to(".lic-anim_btn-fill",{fill:"#808080",duration:.2},"<75%").to(".lic-anim_card-btn",{scale:1.02,duration:.15}).to(".lic-anim_card-btn",{scale:1,duration:.1}).to(".lic-anim_cards-wrap",{delay:.2,opacity:0}).to(".lic-anim-input",{opacity:1,height:"4rem",paddingTop:"0.75rem",paddingBottom:"0.75rem"},"<0%").to(".lic-anim-input",{borderColor:"#E0E0E0",duration:.2}).to(".lic-anim_cursor-2",{opacity:1},"<0%").add(()=>{let e=vt.timeline().fromTo(".lic-anim_input-line",{autoAlpha:0},{autoAlpha:1,duration:.75,repeat:-1,ease:"step(1)"})}).to(".lic-anim-input-text",{text:{value:"********"},duration:3,delay:1,ease:"none"}).to(".lic-anim_cursor-2",{right:"0rem",bottom:"0rem"}).to(".lic-anim_input-btn",{scale:1.05,duration:.15}).to(".lic-anim_input-btn",{scale:1,duration:.1}).to(".lic-anim-input",{opacity:0,overflow:"hidden",duration:.2}).to(".lic-anim_loading-svg",{opacity:1}).fromTo(".lic-anim_loading-svg path",{ease:"none",drawSVG:0},{drawSVG:"0% 100%",duration:1,ease:"circ.out"}).to(".lic-anim_loading-svg",{opacity:0,scale:0,duration:.2}).to(".lic-anim_success-svg",{opacity:1,scale:1,duration:.6,ease:"power4.out"},"<30%").to(".lic-anim_success-svg",{opacity:0,scale:0,duration:.6,ease:"power4.out"}).to(".lic-anim_card.is-first .lic-anim_card-img",{width:"3rem",height:"3rem",duration:0}).to(" .lic-anim_card.is-first .lic-anim_active-badge",{width:"0",height:"0",opacity:0,duration:0}).to(".lic-anim_card-inner-right-wrap .icon-embed-xsmall",{opacity:1,height:"1.5rem",width:"1.5rem",duration:0}).to(".lic-anim_card-btn",{height:0,opacity:0,duration:0}).to(".lic-anim_cursor",{opacity:0,duration:0}).to(".lic-anim_card:not(.is-first)",{height:"auto",padding:"0.75rem",opacity:1,duration:0}).to(".lic-anim_cursor",{opacity:1,bottom:"-6rem",right:"-2rem",duration:0}).to(".lic-anim_cards-wrap",{delay:1,height:"100%",opacity:1}),n.add(t),n}vt.registerPlugin(_i);function zo(){let n=document.querySelectorAll(".embed-anim_process-icon path"),t=vt.timeline({paused:!0,repeat:-1,repeatDelay:1});return t.to(".embed-anim_cursor",{delay:1,duration:.6,bottom:"45%"}).to(".embed-add-btn",{scale:1.02,duration:.15}).to(".embed-add-btn",{scale:1,duration:.1}).to(".embed-anim_product-add",{delay:.2,height:"0px",opacity:0}).to(".embed-anim_product-added",{height:"auto",opacity:1},"<0%").to(".embed-anim_cursor",{bottom:"45%",duration:.6}).to(".embed-anim_cursor",{delay:.4,bottom:"0%",right:"15%"}).to(".embed-anim_checkout-btn",{scale:1.01,duration:.15}).to(".embed-anim_checkout-btn",{scale:1,duration:.1}).to(".embed-anim_top-wrap, .embed-anim_bottom-bar",{delay:.2,opacity:0}).to(".embed-anim_seconds-scene-wrap",{delay:.6,opacity:1}).to(n,{opacity:1,stagger:{each:.1,from:"start"}}).add(()=>{let e=vt.timeline().to(".embed-anim_process-h-step",{text:{value:"1"},duration:.1,ease:"none"},"<0%").to(".embed-anim_process-h-step",{text:{value:"2"},delay:.2,duration:.2,ease:"none"}).to(".embed-anim_process-h-step",{text:{value:"3"},delay:.1,duration:.2,ease:"none"})},"<0%").to(".embed-anim_process-icon,.embed-anim_process-h, .embed-anim_process-text",{opacity:0}).to(".embed-anim_success-icon",{opacity:1}).to(".embed-anim_process-h",{text:{value:"Your Payment is Successful"},duration:0,ease:"none"},"<0%").to(".embed-anim_process-text",{text:{value:"Your invoice has been paid. You will receive the confirmation email aswell, check your email!"},duration:0,ease:"none"},"<0%").to(".embed-anim_process-h, .embed-anim_process-text",{opacity:1},"<0%").to(".embed-anim_back-wrap",{opacity:1},"<0%").to(".embed-anim_seconds-scene-wrap",{delay:.8,opacity:0}).to(".embed-anim_third-scene-wrap",{opacity:1}).to(".embed-anim_third-scene-wrap",{delay:.8,opacity:0}).to(".embed-anim_product-add",{height:"auto",opacity:1,duration:0}).to(".embed-anim_product-added",{height:0,opacity:0,duration:0}).to(".embed-anim_cursor",{bottom:"10%",right:"10%",duration:0}).to(".embed-anim_process-h-step",{text:{value:"0"},duration:0}).to(".embed-anim_top-wrap, .embed-anim_bottom-bar",{opacity:1}),t}vt.registerPlugin(nt,Ro,hC);var bC=document.querySelector(".navbar_component"),yh=bC.offsetHeight,Dh=vt.timeline();Dh.to(bC,{duration:.4,scrollTrigger:{trigger:bC,start:`+=${yh}`,toggleActions:"play none none reverse",invalidateOnRefresh:!0,onEnter:()=>{vt.to(bC,{"--navbar-gradient-color":"rgba(20, 20, 20, 1)"})},onLeaveBack:()=>{vt.to(bC,{"--navbar-gradient-color":"rgba(20, 20, 20, 0)"})}}});var Sh=document.querySelector(".dotlottie-canvas"),wh="https://uploads-ssl.webflow.com/668fb992781d015f5555961f/66bdae719046407196ab6093_sellix_lottie_FIX.lottie",_h=()=>{console.log("Initializing Lottie");let n=new Ja({canvas:Sh,src:wh,autoplay:!1});n.addEventListener("load",()=>{n.setFrame(4),Wh(n)}),n.addEventListener("error",t=>{console.error("Error loading dotLottie animation:",t)})},Wh=n=>{vt.registerPlugin(nt);let t=4;nt.create({trigger:".home-intro_lottie-wrap",start:"top 50%",end:"bottom bottom",scrub:1.2,onUpdate:e=>{let g=n.totalFrames,i=e.progress,I=Math.max(Math.floor(i*g),t);n.setFrame(I)}})},Yh=new IntersectionObserver((n,t)=>{n.forEach(e=>{e.isIntersecting&&(_h(),t.unobserve(e.target))})},{rootMargin:"0px 0px 50px 0px"}),Kh=document.querySelector(".home-intro_lottie-wrap");Yh.observe(Kh);var Oo=document.querySelectorAll(".home-intro_inner-wrap");Oo.forEach(n=>{nt.create({trigger:n,start:"top 60%",end:"bottom 50%",invalidateOnRefresh:!0,onEnter:()=>{vt.to(Oo,{opacity:.3,duration:.6,ease:"power2.out"}),vt.to(n,{opacity:1,duration:.6,ease:"power2.out"})},onEnterBack:()=>{vt.to(Oo,{opacity:.3,duration:.6,ease:"power2.out"}),vt.to(n,{opacity:1,duration:.6,ease:"power2.out"})}})});nt.create({trigger:".section_logo-garden",start:"top 60%",end:"top 40%",invalidateOnRefresh:!0,onEnter:()=>{let n=vt.timeline().to(".logo-garden_heading",{opacity:1}).to(".marquee-image",{opacity:1,y:0,duration:.6,ease:"power4.out",stagger:{each:.02,from:"center"}},"<20%")}});var Vh=document.querySelectorAll(".timeline_row"),Uo=document.querySelectorAll(".timeline_videos-cms-item .video"),Cl=document.querySelectorAll(".timeline_videos-cms-item"),Wd=vt.matchMedia();Uo.forEach(n=>{n.pause()});function Ln(n,t,e=1){vt.to(n,{opacity:e,duration:1,ease:"power4.out"}),vt.to(Cl,{opacity:0,duration:1,ease:"power4.out"}),vt.to(Cl[t],{opacity:1,duration:1,ease:"power4.out"}),Uo[t].play(),Uo.forEach((g,i)=>{i!==t&&g.pause()})}Vh.forEach((n,t)=>{let e=n.querySelector(".timeline_icon-wrap");nt.create({trigger:n,start:"top 60%",end:"top 0%",onEnter:()=>Ln(e,t,1),onEnterBack:()=>Ln(e,t,1),onLeave:()=>Ln(e,t,.3),onLeaveBack:()=>Ln(e,t,.3)})});nt.create({trigger:".timeline_component",start:"top 30%",end:"bottom 100%",scrub:1.2,onUpdate:n=>{vt.to(".timeline_progress-line",{height:n.progress*100+"%",ease:"none"})}});var Qo=document.querySelector(".horizontal-scroll_track"),vh=document.querySelector(".section.is-horiz-scroll"),Rh=vt.to(Qo,{x:()=>Qo.scrollWidth*-1,xPercent:100,ease:"none"});nt.create({trigger:vh,start:"top 0",end:()=>"+="+Qo.scrollWidth-window.innerWidth,animation:Rh,scrub:1.2,invalidateOnRefresh:!0,pin:!0});var Fh=document.querySelectorAll(".pulse-group");Fh.forEach((n,t)=>{let e=n.querySelector(".pulse-path"),g=n.querySelector(".pulse-line"),i=Math.floor(Math.random()*4)+2,I=Math.floor(Math.random()*3)+1;vt.set(g,{xPercent:-50,yPercent:-50,transformOrigin:"50% 50%"}),vt.to(".pulse-line",{opacity:1,duration:.5}),vt.to(g,{motionPath:{path:e,align:e,autoRotate:!0,alignOrigin:[.5,.5],start:1,end:0},delay:0,duration:i,repeat:-1,repeatDelay:I,ease:"none"}).play()});var Nn=Jo();nt.create({trigger:".features-gallery_card.is-lic",start:"top 50%",end:"bottom 50%",invalidateOnRefresh:!0,onEnter:()=>Nn.play(),onLeave:()=>Nn.pause(),onEnterBack:()=>Nn.play(),onLeaveBack:()=>Nn.pause()});var Tn=zo();nt.create({trigger:".features-gallery_card.is-embed",start:"top 50%",end:"bottom 50%",invalidateOnRefresh:!0,onEnter:()=>Tn.play(),onLeave:()=>Tn.pause(),onEnterBack:()=>Tn.play(),onLeaveBack:()=>Tn.pause()});})();
/*! Bundled license information:

gsap/gsap-core.js:
  (*!
   * GSAP 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/Observer.js:
  (*!
   * Observer 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/ScrollTrigger.js:
  (*!
   * ScrollTrigger 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/matrix.js:
  (*!
   * matrix 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/Flip.js:
  (*!
   * Flip 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/paths.js:
  (*!
   * paths 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/MotionPathPlugin.js:
  (*!
   * MotionPathPlugin 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/strings.js:
  (*!
   * strings: 3.12.5
   * https://gsap.com
   *
   * Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/TextPlugin.js:
  (*!
   * TextPlugin 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/DrawSVGPlugin.js:
  (*!
   * DrawSVGPlugin 3.12.5
   * https://gsap.com
   *
   * @license Copyright 2008-2024, GreenSock. All rights reserved.
   * Subject to the terms at https://gsap.com/standard-license or for
   * Club GSAP members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)
*/
